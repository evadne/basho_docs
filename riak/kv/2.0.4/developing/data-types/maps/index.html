<!DOCTYPE html>







<html class="no-js" lang="en">




<head>

  <meta charset="utf-8">
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
  <meta name="viewport" content="width=device-width">
  <link rel="shortcut icon" href="//evadne.github.io/basho_docs/images/branding/favicon.ico" type="image/x-icon" />

  <title>Developing with Riak KV Data Types: Maps</title>

  <link href="//evadne.github.io/basho_docs/css/main.css" media="screen" rel="stylesheet" type="text/css">
  <link rel="canonical" href="//evadne.github.io/basho_docs/riak/kv/latest/developing/data-types/maps/" />
  <!-- The below meta tags are included to allow JS code to use variables
       defined in Hugo---our static site generator. -->
  <meta name="project" content="riak_kv">
  <meta name="version" content="2.0.4">
  <meta name="project_relative_path" content="developing/data-types/maps/">

</head>



<body class="riak_kv 2.0.4  ">


  <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-T9C8MK" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-T9C8MK');</script>


  
<header class="banner">



  
  <div class="float-right   banner__menu-bars   [bs] hidden-md-up">
    <div class="menu-bars   js_toggle-content-nav"></div>
  </div>



  
  <div class="float-left   banner__docs-logo">
    <a href="//evadne.github.io/basho_docs/index.html" class="block   docs-logo"><img class="docs-logo__image" src="//evadne.github.io/basho_docs/images/branding/basho_docs_logo.png"></a>
  </div>



  
  <div class="overflow-hidden   banner__navigation-pane   [bs] hidden-sm-down">


    
    <div class="float-left    banner__intra-brand__width-wrapper">
    <div class="float-right   banner__intra-brand">
      <div class="float-right">
        
        <a class="inline-block   banner__brand-link" href="http://basho.com/">Basho</a><a class="inline-block   banner__brand-link" href="https://academy.basho.com">Academy</a><a class="inline-block   banner__brand-link" href="//evadne.github.io/basho_docs/community">Community</a><a class="inline-block   banner__brand-link" href="http://basho.com/contact">Contact</a></div>
    </div>
    </div>




    
    <div class="float-left    banner__intra-site__width-wrapper">
    <div class="float-right   banner__intra-site">
      
      <a class="inline-block   banner__brand-link banner__brand-link--current">Riak KV</a><a class="inline-block   banner__brand-link " href="//evadne.github.io/basho_docs/riak/ts/latest/">Riak TS</a><a class="inline-block   banner__brand-link " href="//evadne.github.io/basho_docs/riak/cs/latest/">Riak CS</a></div>
    </div>


  </div>

</header>



  
  



<nav class="content-nav content-nav--top-size-full">




  <div class="content-nav__fixed-top">
    <form id="searchbox_011972015458788978446:zgdcy4fa-o0" class="search" action="">

      <span class="block float-left   search__icon-container   docs-icon--search">|</span>

      <span class="block overflow">
        <input class="search__input" id="main-search" type="search" name="q" placeholder="Search">
      </span>

    </form>


    <div class="clearfix   version-picker">

  
      <a class="inline-block float-left    product__title" href="//evadne.github.io/basho_docs/"><img class="product__logo" src="//evadne.github.io/basho_docs/images/branding/riak-logo.png">Riak<span class="product__title-highlight">KV</span>
      </a>
  

      <div class="inline-block float-right   selector selector--version">
        <header class="selector__title">Versions</header>
        <button class="selector__btn" type="button">2.0.4</button>
        <div    class="selector__arrow"></div>
      </div>

    </div>


  </div>


  
  <div class="overflow-y-hidden   selector-pane__sizing-box selector-pane__sizing-box--hidden">
  <div class="                    selector-pane__shadow-box">

    
    <div class="edge-fader edge-fader--left">
      <span class="inline-block   edge-fader__arrow edge-fader__arrow--invisible"></span>
    </div>
    <div class="edge-fader edge-fader--right">
      <span class="inline-block   edge-fader__arrow edge-fader__arrow--invisible"></span>
    </div>

    <div class="overflow-x        selector-pane__primary selector-pane--versions  js_edge-fader--target">
      
    </div>
  </div>
  </div>




  
  <div class="             content-nav__primary__sizing-box">
  <div class="             content-nav__primary__shadow-box">
  <div class="overflow-y   content-nav__primary">

    <div class="content-nav__menu-container">

      <ul class="content-menu
                 content-menu--depth-0
                 content-menu--open">


        <li >

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--riak">|</span>
            <span class="block float-right   content-menu__menu-toggle
                        ">
            </span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/" >
              <span class="block   content-menu__item__right-border"><strong>Riak KV</strong></span>
            </a>

          </div>
          
          


<ul class="content-menu
           content-menu--depth-1
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/introduction/" >
        <span class="block   content-menu__item__right-border">Intro to Riak KV 2.0</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/release-notes/" >
        <span class="block   content-menu__item__right-border">Release Notes</span>
      </a>

    </div>

  </li>



</ul>

        </li>


        <li class="content-menu__download-entry">

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--download-alt">|</span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/downloads/" >
              <span class="block   content-menu__item__right-border"><strong>Download Riak KV</strong></span>
            </a>

          </div>

        </li>


        <li >

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--install">|</span>
            <span class="block float-right   content-menu__menu-toggle
                        ">
            </span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/" >
              <span class="block   content-menu__item__right-border"><strong>Setup</strong></span>
            </a>

          </div>
          
          


<ul class="content-menu
           content-menu--depth-1
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/planning/" >
        <span class="block   content-menu__item__right-border">Planning</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/planning/start/" >
        <span class="block   content-menu__item__right-border">Start Planning</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/planning/operating-system/" >
        <span class="block   content-menu__item__right-border">OS Support</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/planning/backend/" >
        <span class="block   content-menu__item__right-border">Choosing a Backend</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/planning/backend/bitcask/" >
        <span class="block   content-menu__item__right-border">Bitcask</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/planning/backend/leveldb/" >
        <span class="block   content-menu__item__right-border">LevelDB</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/planning/backend/memory/" >
        <span class="block   content-menu__item__right-border">Memory</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/planning/backend/multi/" >
        <span class="block   content-menu__item__right-border">Multi-backend</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/planning/cluster-capacity/" >
        <span class="block   content-menu__item__right-border">Cluster Capacity</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/planning/bitcask-capacity-calc/" >
        <span class="block   content-menu__item__right-border">Bitcask Capacity Calculator</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/planning/best-practices/" >
        <span class="block   content-menu__item__right-border">Best Practices</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/installing/" >
        <span class="block   content-menu__item__right-border">Installing</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/installing/amazon-web-services/" >
        <span class="block   content-menu__item__right-border">Amazon Web Services</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/installing/debian-ubuntu/" >
        <span class="block   content-menu__item__right-border">Debian &amp; Ubuntu</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/installing/freebsd/" >
        <span class="block   content-menu__item__right-border">FreeBSD</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/installing/mac-osx/" >
        <span class="block   content-menu__item__right-border">Mac OS X</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/installing/rhel-centos/" >
        <span class="block   content-menu__item__right-border">RHEL &amp; CentOS</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/installing/smartos/" >
        <span class="block   content-menu__item__right-border">SmartOS</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/installing/solaris/" >
        <span class="block   content-menu__item__right-border">Solaris</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/installing/suse/" >
        <span class="block   content-menu__item__right-border">SUSE</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/installing/windows-azure/" >
        <span class="block   content-menu__item__right-border">Windows Azure</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/installing/source/" >
        <span class="block   content-menu__item__right-border">Installing From Source</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/installing/source/erlang/" >
        <span class="block   content-menu__item__right-border">Installing Erlang</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/installing/source/jvm/" >
        <span class="block   content-menu__item__right-border">Installing the JVM</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/installing/verify/" >
        <span class="block   content-menu__item__right-border">Verifying an Installation</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/upgrading/" >
        <span class="block   content-menu__item__right-border">Upgrading</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/upgrading/checklist/" >
        <span class="block   content-menu__item__right-border">Production Checklist</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/upgrading/version/" >
        <span class="block   content-menu__item__right-border">Upgrading to 2.0</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/upgrading/cluster/" >
        <span class="block   content-menu__item__right-border">Upgrading a Cluster</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/upgrading/search/" >
        <span class="block   content-menu__item__right-border">Upgrading Search 1.x to 2.x</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/downgrade/" >
        <span class="block   content-menu__item__right-border">Downgrading</span>
      </a>

    </div>

  </li>



</ul>

        </li>


        <li >

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--cog">|</span>
            <span class="block float-right   content-menu__menu-toggle
                        ">
            </span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/" >
              <span class="block   content-menu__item__right-border"><strong>Configuring</strong></span>
            </a>

          </div>
          
          


<ul class="content-menu
           content-menu--depth-1
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/basic/" >
        <span class="block   content-menu__item__right-border">Basic Configuration</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/backend/" >
        <span class="block   content-menu__item__right-border">Backend Configuration</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/managing/" >
        <span class="block   content-menu__item__right-border">Managing Configuration</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/reference/" >
        <span class="block   content-menu__item__right-border">Configuration Reference</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/strong-consistency/" >
        <span class="block   content-menu__item__right-border">Implementing Strong Consistency</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/load-balancing-proxy/" >
        <span class="block   content-menu__item__right-border">Load Balancing &amp; Proxy</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/mapreduce/" >
        <span class="block   content-menu__item__right-border">MapReduce Settings</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/search/" >
        <span class="block   content-menu__item__right-border">Search Settings</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/v3-multi-datacenter/" >
        <span class="block   content-menu__item__right-border">V3 Multi-Datacenter</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/v3-multi-datacenter/quick-start/" >
        <span class="block   content-menu__item__right-border">Quickstart</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/v3-multi-datacenter/nat/" >
        <span class="block   content-menu__item__right-border">With NAT</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/v3-multi-datacenter/ssl/" >
        <span class="block   content-menu__item__right-border">SSL</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/v2-multi-datacenter/" >
        <span class="block   content-menu__item__right-border">V2 Multi-Datacenter</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/v2-multi-datacenter/quick-start/" >
        <span class="block   content-menu__item__right-border">Quickstart</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/v2-multi-datacenter/nat/" >
        <span class="block   content-menu__item__right-border">With NAT</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/v2-multi-datacenter/ssl/" >
        <span class="block   content-menu__item__right-border">SSL</span>
      </a>

    </div>

  </li>



</ul>

  </li>



</ul>

        </li>


        <li >

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--database">|</span>
            <span class="block float-right   content-menu__menu-toggle
                        ">
            </span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/" >
              <span class="block   content-menu__item__right-border"><strong>Using</strong></span>
            </a>

          </div>
          
          


<ul class="content-menu
           content-menu--depth-1
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/running-a-cluster/" >
        <span class="block   content-menu__item__right-border">Running a Cluster</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/admin/" >
        <span class="block   content-menu__item__right-border">Cluster Administration</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/admin/commands/" >
        <span class="block   content-menu__item__right-border">Cluster Admin Commands</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/admin/riak-admin/" >
        <span class="block   content-menu__item__right-border">riak-admin CLI</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/admin/riak-cli/" >
        <span class="block   content-menu__item__right-border">riak CLI</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/admin/riak-control/" >
        <span class="block   content-menu__item__right-border">Riak Control</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/cluster-operations/" >
        <span class="block   content-menu__item__right-border">Cluster Operations</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/cluster-operations/adding-removing-nodes/" >
        <span class="block   content-menu__item__right-border">Adding/Removing Nodes</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/cluster-operations/changing-cluster-info/" >
        <span class="block   content-menu__item__right-border">Changing Cluster Info</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/cluster-operations/replacing-node/" >
        <span class="block   content-menu__item__right-border">Replacing a Node</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/cluster-operations/inspecting-node/" >
        <span class="block   content-menu__item__right-border">Inspecting a Node</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/cluster-operations/bucket-types/" >
        <span class="block   content-menu__item__right-border">Bucket Types</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/cluster-operations/logging/" >
        <span class="block   content-menu__item__right-border">Logging</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/cluster-operations/backing-up/" >
        <span class="block   content-menu__item__right-border">Backing Up</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/cluster-operations/handoff/" >
        <span class="block   content-menu__item__right-border">Handoff</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/cluster-operations/strong-consistency/" >
        <span class="block   content-menu__item__right-border">Monitoring Strong Consistency</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/cluster-operations/active-anti-entropy/" >
        <span class="block   content-menu__item__right-border">Managing Active Anti-Entropy</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/cluster-operations/v3-multi-datacenter/" >
        <span class="block   content-menu__item__right-border">V3 Multi-Datacenter</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/cluster-operations/v2-multi-datacenter/" >
        <span class="block   content-menu__item__right-border">V2 Multi-Datacenter</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/repair-recovery/" >
        <span class="block   content-menu__item__right-border">Repair &amp; Recovery</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/repair-recovery/failure-recovery/" >
        <span class="block   content-menu__item__right-border">Failure &amp; Recovery</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/repair-recovery/errors/" >
        <span class="block   content-menu__item__right-border">Errors</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/repair-recovery/repairs/" >
        <span class="block   content-menu__item__right-border">Repairs</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/repair-recovery/rolling-restart/" >
        <span class="block   content-menu__item__right-border">Rolling Restarts</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/repair-recovery/failed-node/" >
        <span class="block   content-menu__item__right-border">Recover a Failed Node</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/repair-recovery/secondary-indexes/" >
        <span class="block   content-menu__item__right-border">Repair Secondary Indexes</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/security/" >
        <span class="block   content-menu__item__right-border">Security</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/security/basics/" >
        <span class="block   content-menu__item__right-border">Security Basics</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/security/managing-sources/" >
        <span class="block   content-menu__item__right-border">Managing Security Sources</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/performance/" >
        <span class="block   content-menu__item__right-border">Performance</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/performance/benchmarking/" >
        <span class="block   content-menu__item__right-border">Benchmarking</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/performance/open-files-limit/" >
        <span class="block   content-menu__item__right-border">Open Files Limit</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/performance/v2-scheduling-fullsync/" >
        <span class="block   content-menu__item__right-border">V2 Scheduling Fullsync</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/performance/latency-reduction/" >
        <span class="block   content-menu__item__right-border">Latency Reduction</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/performance/erlang/" >
        <span class="block   content-menu__item__right-border">Erlang VM</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/performance/amazon-web-services/" >
        <span class="block   content-menu__item__right-border">Amazon Web Services</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/performance/multi-datacenter-tuning/" >
        <span class="block   content-menu__item__right-border">Multi-Datacenter Replication</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/troubleshooting/" >
        <span class="block   content-menu__item__right-border">Troubleshooting</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/troubleshooting/http-204/" >
        <span class="block   content-menu__item__right-border">HTTP 204</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/" >
        <span class="block   content-menu__item__right-border">Reference</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/logging/" >
        <span class="block   content-menu__item__right-border">Logging</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/handoff/" >
        <span class="block   content-menu__item__right-border">Handoff</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/bucket-types/" >
        <span class="block   content-menu__item__right-border">Bucket Types</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/object-deletion/" >
        <span class="block   content-menu__item__right-border">Object Deletion</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/runtime-interaction/" >
        <span class="block   content-menu__item__right-border">Runtime Interaction</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/statistics-monitoring/" >
        <span class="block   content-menu__item__right-border">Monitoring</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/snmp/" >
        <span class="block   content-menu__item__right-border">SNMP</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/jmx/" >
        <span class="block   content-menu__item__right-border">JMX Monitoring</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/search/" >
        <span class="block   content-menu__item__right-border">Search</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/secondary-indexes/" >
        <span class="block   content-menu__item__right-border">Secondary Indexes</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/custom-code/" >
        <span class="block   content-menu__item__right-border">Installing Custom Code</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/strong-consistency/" >
        <span class="block   content-menu__item__right-border">Strong Consistency</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/multi-datacenter/" >
        <span class="block   content-menu__item__right-border">Multi-Datacenter</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/multi-datacenter/statistics/" >
        <span class="block   content-menu__item__right-border">Statistics</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/multi-datacenter/per-bucket-replication/" >
        <span class="block   content-menu__item__right-border">Per Bucket</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/multi-datacenter/monitoring/" >
        <span class="block   content-menu__item__right-border">Monitoring</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/multi-datacenter/comparison/" >
        <span class="block   content-menu__item__right-border">Comparison</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/v3-multi-datacenter/" >
        <span class="block   content-menu__item__right-border">V3 Replication</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/v3-multi-datacenter/architecture/" >
        <span class="block   content-menu__item__right-border">Architecture</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/v3-multi-datacenter/aae/" >
        <span class="block   content-menu__item__right-border">Active Anti-Entropy</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/v3-multi-datacenter/cascading-writes/" >
        <span class="block   content-menu__item__right-border">Cascading Writes</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/v3-multi-datacenter/scheduling-fullsync/" >
        <span class="block   content-menu__item__right-border">Scheduling Fullsync</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/v2-multi-datacenter/" >
        <span class="block   content-menu__item__right-border">V2 Replication</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/v2-multi-datacenter/architecture/" >
        <span class="block   content-menu__item__right-border">Architecture</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/v2-multi-datacenter/scheduling-fullsync/" >
        <span class="block   content-menu__item__right-border">Scheduling Fullsync</span>
      </a>

    </div>

  </li>



</ul>

  </li>



</ul>

  </li>



</ul>

        </li>


        <li >

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--lambda">|</span>
            <span class="block float-right   content-menu__menu-toggle
                         content-menu__menu-toggle--open ">
            </span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/" >
              <span class="block   content-menu__item__right-border"><strong>Developing</strong></span>
            </a>

          </div>
          
          


<ul class="content-menu
           content-menu--depth-1
           content-menu--open"
    style="display: block">



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/" >
        <span class="block   content-menu__item__right-border">Getting Started</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/java/" >
        <span class="block   content-menu__item__right-border">Java</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/java/crud-operations/" >
        <span class="block   content-menu__item__right-border">CRUD Operations</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/java/querying/" >
        <span class="block   content-menu__item__right-border">Querying</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/java/object-modeling/" >
        <span class="block   content-menu__item__right-border">Object Modeling</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/ruby/" >
        <span class="block   content-menu__item__right-border">Ruby</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/ruby/crud-operations/" >
        <span class="block   content-menu__item__right-border">CRUD Operations</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/ruby/querying/" >
        <span class="block   content-menu__item__right-border">Querying</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/ruby/object-modeling/" >
        <span class="block   content-menu__item__right-border">Object Modeling</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/python/" >
        <span class="block   content-menu__item__right-border">Python</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/python/crud-operations/" >
        <span class="block   content-menu__item__right-border">CRUD Operations</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/python/querying/" >
        <span class="block   content-menu__item__right-border">Querying</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/python/object-modeling/" >
        <span class="block   content-menu__item__right-border">Object Modeling</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/csharp/" >
        <span class="block   content-menu__item__right-border">C Sharp</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/csharp/crud-operations/" >
        <span class="block   content-menu__item__right-border">CRUD Operations</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/csharp/querying/" >
        <span class="block   content-menu__item__right-border">Querying</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/csharp/object-modeling/" >
        <span class="block   content-menu__item__right-border">Object Modeling</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/nodejs/" >
        <span class="block   content-menu__item__right-border">NodeJS</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/nodejs/crud-operations/" >
        <span class="block   content-menu__item__right-border">CRUD Operations</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/nodejs/querying/" >
        <span class="block   content-menu__item__right-border">Querying</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/nodejs/object-modeling/" >
        <span class="block   content-menu__item__right-border">Object Modeling</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/erlang/" >
        <span class="block   content-menu__item__right-border">Erlang</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/erlang/crud-operations/" >
        <span class="block   content-menu__item__right-border">CRUD Operations</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/erlang/querying/" >
        <span class="block   content-menu__item__right-border">Querying</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/erlang/object-modeling/" >
        <span class="block   content-menu__item__right-border">Object Modeling</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/golang/" >
        <span class="block   content-menu__item__right-border">Go</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/golang/crud-operations/" >
        <span class="block   content-menu__item__right-border">CRUD Operations</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/golang/querying/" >
        <span class="block   content-menu__item__right-border">Querying</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/golang/object-modeling/" >
        <span class="block   content-menu__item__right-border">Object Modeling</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/php/" >
        <span class="block   content-menu__item__right-border">PHP</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/php/crud-operations/" >
        <span class="block   content-menu__item__right-border">CRUD Operations</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/php/querying/" >
        <span class="block   content-menu__item__right-border">Querying</span>
      </a>

    </div>

  </li>



</ul>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/" >
        <span class="block   content-menu__item__right-border">Usage</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/creating-objects/" >
        <span class="block   content-menu__item__right-border">Creating Objects</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/reading-objects/" >
        <span class="block   content-menu__item__right-border">Reading Objects</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/updating-objects/" >
        <span class="block   content-menu__item__right-border">Updating Objects</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/deleting-objects/" >
        <span class="block   content-menu__item__right-border">Deleting Objects</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/content-types/" >
        <span class="block   content-menu__item__right-border">Content Types</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/search/" >
        <span class="block   content-menu__item__right-border">Searching</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/mapreduce/" >
        <span class="block   content-menu__item__right-border">Using MapReduce</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/secondary-indexes/" >
        <span class="block   content-menu__item__right-border">Using Secondary Indexes</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/bucket-types/" >
        <span class="block   content-menu__item__right-border">Bucket Types</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/commit-hooks/" >
        <span class="block   content-menu__item__right-border">Using Commit Hooks</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/search-schemas/" >
        <span class="block   content-menu__item__right-border">Creating Search Schemas</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/searching-data-types/" >
        <span class="block   content-menu__item__right-border">Searching with Data Types</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/document-store/" >
        <span class="block   content-menu__item__right-border">Implementing a Document Store</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/custom-extractors/" >
        <span class="block   content-menu__item__right-border">Custom Extractors</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/security/" >
        <span class="block   content-menu__item__right-border">Security</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/security/java/" >
        <span class="block   content-menu__item__right-border">Java</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/security/ruby/" >
        <span class="block   content-menu__item__right-border">Ruby</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/security/python/" >
        <span class="block   content-menu__item__right-border">Python</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/security/erlang/" >
        <span class="block   content-menu__item__right-border">Erlang</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/security/php/" >
        <span class="block   content-menu__item__right-border">PHP</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/replication/" >
        <span class="block   content-menu__item__right-border">Replication</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/conflict-resolution/" >
        <span class="block   content-menu__item__right-border">Conflict Resolution</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/conflict-resolution/java/" >
        <span class="block   content-menu__item__right-border">Java</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/conflict-resolution/ruby/" >
        <span class="block   content-menu__item__right-border">Ruby</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/conflict-resolution/python/" >
        <span class="block   content-menu__item__right-border">Python</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/conflict-resolution/csharp/" >
        <span class="block   content-menu__item__right-border">C Sharp</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/conflict-resolution/nodejs/" >
        <span class="block   content-menu__item__right-border">NodeJS</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/conflict-resolution/php/" >
        <span class="block   content-menu__item__right-border">PHP</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/conflict-resolution/golang/" >
        <span class="block   content-menu__item__right-border">Go</span>
      </a>

    </div>

  </li>



</ul>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                   content-menu__menu-toggle--open ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/data-types/" >
        <span class="block   content-menu__item__right-border">Data Types</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           content-menu--open"
    style="display: block">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/data-types/counters/" >
        <span class="block   content-menu__item__right-border">Counters</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/data-types/sets/" >
        <span class="block   content-menu__item__right-border">Sets</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item  content-menu__item--selected ">

      <a class="block overflow   content-menu__link--depth-2" >
        <span class="block   content-menu__item__right-border">Maps</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/key-value-modeling/" >
        <span class="block   content-menu__item__right-border">Key/Value Modeling</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/app-guide/" >
        <span class="block   content-menu__item__right-border">Application Guide</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/app-guide/replication-properties/" >
        <span class="block   content-menu__item__right-border">Replication Properties</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/app-guide/strong-consistency/" >
        <span class="block   content-menu__item__right-border">Strong Consistency</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/app-guide/advanced-mapreduce/" >
        <span class="block   content-menu__item__right-border">Advanced MapReduce</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/app-guide/cluster-metadata/" >
        <span class="block   content-menu__item__right-border">Cluster Metadata</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/client-libraries/" >
        <span class="block   content-menu__item__right-border">Client Libraries</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/" >
        <span class="block   content-menu__item__right-border">APIs</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/repl-hooks/" >
        <span class="block   content-menu__item__right-border">V2 Multi-Datacenter REPL Hooks API</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/backend/" >
        <span class="block   content-menu__item__right-border">Backend API</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/" >
        <span class="block   content-menu__item__right-border">HTTP API</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/get-bucket-props/" >
        <span class="block   content-menu__item__right-border">Get Bucket Properties</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/set-bucket-props/" >
        <span class="block   content-menu__item__right-border">Set Bucket Properties</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/reset-bucket-props/" >
        <span class="block   content-menu__item__right-border">Reset Bucket Properties</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/list-buckets/" >
        <span class="block   content-menu__item__right-border">List Buckets</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/list-keys/" >
        <span class="block   content-menu__item__right-border">List Keys</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/fetch-object/" >
        <span class="block   content-menu__item__right-border">Fetch Object</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/store-object/" >
        <span class="block   content-menu__item__right-border">Store Object</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/delete-object/" >
        <span class="block   content-menu__item__right-border">Delete Object</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/mapreduce/" >
        <span class="block   content-menu__item__right-border">MapReduce</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/secondary-indexes/" >
        <span class="block   content-menu__item__right-border">Secondary Indexes</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/ping/" >
        <span class="block   content-menu__item__right-border">Ping</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/status/" >
        <span class="block   content-menu__item__right-border">Status</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/list-resources/" >
        <span class="block   content-menu__item__right-border">List Resources</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/search-query/" >
        <span class="block   content-menu__item__right-border">Search Query</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/search-index-info/" >
        <span class="block   content-menu__item__right-border">Search Index Info</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/fetch-search-index/" >
        <span class="block   content-menu__item__right-border">Fetch Search Index</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/store-search-index/" >
        <span class="block   content-menu__item__right-border">Store Search Index</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/delete-search-index/" >
        <span class="block   content-menu__item__right-border">Delete Search Index</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/fetch-search-schema/" >
        <span class="block   content-menu__item__right-border">Fetch Search Schema</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/store-search-schema/" >
        <span class="block   content-menu__item__right-border">Store Search Schema</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/counters/" >
        <span class="block   content-menu__item__right-border">Counters</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/link-walking/" >
        <span class="block   content-menu__item__right-border">Link Walking</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/" >
        <span class="block   content-menu__item__right-border">Protocol Buffers API</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/list-buckets/" >
        <span class="block   content-menu__item__right-border">List Buckets</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/list-keys/" >
        <span class="block   content-menu__item__right-border">List Keys</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/get-bucket-props/" >
        <span class="block   content-menu__item__right-border">Get Bucket Properties</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/set-bucket-props/" >
        <span class="block   content-menu__item__right-border">Set Bucket Properties</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/reset-bucket-props/" >
        <span class="block   content-menu__item__right-border">Reset Bucket Properties</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/fetch-object/" >
        <span class="block   content-menu__item__right-border">Fetch Object</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/store-object/" >
        <span class="block   content-menu__item__right-border">Store Object</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/delete-object/" >
        <span class="block   content-menu__item__right-border">Delete Object</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/mapreduce/" >
        <span class="block   content-menu__item__right-border">MapReduce</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/secondary-indexes/" >
        <span class="block   content-menu__item__right-border">Secondary Indexes</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/search/" >
        <span class="block   content-menu__item__right-border">Search</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/ping/" >
        <span class="block   content-menu__item__right-border">Ping</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/server-info/" >
        <span class="block   content-menu__item__right-border">Server Info</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/get-bucket-type/" >
        <span class="block   content-menu__item__right-border">Get Bucket Type</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/set-bucket-type/" >
        <span class="block   content-menu__item__right-border">Set Bucket Type</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/dt-fetch/" >
        <span class="block   content-menu__item__right-border">Data Type Fetch</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/dt-union/" >
        <span class="block   content-menu__item__right-border">Data Type Union</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/dt-store/" >
        <span class="block   content-menu__item__right-border">Data Type Store</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/dt-counter-store/" >
        <span class="block   content-menu__item__right-border">Data Type Counter Store</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/dt-set-store/" >
        <span class="block   content-menu__item__right-border">Data Type Set Store</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/dt-map-store/" >
        <span class="block   content-menu__item__right-border">Data Type Map Store</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/yz-index-get/" >
        <span class="block   content-menu__item__right-border">Yokozuna Index Get</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/yz-index-put/" >
        <span class="block   content-menu__item__right-border">Yokozuna Index Put</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/yz-index-delete/" >
        <span class="block   content-menu__item__right-border">Yokozuna Index Delete</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/yz-schema-get/" >
        <span class="block   content-menu__item__right-border">Yokozuna Schema Get</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/yz-schema-put/" >
        <span class="block   content-menu__item__right-border">Yokozuna Schema Put</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/auth-req/" >
        <span class="block   content-menu__item__right-border">Auth Request</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/set-client-id/" >
        <span class="block   content-menu__item__right-border">Set Client ID</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/get-client-id/" >
        <span class="block   content-menu__item__right-border">Get Client ID</span>
      </a>

    </div>

  </li>



</ul>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/faq/" >
        <span class="block   content-menu__item__right-border">Developing FAQ</span>
      </a>

    </div>

  </li>



</ul>

        </li>


        <li >

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--tools">|</span>
            <span class="block float-right   content-menu__menu-toggle
                        ">
            </span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/add-ons/" >
              <span class="block   content-menu__item__right-border"><strong>Add-ons</strong></span>
            </a>

          </div>
          
          


<ul class="content-menu
           content-menu--depth-1
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/add-ons/redis/" >
        <span class="block   content-menu__item__right-border">Redis Add-on</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/add-ons/redis/set-up-rra/" >
        <span class="block   content-menu__item__right-border">Set Up Redis Add-on</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/add-ons/redis/using-rra/" >
        <span class="block   content-menu__item__right-border">Using Redis Addon</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/add-ons/redis/developing-rra/" >
        <span class="block   content-menu__item__right-border">Develop with Redis Add-on</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/add-ons/redis/redis-add-on-features/" >
        <span class="block   content-menu__item__right-border">Redis Add-on Features</span>
      </a>

    </div>

  </li>



</ul>

  </li>



</ul>

        </li>


        <li >

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--beaker">|</span>
            <span class="block float-right   content-menu__menu-toggle
                        ">
            </span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/" >
              <span class="block   content-menu__item__right-border"><strong>Learning</strong></span>
            </a>

          </div>
          
          


<ul class="content-menu
           content-menu--depth-1
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/why-riak-kv/" >
        <span class="block   content-menu__item__right-border">Why Riak KV?</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/use-cases/" >
        <span class="block   content-menu__item__right-border">Use Cases</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/glossary/" >
        <span class="block   content-menu__item__right-border">Riak KV Glossary</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/concepts/" >
        <span class="block   content-menu__item__right-border">Concepts</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/concepts/active-anti-entropy/" >
        <span class="block   content-menu__item__right-border">Active Anti-Entropy</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/concepts/buckets/" >
        <span class="block   content-menu__item__right-border">Buckets</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/concepts/capability-negotiation/" >
        <span class="block   content-menu__item__right-border">Capability Negotiation</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/concepts/causal-context/" >
        <span class="block   content-menu__item__right-border">Causal Context</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/concepts/clusters/" >
        <span class="block   content-menu__item__right-border">Clusters</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/concepts/crdts/" >
        <span class="block   content-menu__item__right-border">Data Types</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/concepts/eventual-consistency/" >
        <span class="block   content-menu__item__right-border">Eventual Consistency</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/concepts/keys-and-objects/" >
        <span class="block   content-menu__item__right-border">Keys and Objects</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/concepts/replication/" >
        <span class="block   content-menu__item__right-border">Replication</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/concepts/strong-consistency/" >
        <span class="block   content-menu__item__right-border">Strong Consistency</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/concepts/vnodes/" >
        <span class="block   content-menu__item__right-border">Vnodes</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/dynamo/" >
        <span class="block   content-menu__item__right-border">Dynamo</span>
      </a>

    </div>

  </li>



</ul>

        </li>

        <li class="content-menu__blank-entry"></li>

      </ul>

    </div>



    <div class="content-nav__fixed-bottom">

      <ul class="content-menu">

        <li>
          <div class="content-menu__item">

            <span class="block float-left   content-menu__icon-container   docs-icon--comments">|</span>

            <a class="block overflow" href="//evadne.github.io/basho_docs/community">
              <span class="block   content-menu__item__right-border">
                <sub>Want some extra help?</sub><br>
                <strong>Ask our Community</strong>
              </span>
            </a>

          </div>
        </li>

        <li>
          <div class="content-menu__item">

            <span class="block float-left   content-menu__icon-container   docs-icon--question-sign">|</span>

            <a class="block overflow" href="http://basho.com/contact">
              <span class="block   content-menu__item__right-border">
                <sub>Need to chat?</sub><br>
                <strong>Contact us directly</strong>
              </span>
            </a>

          </div>
        </li>

        <li>
          <div class="content-menu__item">

            <span class="block float-left   content-menu__icon-container   docs-icon--github-alt">|</span>

            <a class="block overflow" href="https://github.com/basho/basho_docs/edit/master/content/riak/kv/2.0.4/developing/data-types/maps.md">
              <span class="block   content-menu__item__right-border">
                <sub>Noticed a typo?</sub><br>
                <strong>Correct it in GitHub</strong>
              </span>
            </a>

          </div>
        </li>

      </ul>

    </div>

  </div>
  </div>
  </div>



</nav>

<script>
  (function() {
    var cx = '011972015458788978446:zgdcy4fa-o0';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<div style="width:0px;overflow:hidden;height:0px;">
  <gcse:search></gcse:search>
</div>






  <div class="content-well">


    <article class="main-article">


      

<header class="front-matter">


  <h1 class="front-matter__title">
    <span class="front-matter__title--supertext">Developing with Riak KV</span>

    
    <br>
    Data Types: Maps

  </h1>
  <nav class="table-of-contents"></nav>


</header>


      <main>
        

<p>Maps are the most versatile of the Riak data types because all other data types can be embedded within them, <em>including maps themselves</em>. This enables the creation of complex, custom data types from a few basic building blocks.</p>

<p>Using counters, sets, and maps within maps are similar to working with those types at the bucket level.</p>

<h2 id="set-up-a-bucket-type">Set Up a Bucket Type</h2>

<blockquote>
<p>If you&rsquo;ve already created and activated a bucket type with the <code>datatype</code> parameter set to <code>map</code>, skip to the <a href="#client-setup">next section</a>.</p>
</blockquote>

<p>Start by creating a bucket type with the <code>datatype</code> parameter set to <code>map</code>:</p>

<pre><code class="language-bash">riak-admin bucket-type create maps '{&quot;props&quot;:{&quot;datatype&quot;:&quot;map&quot;}}'
</code></pre>

<blockquote>
<p><strong>Note</strong></p>

<p>The <code>maps</code> bucket type name provided above is an example and is not required to be <code>maps</code>. You are free to name bucket types whatever you like, with the exception of <code>default</code>.</p>
</blockquote>

<p>After creating a bucket with a Riak data type, confirm the bucket property configuration associated with that type is correct:</p>

<pre><code class="language-bash">riak-admin bucket-type status maps
</code></pre>

<p>This returns a list of bucket properties and their values
in the form of <code>property: value</code>.</p>

<p>If our <code>map</code> bucket type has been set properly we should see the following pair in our console output:</p>

<pre><code class="language-bash">datatype: map
</code></pre>

<p>Once we have confirmed the bucket type is properly configured, we can activate the bucket type to be used in Riak KV:</p>

<pre><code class="language-bash">riak-admin bucket-type activate maps
</code></pre>

<p>We can check if activation has been successful by using the same <code>bucket-type status</code> command shown above:</p>

<pre><code class="language-bash">riak-admin bucket-type status maps
</code></pre>

<p>After creating and activating our new <code>maps</code> bucket type, we can setup our client to start using the bucket type as detailed in the next section.</p>

<h2 id="client-setup">Client Setup</h2>

<p>First, we need to direct our client to the bucket type/bucket/key location that contains our map.</p>

<p>The syntax for creating a map is analogous to the
syntax for creating other data types:</p>

<pre><code class="language-java">// In the Java client, a bucket/bucket type combination is specified
// using a Namespace object. To specify bucket, bucket type, and key,
// use a Location object that incorporates the Namespace object, as is
// done below.

Location map =
  new Location(new Namespace(&quot;&lt;bucket_type&gt;&quot;, &quot;&lt;bucket&gt;&quot;), &quot;&lt;key&gt;&quot;);
</code></pre>

<pre><code class="language-ruby">bucket = client.bucket_type('bucket_type_name').bucket('bucket_name')
map = Riak::Crdt::Map.new(bucket, key)
</code></pre>

<pre><code class="language-php">$location = new \Basho\Riak\Location('key', 'bucket', 'bucket_type');
</code></pre>

<pre><code class="language-python"># The client detects the bucket type's datatype and automatically
# returns the right datatype for you, in this case a Map.
map = bucket.new(key)

# This way is also acceptable:
from riak.datatypes import Map
map = Map(bucket, key)
</code></pre>

<pre><code class="language-csharp">// https://github.com/basho/riak-dotnet-client/blob/develop/src/RiakClientExamples/Dev/Using/DataTypes.cs

var builder = new UpdateMap.Builder()
    .WithBucketType(&quot;&lt;bucket_type&gt;&quot;)
    .WithBucket(&quot;&lt;bucket&gt;&quot;)
    .WithKey(&quot;&lt;key&gt;&quot;);
</code></pre>

<pre><code class="language-javascript">// Options to pass to the various map methods
var options = {
    bucketType: '&lt;bucket_type&gt;',
    bucket: '&lt;bucket&gt;',
    key: '&lt;key&gt;'
};
</code></pre>

<pre><code class="language-erlang">%% Maps in the Erlang client are opaque data structures that
%% collect operations as you mutate them. We will associate the data
%% structure with a bucket type, bucket, and key later on.
</code></pre>

<pre><code class="language-curl">curl http://localhost:8098/types/&lt;bucket_type&gt;/buckets/&lt;bucket&gt;/datatypes/&lt;key&gt;

# Note that this differs from the URL structure for non-data type requests,
# which end in /keys/&lt;key&gt;
</code></pre>

<h2 id="create-a-map">Create a Map</h2>

<p>For this example, say we want to use Riak KV to store information about our company&rsquo;s customers. We&rsquo;ll use the <code>maps</code> bucket type created and activated previously and a bucket called <code>customers</code>. Each customer&rsquo;s data will be contained in its own key in the <code>customers</code> bucket.</p>

<p>We can create a map for the user Ahmed (<code>ahmed_info</code>) using the <code>maps</code> bucket type:</p>

<pre><code class="language-java">// In the Java client, you specify the location of data types
// before you perform operations on them:

Location ahmedMap =
  new Location(new Namespace(&quot;maps&quot;, &quot;customers&quot;), &quot;ahmed_info&quot;);
</code></pre>

<pre><code class="language-ruby">customers = client.bucket_type('maps').bucket('customers')
map = Riak::Crdt::Map.new(customers, 'ahmed_info')

# Alternatively, the Ruby client enables you to set a bucket type as being
# globally associated with a Riak data type. The following would set all
# map buckets to use the maps bucket type:

Riak::Crdt::DEFAULT_BUCKET_TYPES[:map] = 'maps'

# This would enable us to create our map without specifying a bucket type:

customers = client.bucket('customers')
map = Riak::Crdt::Map.new(customers, 'ahmed_info')
</code></pre>

<pre><code class="language-php">$location = new \Basho\Riak\Location('ahmed_info', 'customers', 'maps');
</code></pre>

<pre><code class="language-python">customers = client.bucket_type('map_bucket').bucket('customers')
map = customers.net('ahmed_info')
</code></pre>

<pre><code class="language-csharp">// https://github.com/basho/riak-dotnet-client/blob/develop/src/RiakClientExamples/Dev/Using/DataTypes.cs

var builder = new UpdateMap.Builder()
    .WithBucketType(&quot;maps&quot;)
    .WithBucket(&quot;customers&quot;)
    .WithKey(&quot;ahmed_info&quot;);
</code></pre>

<pre><code class="language-javascript">var options = {
    bucketType: 'maps',
    bucket: 'customers',
    key: 'ahmed_info'
};
</code></pre>

<pre><code class="language-erlang">Map = riakc_map:new().

%% Maps in the Erlang client are opaque data structures that
%% collect operations as you mutate them. We will associate the data
%% structure with a bucket type, bucket, and key later on.
</code></pre>

<pre><code class="language-curl"># You cannot create an empty map through the HTTP interface. Maps can only
# be created when a field is added to them, as in the examples below.
</code></pre>

<h2 id="registers">Registers</h2>

<p>Registers are essentially named binaries (like strings). Any binary
value can act as the value of a register. Like flags, registers cannot
be used on their own and must be embedded in Riak maps.</p>

<h3 id="registers-within-maps">Registers Within Maps</h3>

<p>Continuing with our previous <code>customers</code> example, let&rsquo;s store some information in our map.</p>

<p>The first piece of information we want to store in our map is Ahmed&rsquo;s name and
phone number, both of which are best stored as registers:</p>

<pre><code class="language-java">// Using our &quot;ahmedMap&quot; location from above:

RegisterUpdate ru1 = new RegisterUpdate(&quot;Ahmed&quot;);
RegisterUpdate ru2 = new RegisterUpdate(&quot;5551234567&quot;);
MapUpdate mu = new MapUpdate()
        .update(&quot;first_name&quot;, ru1)
        .update(&quot;phone_number&quot;, ru2);
UpdateMap update = new UpdateMap.Builder(ahmedMap, mu)
          .build();
client.execute(update);
</code></pre>

<pre><code class="language-ruby"># The Ruby client enables you to batch operations together if you're
# performing them on one data type.

map.batch do |m|
  m.registers['first_name'] = 'Ahmed'
  m.registers['phone_number'] = '5551234567'
end

# Integers need to be stored as strings and then converted back when
# the data is retrieved. The following would work as well:
map.registers['phone_number'] = 5551234567.to_s
</code></pre>

<pre><code class="language-php">(new \Basho\Riak\Command\Builder\UpdateMap($riak))
    -&gt;updateRegister('first_name', 'Ahmed')
    -&gt;updateRegister('phone_number', '5551234567')
    -&gt;atLocation($location)
    -&gt;build()
    -&gt;execute();
</code></pre>

<pre><code class="language-python">map.registers['first_name'].assign('Ahmed')
map.registers['phone_number'].assign('5551234567')

# Integers need to be stored as strings and then converted back when the
# data is retrieved. The following would work as well:
map.registers['phone_number'].assign(str(5551234567))

map.store()
</code></pre>

<pre><code class="language-csharp">// https://github.com/basho/riak-dotnet-client/blob/develop/src/RiakClientExamples/Dev/Using/DataTypes.cs

var builder = new UpdateMap.Builder()
    .WithBucketType(&quot;maps&quot;)
    .WithBucket(&quot;customers&quot;)
    .WithKey(&quot;ahmed_info&quot;);

var mapOperation = new UpdateMap.MapOperation();

// Ahmed's first name
mapOperation.SetRegister(&quot;first_name&quot;, &quot;Ahmed&quot;);

// Ahmed's phone number
mapOperation.SetRegister(&quot;phone_number&quot;, &quot;5551234567&quot;);

builder.WithMapOperation(mapOperation);

UpdateMap cmd = builder.Build();
RiakResult rslt = client.Execute(cmd);
MapResponse response = cmd.Response;
PrintMap(response.Value);
// Output as JSON:
// Map: {&quot;Counters&quot;:{},&quot;Sets&quot;:{},&quot;Registers&quot;:{&quot;first_name&quot;:&quot;Ahmed&quot;,&quot;phone_number&quot;:&quot;5551234567&quot;},&quot;Flags&quot;:{},&quot;Maps&quot;:{}}
</code></pre>

<pre><code class="language-javascript">var mapOp = new Riak.Commands.CRDT.UpdateMap.MapOperation();
mapOp.setRegister('first_name', new Buffer('Ahmed'));
mapOp.setRegister('phone_number', new Buffer('5551234567'));

var options = {
    bucketType: 'maps',
    bucket: 'customers',
    key: 'ahmed_info',
    op: mapOp
};

client.updateMap(options, function (err, rslt) {
    if (err) {
        throw new Error(err);
    }
});
</code></pre>

<pre><code class="language-erlang">Map1 = riakc_map:update({&lt;&lt;&quot;first_name&quot;&gt;&gt;, register},
                        fun(R) -&gt; riakc_register:set(&lt;&lt;&quot;Ahmed&quot;&gt;&gt;, R) end,
                        Map),
Map2 = riakc_map:update({&lt;&lt;&quot;phone_number&quot;&gt;&gt;, register},
                        fun(R) -&gt; riakc_register:set(&lt;&lt;&quot;5551234567&quot;&gt;&gt;, R) end,
                        Map1).
</code></pre>

<pre><code class="language-curl"># Updates can be performed all at once. The following will create two new
# registers in the map and also set the value of those registers to the
# desired values

curl -XPOST http://localhost:8098/types/maps/buckets/customers/datatypes/ahmed_info \
  -H &quot;Content-Type: application/json&quot; \
  -d '
  {
    &quot;update&quot;: {
      &quot;first_name_register&quot;: &quot;Ahmed&quot;,
      &quot;phone_number_register&quot;: &quot;5551234567&quot;
    }
  }'
</code></pre>

<p>If a register did not previously exist, Riak KV will create that register for you.</p>

<h2 id="flags">Flags</h2>

<p>Flags behave much like Boolean values, except that instead of <code>true</code> or
<code>false</code> flags have the values <code>enable</code> or <code>disable</code>.</p>

<p>Flags cannot be used on their own, i.e. a flag cannot be stored in a bucket/key by itself. Instead, flags can only be stored within maps.</p>

<p>To disable an existing flag, you have to read it or provide <a href="../#data-types-and-context">a context</a>.</p>

<h3 id="flags-within-maps">Flags Within Maps</h3>

<p>Now let&rsquo;s say that we add an Enterprise plan to our pricing model. We&rsquo;ll
create an <code>enterprise_customer</code> flag to track whether Ahmed has signed
up for the new plan. He hasn&rsquo;t yet, so we&rsquo;ll set it to <code>false</code>:</p>

<pre><code class="language-java">// Using our &quot;ahmedMap&quot; location from above:

MapUpdate mu = new MapUpdate()
        .update(&quot;enterprise_customer&quot;, new FlagUpdate(false));
UpdateMap update = new UpdateMap.Builder(ahmedMap, mu)
        .build();
client.execute(update);
</code></pre>

<pre><code class="language-ruby">map.flags['enterprise_customer'] = false
</code></pre>

<pre><code class="language-php">(new \Basho\Riak\Command\Builder\UpdateMap($riak))
    -&gt;updateFlag('enterprise_customer', false)
    -&gt;atLocation($location)
    -&gt;build()
    -&gt;execute();
</code></pre>

<pre><code class="language-python">map.flags['enterprise_customer'].disable()
map.store()
</code></pre>

<pre><code class="language-csharp">// https://github.com/basho/riak-dotnet-client/blob/develop/src/RiakClientExamples/Dev/Using/DataTypes.cs

// Using our builder from above:

mapOperation = new UpdateMap.MapOperation();
mapOperation.SetFlag(&quot;enterprise_customer&quot;, false);

builder.WithMapOperation(mapOperation);
cmd = builder.Build();
rslt = client.Execute(cmd);

response = cmd.Response;

// response.Value as JSON:
// Map: {&quot;Counters&quot;:{},&quot;Sets&quot;:{},
         &quot;Registers&quot;:{&quot;first_name&quot;:&quot;Ahmed&quot;,&quot;phone_number&quot;:&quot;5551234567&quot;},
         &quot;Flags&quot;:{&quot;enterprise_customer&quot;:false},&quot;Maps&quot;:{}}
</code></pre>

<pre><code class="language-javascript">var mapOp = new Riak.Commands.CRDT.UpdateMap.MapOperation();
mapOp.setFlag('enterprise_customer', false);

var options = {
    bucketType: 'maps',
    bucket: 'customers',
    key: 'ahmed_info',
    op: mapOp
};

client.updateMap(options, function (err, rslt) {
    if (err) {
        throw new Error(err);
    }
});
</code></pre>

<pre><code class="language-erlang">Map4 = riakc_map:update({&lt;&lt;&quot;enterprise_customer&quot;&gt;&gt;, flag},
                        fun(F) -&gt; riakc_flag:disable(F) end,
                        Map3).
</code></pre>

<pre><code class="language-curl">curl -XPOST http://localhost:8098/types/maps/buckets/customers/datatypes/ahmed_info \
  -H &quot;Content-Type: application/json&quot; \
  -d '
  {
    &quot;update&quot;: {
      &quot;enterprise_customer_flag&quot;: &quot;disable&quot;
    }
  }'
</code></pre>

<p>We can retrieve the value of that flag at any time:</p>

<pre><code class="language-java">// Using our &quot;ahmedMap&quot; location from above:

FetchMap fetch = new FetchMap.Builder(ahmedMap).build();
FetchMap.Response response = client.execute(fetch);
RiakMap map = response.getDatatype();
System.out.println(map.getFlag(&quot;enterprise_customer&quot;).view());
</code></pre>

<pre><code class="language-ruby">map.flags['enterprise_customer']

# false
</code></pre>

<pre><code class="language-php">$map = (new \Basho\Riak\Command\Builder\FetchMap($riak))
    -&gt;atLocation($location)
    -&gt;build()
    -&gt;execute()
    -&gt;getMap();

echo $map-&gt;getFlag('enterprise_customer'); // false
</code></pre>

<pre><code class="language-python">map.reload().flags['enterprise_customer'].value
</code></pre>

<pre><code class="language-csharp">// https://github.com/basho/riak-dotnet-client/blob/develop/src/RiakClientExamples/Dev/Using/DataTypes.cs

Map ahmedMap = response.Value;
ahmedMap.Flags[&quot;enterprise_customer&quot;]
</code></pre>

<pre><code class="language-javascript">var options = {
    bucketType: 'maps',
    bucket: 'customers',
    key: 'ahmed_info'
};

client.fetchMap(options, function (err, rslt) {
    if (err) {
        throw new Error(err);
    }

    console.log(&quot;fetched map: %s&quot;, JSON.stringify(rslt));
});
</code></pre>

<pre><code class="language-erlang">%% The value fetched from Riak is always immutable, whereas the &quot;dirty
%% value&quot; takes into account local modifications that have not been
%% sent to the server.

riakc_map:dirty_value(Map4).
</code></pre>

<pre><code class="language-curl">curl http://localhost:8098/types/maps/buckets/customers/datatypes/ahmed_info
</code></pre>

<h2 id="counters-within-maps">Counters Within Maps</h2>

<p>We also want to know how many times Ahmed has visited our website. We&rsquo;ll
use a <code>page_visits</code> counter for that and run the following operation
when Ahmed visits our page for the first time:</p>

<pre><code class="language-java">// Using our &quot;ahmedMap&quot; location from above:

MapUpdate mu = new MapUpdate()
        .update(&quot;page_visits&quot;, cu);
UpdateMap update = new UpdateMap.Builder(ahmedMap, new CounterUpdate(1))
        .build();
client.execute(update);
</code></pre>

<pre><code class="language-ruby">map.counters['page_visits'].increment

# This operation may return false even if successful
</code></pre>

<pre><code class="language-php">$updateCounter = (new \Basho\Riak\Command\Builder\IncrementCounter($riak))
    -&gt;withIncrement(1);

(new \Basho\Riak\Command\Builder\UpdateMap($riak))
    -&gt;updateCounter('page_visits', $updateCounter)
    -&gt;atLocation($location)
    -&gt;build()
    -&gt;execute();
</code></pre>

<pre><code class="language-python">map.counters['page_visits'].increment()
map.store()
</code></pre>

<pre><code class="language-csharp">// https://github.com/basho/riak-dotnet-client/blob/develop/src/RiakClientExamples/Dev/Using/DataTypes.cs

var mapOperation = new UpdateMap.MapOperation();
mapOperation.IncrementCounter(&quot;page_visits&quot;, 1);

builder.WithMapOperation(mapOperation);
UpdateMap cmd = builder.Build();
RiakResult rslt = client.Execute(cmd);

MapResponse response = cmd.Response;
// Map: {&quot;Counters&quot;:{&quot;page_visits&quot;:3},
         &quot;Sets&quot;:{},
         &quot;Registers&quot;:{&quot;first_name&quot;:&quot;Ahmed&quot;,&quot;phone_number&quot;:&quot;5551234567&quot;},
         &quot;Flags&quot;:{&quot;enterprise_customer&quot;:false},
         &quot;Maps&quot;:{}}
</code></pre>

<pre><code class="language-javascript">var mapOp = new Riak.Commands.CRDT.UpdateMap.MapOperation();
mapOp.incrementCounter('page_visits', 1);

var options = {
    bucketType: 'maps',
    bucket: 'customers',
    key: 'ahmed_info',
    op: mapOp
};

client.updateMap(options, function (err, rslt) {
    if (err) {
        throw new Error(err);
    }
});
</code></pre>

<pre><code class="language-erlang">Map3 = riakc_map:update({&lt;&lt;&quot;page_visits&quot;&gt;&gt;, counter},
                        fun(C) -&gt; riakc_counter:increment(1, C) end,
                        Map2).
</code></pre>

<pre><code class="language-curl"># The following will create a new counter and increment it by 1

curl -XPOST http://localhost:8098/types/maps/buckets/customers/datatypes/ahmed_info \
  -H &quot;Content-Type: application/json&quot; \
  -d '
  {
    &quot;update&quot;: {
      &quot;page_visits_counter&quot;: 1
    }
  }'
</code></pre>

<p>Even though the <code>page_visits</code> counter did not exist previously, the
above operation will create it (with a default starting point of 0) and
the increment operation will bump the counter up to 1.</p>

<h2 id="sets-within-maps">Sets Within Maps</h2>

<p>We&rsquo;d also like to know what Ahmed&rsquo;s interests are so that we can better
design a user experience for him. Through his purchasing decisions, we
find out that Ahmed likes robots, opera, and motorcycles. We&rsquo;ll store
that information in a set inside of our map:</p>

<pre><code class="language-java">// Using our &quot;ahmedMap&quot; location from above:

SetUpdate su = new SetUpdate()
        .add(&quot;robots&quot;)
        .add(&quot;opera&quot;)
        .add(&quot;motorcycles&quot;);
MapUpdate mu = new MapUpdate()
        .update(&quot;interests&quot;, su);
UpdateMap update = new UpdateMap.Builder(ahmedMap, mu)
        .build();
client.execute(update);
</code></pre>

<pre><code class="language-ruby">map.batch do |m|
  %{ robots opera motorcycles }.each do |interest|
    m.sets['interests'].add(interest)
  end
end
</code></pre>

<pre><code class="language-php">$updateSet = (new \Basho\Riak\Command\Builder\UpdateSet($riak))
    -&gt;add('robots')
    -&gt;add('opera')
    -&gt;add('motorcycles');

(new \Basho\Riak\Command\Builder\UpdateMap($riak))
    -&gt;updateSet('interests', $updateSet)
    -&gt;atLocation($location)
    -&gt;build()
    -&gt;execute();
</code></pre>

<pre><code class="language-python">for interest in ['robots', 'opera', 'motorcycles']:
    map.sets['interests'].add(interest)
map.store()
</code></pre>

<pre><code class="language-csharp">// https://github.com/basho/riak-dotnet-client/blob/develop/src/RiakClientExamples/Dev/Using/DataTypes.cs

var interestsAdds = new[] { &quot;robots&quot;, &quot;opera&quot;, &quot;motorcycles&quot; };

var mapOperation = new UpdateMap.MapOperation();
mapOperation.AddToSet(&quot;interests&quot;, interestsAdds);

builder.WithMapOperation(mapOperation);
UpdateMap cmd = builder.Build();
RiakResult rslt = client.Execute(cmd);
MapResponse response = cmd.Response;

// Map: {&quot;Counters&quot;:{&quot;page_visits&quot;:3},
         &quot;Sets&quot;:{&quot;interests&quot;:[&quot;motorcycles&quot;,&quot;opera&quot;,&quot;robots&quot;]},
         &quot;Registers&quot;:{&quot;first_name&quot;:&quot;Ahmed&quot;,&quot;phone_number&quot;:&quot;5551234567&quot;},
         &quot;Flags&quot;:{&quot;enterprise_customer&quot;:false},
         &quot;Maps&quot;:{}}
</code></pre>

<pre><code class="language-javascript">var mapOp = new Riak.Commands.CRDT.UpdateMap.MapOperation();
mapOp.addToSet('interests', 'robots');
mapOp.addToSet('interests', 'opera');
mapOp.addToSet('interests', 'motorcycles');

var options = {
    bucketType: 'maps',
    bucket: 'customers',
    key: 'ahmed_info',
    op: mapOp
};

client.updateMap(options, function (err, rslt) {
    if (err) {
        throw new Error(err);
    }
});
</code></pre>

<pre><code class="language-erlang">Map4 = riakc_map:update({&lt;&lt;&quot;interests&quot;&gt;&gt;, set},
                        fun(S) -&gt; riakc_set:add_element(&lt;&lt;&quot;robots&quot;&gt;&gt;, S) end, Map3),
Map5 = riakc_map:update({&lt;&lt;&quot;interests&quot;&gt;&gt;, set},
                        fun(S) -&gt; riakc_set:add_element(&lt;&lt;&quot;opera&quot;&gt;&gt;, S) end,
                        Map4),
Map6 = riakc_map:update({&lt;&lt;&quot;interests&quot;&gt;&gt;, set},
                        fun(S) -&gt; riakc_set:add_element(&lt;&lt;&quot;motorcycles&quot;&gt;&gt;, S) end,
                        Map4).
</code></pre>

<pre><code class="language-curl">curl -XPOST http://localhost:8098/types/maps/buckets/customers/datatypes/ahmed_info \
  -H &quot;Content-Type: application/json&quot; \
  -d '
  {
    &quot;update&quot;: {
      &quot;interests_set&quot;: {
        &quot;add_all&quot;: [
          &quot;robots&quot;,
          &quot;opera&quot;,
          &quot;motorcycles&quot;
        ]
      }
    }
  }'
</code></pre>

<p>We can then verify that the <code>interests</code> set includes these three
interests:</p>

<pre><code class="language-java">// Using our &quot;ahmedMap&quot; location from above:

FetchMap fetch = new FetchMap.Builder(ahmedMap)
    .build();
FetchMap.Response response = client.execute(fetch);
RiakMap map = response.getDatatype();
RiakSet interestSet = map.getSet(&quot;interests&quot;);
Set&lt;BinaryValue&gt; interests = interestSet.view();
System.out.println(interests.contains(BinaryValue.create(&quot;robots&quot;)));

// Checking for &quot;opera&quot; and &quot;motorcycles&quot; works the same way
</code></pre>

<pre><code class="language-ruby">map.batch do |m|
  %w{ robots opera motorcycles }.each do |interest|
    m.sets['interests'].include? interest
  end
end

# This will return three Boolean values
</code></pre>

<pre><code class="language-php">$map = (new \Basho\Riak\Command\Builder\FetchMap($riak))
    -&gt;atLocation($location)
    -&gt;build()
    -&gt;execute()
    -&gt;getMap();

$sets = $map-&gt;getSet('interests');
var_dump($sets-&gt;getData());
</code></pre>

<pre><code class="language-python">reloaded_map = map.reload()
for interest in ['robots', 'opera', 'motorcycles']:
    interest in reloaded_map.sets['interests'].value
</code></pre>

<pre><code class="language-csharp">// https://github.com/basho/riak-dotnet-client/blob/develop/src/RiakClientExamples/Dev/Using/DataTypes.cs

Map ahmedMap = response.Value;

// All of the following return true:
ahmedMap.Sets.GetValue(&quot;interests&quot;).Contains(&quot;robots&quot;);
ahmedMap.Sets.GetValue(&quot;interests&quot;).Contains(&quot;opera&quot;);
ahmedMap.Sets.GetValue(&quot;interests&quot;).Contains(&quot;motorcycles&quot;);
</code></pre>

<pre><code class="language-javascript">var options = {
    bucketType: 'maps',
    bucket: 'customers',
    key: 'ahmed_info'
};

client.fetchMap(options, function (err, rslt) {
    if (err) {
        throw new Error(err);
    }

    assert(rslt.map.sets['interests'].indexOf('robots') !== -1);
});
</code></pre>

<pre><code class="language-erlang">riakc_map:dirty_value(Map6).
</code></pre>

<pre><code class="language-curl">curl http://localhost:8098/types/maps/buckets/customers/datatypes/ahmed_info?include_context=false
</code></pre>

<p>We learn from a recent purchasing decision that Ahmed actually doesn&rsquo;t
seem to like opera. He&rsquo;s much more keen on indie pop. Let&rsquo;s change the
<code>interests</code> set to reflect that:</p>

<pre><code class="language-java">// Using our &quot;ahmedMap&quot; location from above:

SetUpdate su = new SetUpdate()
        .remove(&quot;opera&quot;)
        .add(&quot;indie pop&quot;);
MapUpdate mu = new MapUpdate()
        .update(&quot;interests&quot;, su);
UpdateMap update = new UpdateMap.Builder(ahmedMap, mu)
        .build();
client.execute(update);
</code></pre>

<pre><code class="language-ruby">map.batch do |m|
  m.sets['interests'].remove('opera')
  m.sets['interests'].add('indie pop')
end
</code></pre>

<pre><code class="language-php">$updateSet = (new \Basho\Riak\Command\Builder\UpdateSet($riak))
    -&gt;add('indie pop')
    -&gt;remove('opera');

(new \Basho\Riak\Command\Builder\UpdateMap($riak))
    -&gt;updateSet('interests', $updateSet)
    -&gt;atLocation($location)
    -&gt;withContext($map-&gt;getContext())
    -&gt;build()
    -&gt;execute();
</code></pre>

<pre><code class="language-python">map.sets['interests'].discard('opera')
map.sets['interests'].add('indie pop')
map.store()
</code></pre>

<pre><code class="language-csharp">// https://github.com/basho/riak-dotnet-client/blob/develop/src/RiakClientExamples/Dev/Using/DataTypes.cs

var mapOperation = new UpdateMap.MapOperation();
mapOperation.AddToSet(&quot;interests&quot;, &quot;indie pop&quot;);
mapOperation.RemoveFromSet(&quot;interests&quot;, &quot;opera&quot;);

builder
    .WithMapOperation(mapOperation)
    .WithContext(response.Context);

UpdateMap cmd = builder.Build();
RiakResult rslt = client.Execute(cmd);

MapResponse response = cmd.Response;
Map ahmedMap = response.Value;

// This is false
ahmedMap.Sets.GetValue(&quot;interests&quot;).Contains(&quot;opera&quot;);

// These are true
ahmedMap.Sets.GetValue(&quot;interests&quot;).Contains(&quot;indie pop&quot;);
ahmedMap.Sets.GetValue(&quot;interests&quot;).Contains(&quot;robots&quot;);
ahmedMap.Sets.GetValue(&quot;interests&quot;).Contains(&quot;motorcycles&quot;);
</code></pre>

<pre><code class="language-javascript">var options = {
    bucketType: 'maps',
    bucket: 'customers',
    key: 'ahmed_info'
};

client.fetchMap(options, function (err, rslt) {
    if (err) {
        throw new Error(err);
    }

    var mapOp = new Riak.Commands.CRDT.UpdateMap.MapOperation();
    mapOp.removeFromSet('interests', 'opera');
    mapOp.addToSet('interests', 'indie pop');

    options.context = rslt.context;
    options.op = mapOp;

    client.updateMap(options, function (err, rslt) {
        if (err) {
            throw new Error(err);
        }
    });
});
</code></pre>

<pre><code class="language-erlang">Map7 = riakc_map:update({&lt;&lt;&quot;interests&quot;&gt;&gt;, set},
                        fun(S) -&gt; riakc_set:del_element(&lt;&lt;&quot;opera&quot;&gt;&gt;, S) end, Map6),
Map8 = riakc_map:update({&lt;&lt;&quot;interests&quot;&gt;&gt;, set},
                        fun(S) -&gt; riakc_set:add_element(&lt;&lt;&quot;indie pop&quot;&gt;&gt;, S) end,
                        Map7).
</code></pre>

<pre><code class="language-curl">curl -XPOST http://localhost:8098/types/maps/buckets/customers/datatypes/ahmed_info \
  -H &quot;Content-Type: application/json&quot; \
  -d '
  {
    &quot;update&quot;: {
      &quot;interests_set&quot;: {
        &quot;remove&quot;: &quot;opera&quot;,
        &quot;add&quot;: &quot;indie pop&quot;
      }
    }
  }
  '
</code></pre>

<h2 id="maps-within-maps">Maps Within Maps</h2>

<p>We&rsquo;ve stored a wide of variety of information&mdash;of a wide variety of
types&mdash;within the <code>ahmed_info</code> map thus far, but we have yet to explore
recursively storing maps within maps (which can be nested as deeply as
you wish).</p>

<p>Our company is doing well and we have lots of useful information about
Ahmed, but now we want to store information about Ahmed&rsquo;s contacts as
well. We&rsquo;ll start with storing some information about Ahmed&rsquo;s colleague
Annika inside of a map called <code>annika_info</code>.</p>

<p>First, we&rsquo;ll store Annika&rsquo;s first name, last name, and phone number in
registers:</p>

<pre><code class="language-java">// Using our &quot;ahmedMap&quot; location from above:

RegisterUpdate ru1 = new RegisterUpdate(&quot;Annika&quot;);
RegisterUpdate ru2 = new RegisterUpdate(&quot;Weiss&quot;);
RegisterUpdate ru3 = new RegisterUpdate(&quot;5559876543&quot;);

MapUpdate annikaUpdate = new MapUpdate()
        .update(&quot;first_name&quot;, ru1)
        .update(&quot;last_name&quot;, ru2)
        .update(&quot;phone_number&quot;, ru3);
MapUpdate ahmedUpdate = new MapUpdate()
        .update(&quot;annika_info&quot;, annikaUpdate);
UpdateMap update = new UpdateMap.Builder(ahmedMap, ahmedUpdate)
        .build();
client.execute(update);
</code></pre>

<pre><code class="language-ruby">map.maps['annika_info'].batch do |m|
  m.registers['first_name'] = 'Annika'
  m.registers['last_name'] = 'Weiss'
  m.registers['phone_number'] = 5559876543.to_s
end
</code></pre>

<pre><code class="language-php">$annikaMap = (new \Basho\Riak\Command\Builder\UpdateMap($riak))
    -&gt;updateRegister('first_name', 'Annika')
    -&gt;updateRegister('last_name', 'Weiss')
    -&gt;updateRegister('phone_number', '5559876543');

$response = (new \Basho\Riak\Command\Builder\UpdateMap($riak))
    -&gt;updateMap('annika_info', $annikaMap)
    -&gt;atLocation($location)
    -&gt;withParameter('returnbody', 'true')
    -&gt;build()
    -&gt;execute();
</code></pre>

<pre><code class="language-python">map.maps['annika_info'].registers['first_name'].assign('Annika')
map.maps['annika_info'].registers['last_name'].assign('Weiss')
map.maps['annika_info'].registers['phone_number'].assign(str(5559876543))
map.store()
</code></pre>

<pre><code class="language-csharp">// https://github.com/basho/riak-dotnet-client/blob/develop/src/RiakClientExamples/Dev/Using/DataTypes.cs

var mapOperation = new UpdateMap.MapOperation();

var annikaInfoOperation = mapOperation.Map(&quot;annika_info&quot;);
annikaInfoOperation.SetRegister(&quot;first_name&quot;, &quot;Annika&quot;);
annikaInfoOperation.SetRegister(&quot;last_name&quot;, &quot;Weiss&quot;);
annikaInfoOperation.SetRegister(&quot;phone_number&quot;, &quot;5559876543&quot;);

builder.WithMapOperation(mapOperation);
UpdateMap cmd = builder.Build();
client.Execute(cmd);
</code></pre>

<pre><code class="language-javascript">var options = {
    bucketType: 'maps',
    bucket: 'customers',
    key: 'ahmed_info'
};

var mapOp = new Riak.Commands.CRDT.UpdateMap.MapOperation();
mapOp.map('annika_info')
    .setRegister('first_name', 'Annika')
    .setRegister('last_name', 'Weiss')
    .setRegister('phone_number', '5559876543');

options.op = mapOp;

client.updateMap(options, function (err, rslt) {
    if (err) {
        throw new Error(err);
    }
});
</code></pre>

<pre><code class="language-erlang">Map12 = riakc_map:update(
    {&lt;&lt;&quot;annika_info&quot;&gt;&gt;, map},
    fun(M) -&gt; riakc_map:update(
        {&lt;&lt;&quot;first_name&quot;&gt;&gt;, register},
        fun(R) -&gt; riakc_register:set(&lt;&lt;&quot;Annika&quot;&gt;&gt;, R) end, M) end,
    Map11),
Map13 = riakc_map:update(
    {&lt;&lt;&quot;annika_info&quot;&gt;&gt;, map},
    fun(M) -&gt; riakc_map:update(
        {&lt;&lt;&quot;last_name&quot;&gt;&gt;, register},
        fun(R) -&gt; riakc_register:set(&lt;&lt;&quot;Weiss&quot;&gt;&gt;, R) end, M) end,
    Map12),
Map14 = riakc_map:update(
    {&lt;&lt;&quot;annika_info&quot;&gt;&gt;, map},
    fun(M) -&gt; riakc_map:update(
        {&lt;&lt;&quot;phone_number&quot;&gt;&gt;, register},
        fun(R) -&gt; riakc_register:set(&lt;&lt;&quot;5559876543&quot;&gt;&gt;, R) end, M) end,
    Map13).
</code></pre>

<pre><code class="language-curl">curl -XPOST http://localhost:8098/types/maps/buckets/customers/datatypes/ahmed_info \
  -H &quot;Content-Type: application/json&quot; \
  -d '
  {
    &quot;update&quot;: {
      &quot;annika_info_map&quot;: {
        &quot;update&quot;: {
          &quot;first_name_register&quot;: &quot;Annika&quot;,
          &quot;last_name_register&quot;: &quot;Weiss&quot;,
          &quot;phone_number_register&quot;: &quot;5559876543&quot;
        }
      }
    }
  }
  '
</code></pre>

<p>The value of a register in a map can be obtained without a special
method:</p>

<pre><code class="language-java">// Using our &quot;ahmedMap&quot; location from above:

FetchMap fetch = new FetchMap.Builder(ahmedMap).build();
FetchMap.Response response = client.execute(fetch);
String annikaFirstName = response.getDatatype()
        .getMap(&quot;annika_info&quot;)
        .getRegister(&quot;first_name&quot;)
        .view()
        .toString();
</code></pre>

<pre><code class="language-ruby">map.maps['annika_info'].registers['first_name']

# &quot;Annika&quot;
</code></pre>

<pre><code class="language-php"># with param 'returnbody' = 'true', we can fetch the map from our last response
$map-&gt;getMap();

echo $map-&gt;getMap('annika_info')-&gt;getRegister('first_name'); // Annika
</code></pre>

<pre><code class="language-python">map.reload().maps['annika_info'].registers['first_name'].value
</code></pre>

<pre><code class="language-csharp">// https://github.com/basho/riak-dotnet-client/blob/develop/src/RiakClientExamples/Dev/Using/DataTypes.cs

ahmedMap = response.Value;
ahmedMap.Maps[&quot;annika_info&quot;].Registers.GetValue(&quot;first_name&quot;);
</code></pre>

<pre><code class="language-javascript">var options = {
    bucketType: 'maps',
    bucket: 'customers',
    key: 'ahmed_info'
};

client.fetchMap(options, function (err, rslt) {
    if (err) {
        throw new Error(err);
    }

    var annikaFirstName =
        rslt.map.maps['annika_info'].registers['first_name'].toString('utf8');
});
</code></pre>

<pre><code class="language-erlang">riakc_map:dirty_value(Map14).
</code></pre>

<pre><code class="language-curl"># Specific values for fields inside of maps (or maps within maps, for that
# matter), cannot be obtained directly through the HTTP interface.
</code></pre>

<p>Registers can also be removed:</p>

<pre><code class="language-java">// This example uses our &quot;ahmedMap&quot; location from above. Operations that
// remove fields from maps require that you first fetch the opaque context
// attached to the map and then include the context in the update operation:

FetchMap fetch = new FetchMap.Builder(ahmedMap)
    .build();
FetchMap.Response response = client.execute(fetch);
Context ctx = response.getContext();
MapUpdate annikaUpdate = new MapUpdate()
        .removeRegister(&quot;first_name&quot;);
MapUpdate ahmedUpdate = new MapUpdate()
        .update(&quot;annika_info&quot;, annikaUpdate);
UpdateMap update = new UpdateMap.Builder(ahmedMap, ahmedUpdate)
        .withContext(ctx)
        .build();
client.execute(update);
</code></pre>

<pre><code class="language-ruby">map.maps['annika_info'].registers.remove('first_name')
</code></pre>

<pre><code class="language-php">$annikaMap = (new \Basho\Riak\Command\Builder\UpdateMap($riak))
    -&gt;removeRegister('first_name');

(new \Basho\Riak\Command\Builder\UpdateMap($riak))
    -&gt;updateMap('annika_info', $annikaMap)
    -&gt;atLocation($location)
    -&gt;withContext($map-&gt;getContext())
    -&gt;build()
    -&gt;execute();
</code></pre>

<pre><code class="language-python">del map.maps['annika_info'].registers['first_name']
map.store()
</code></pre>

<pre><code class="language-csharp">// https://github.com/basho/riak-dotnet-client/blob/develop/src/RiakClientExamples/Dev/Using/DataTypes.cs

var mapOperation = new UpdateMap.MapOperation();
mapOperation.Map(&quot;annika_info&quot;).RemoveRegister(&quot;first_name&quot;);

// Note: using Context from last response
builder
    .WithMapOperation(mapOperation)
    .WithContext(response.Context);

UpdateMap cmd = builder.Build();
client.Execute(cmd);
</code></pre>

<pre><code class="language-javascript">var options = {
    bucketType: 'maps',
    bucket: 'customers',
    key: 'ahmed_info'
};

client.fetchMap(options, function (err, rslt) {
    if (err) {
        throw new Error(err);
    }

    var mapOp = new Riak.Commands.CRDT.UpdateMap.MapOperation();
    mapOp.map('annika_info').removeRegister('first_name');

    var options = {
        bucketType: 'maps',
        bucket: 'customers',
        key: 'ahmed_info',
        op: mapOp,
        context: rslt.context,
    };

    client.updateMap(options, function (err, rslt) {
        if (err) {
            throw new Error(err);
        }
    });
</code></pre>

<pre><code class="language-erlang">Map15 = riakc_map:update({&lt;&lt;&quot;annika_info&quot;&gt;&gt;, map},
                         fun(M) -&gt; riakc_map:erase({&lt;&lt;&quot;phone_number&quot;&gt;&gt;, register}, M) end,
                         Map14).
</code></pre>

<pre><code class="language-curl">curl -XPOST http://localhost:8098/types/maps/buckets/customers/datatypes/ahmed_info \
  -H &quot;Content-Type: application/json&quot; \
  -d '
  {
    &quot;update&quot;: {
      &quot;annika_info_map&quot;: {
        &quot;remove&quot;: &quot;phone_number_register&quot;
      }
    }
  }
  '
</code></pre>

<p>Now, we&rsquo;ll store whether Annika is subscribed to a variety of plans
within the company as well:</p>

<pre><code class="language-java">// Using our &quot;ahmedMap&quot; location from above:

FetchMap fetch = new FetchMap.Builder(ahmedMap).build();
FetchMap.Response response = client.execute(fetch);
Context ctx = response.getContext();
MapUpdate annikaUpdate = new MapUpdate()
        .update(&quot;enterprise_plan&quot;, new FlagUpdate((false))
        .update(&quot;family_plan&quot;, new FlagUpdate(false))
        .update(&quot;free_plan&quot;, new FlagUpdate(true));
MapUpdate ahmedUpdate = new MapUpdate()
        .update(&quot;annika_info&quot;, annikaUpdate);
UpdateMap update = new UpdateMap.Builder(ahmedMap, ahmedUpdate)
        .withContext(ctx)
        .build();
client.execute(update);
</code></pre>

<pre><code class="language-ruby">map.maps['annika_info'].batch do |m|
  m.flags['enterprise_plan'] = false
  m.flags['family_plan'] = false
  m.flags['free_plan'] = true
end
</code></pre>

<pre><code class="language-php">$annikaMap = (new \Basho\Riak\Command\Builder\UpdateMap($riak))
    -&gt;updateFlag('enterprise_plan', false)
    -&gt;updateFlag('family_plan', false)
    -&gt;updateFlag('free_plan', true);

$response = (new \Basho\Riak\Command\Builder\UpdateMap($riak))
    -&gt;updateMap('annika_info', $annikaMap)
    -&gt;atLocation($location)
    -&gt;withParameter('returnbody', 'true')
    -&gt;build()
    -&gt;execute();
</code></pre>

<pre><code class="language-python">map.maps['annika_info'].flags['enterprise_plan'].disable()
map.maps['annika_info'].flags['family_plan'].disable()
map.maps['annika_info'].flags['free_plan'].enable()
map.store()
</code></pre>

<pre><code class="language-csharp">// https://github.com/basho/riak-dotnet-client/blob/develop/src/RiakClientExamples/Dev/Using/DataTypes.cs

var mapOperation = new UpdateMap.MapOperation();
mapOperation.Map(&quot;annika_info&quot;)
    .SetFlag(&quot;enterprise_plan&quot;, false)
    .SetFlag(&quot;family_plan&quot;, false)
    .SetFlag(&quot;free_plan&quot;, true);

builder.WithMapOperation(mapOperation);

MapUpdate cmd = builder.Build();
client.Execute(cmd);
</code></pre>

<pre><code class="language-javascript">var options = {
    bucketType: 'maps',
    bucket: 'customers',
    key: 'ahmed_info'
};

client.fetchMap(options, function (err, rslt) {
    if (err) {
        throw new Error(err);
    }

    var mapOp = new Riak.Commands.CRDT.UpdateMap.MapOperation();
    var annika_map = mapOp.map('annika_info');
    annika_map.setFlag('enterprise_plan', false);
    annika_map.setFlag('family_plan', false);
    annika_map.setFlag('free_plan', true);

    var options = {
        bucketType: 'maps',
        bucket: 'customers',
        key: 'ahmed_info',
        op: mapOp,
        context: rslt.context,
    };

    client.updateMap(options, function (err, rslt) {
        if (err) {
            throw new Error(err);
        }
    });
});
</code></pre>

<pre><code class="language-erlang">Map16 = riakc_map:update(
    {&lt;&lt;&quot;annika_info&quot;&gt;&gt;, map},
    fun(M) -&gt; riakc_map:update(
        {&lt;&lt;&quot;enterprise_plan&quot;&gt;&gt;, flag},
        fun(F) -&gt; riakc_flag:disable(F) end,
        M) end,
    Map15),
Map17 = riakc_map:update(
    {&lt;&lt;&quot;annika_info&quot;&gt;&gt;, map},
    fun(M) -&gt; riakc_map:update(
        {&lt;&lt;&quot;family_plan&quot;&gt;&gt;, flag},
        fun(F) -&gt; riakc_flag:disable(F) end,
        M) end,
    Map16),
Map18 = riakc_map:update(
    {&lt;&lt;&quot;annika_info&quot;&gt;&gt;, map},
    fun(M) -&gt; riakc_map:update(
        {&lt;&lt;&quot;free_plan&quot;&gt;&gt;, flag},
        fun(F) -&gt; riakc_flag:enable(F) end,
        M) end,
    Map17).
</code></pre>

<pre><code class="language-curl">curl -XPOST http://localhost:8098/types/maps/buckets/customers/datatypes/ahmed_info \
  -H &quot;Content-Type: application/json&quot; \
  -d '
  {
    &quot;update&quot;: {
      &quot;annika_info_map&quot;: {
        &quot;update&quot;: {
          &quot;enterprise_plan_flag&quot;: &quot;disable&quot;,
          &quot;family_plan_flag&quot;: &quot;disable&quot;,
          &quot;free_plan_flag&quot;: &quot;enable&quot;
        }
      }
    }
  }
  '
</code></pre>

<p>The value of a flag can be retrieved at any time:</p>

<pre><code class="language-java">// Using our &quot;ahmedMap&quot; location from above:

FetchMap fetch = new FetchMap.Builder(ahmedMap).build();
FetchMap.Response response = client.execute(fetch);
boolean enterprisePlan = response.getDatatype()
        .getMap(&quot;annika_info&quot;)
        .getFlag(&quot;enterprise_plan&quot;)
        .view();
</code></pre>

<pre><code class="language-ruby">map.maps['annika_info'].flags['enterprise_plan']

# false
</code></pre>

<pre><code class="language-php"># with param 'returnbody' = 'true', we can fetch the map from our last response
$map-&gt;getMap();

echo $map-&gt;getMap('annika_info')-&gt;getFlag('enterprise_plan'); // false
</code></pre>

<pre><code class="language-python">map.reload().maps['annika_info'].flags['enterprise_plan'].value
</code></pre>

<pre><code class="language-csharp">// https://github.com/basho/riak-dotnet-client/blob/develop/src/RiakClientExamples/Dev/Using/DataTypes.cs

ahmedMap = response.Value;
ahmedMap.Maps[&quot;annika_info&quot;].Flags[&quot;enterprise_plan&quot;];
</code></pre>

<pre><code class="language-javascript">var options = {
    bucketType: 'maps',
    bucket: 'customers',
    key: 'ahmed_info'
};

client.fetchMap(options, function (err, rslt) {
    if (err) {
        throw new Error(err);
    }

    var enterprisePlan =
        rslt.map.maps.annika_info.flags.enterprise_plan;
});
</code></pre>

<pre><code class="language-erlang">riakc_map:dirty_value(Map18).
</code></pre>

<pre><code class="language-curl"># Specific values for fields inside of maps (or maps within maps, for that
# matter), cannot be obtained directly through the HTTP interface.
</code></pre>

<p>It&rsquo;s also important to track the number of purchases that Annika has
made with our company. Annika just made her first widget purchase:</p>

<pre><code class="language-java">// Using our &quot;ahmedMap&quot; location from above:

MapUpdate annikaUpdate = new MapUpdate()
        .update(&quot;widget_purchases&quot;, new CounterUpdate(1));
MapUpdate ahmedUpdate = new MapUpdate()
        .update(&quot;annika_info&quot;, annikaUpdate);
UpdateMap update = new UpdateMap.Builder(ahmedMap, ahmedUpdate)
        .build();
client.execute(update);
</code></pre>

<pre><code class="language-ruby">map.maps['annika_info'].counters['widget_purchases'].increment
</code></pre>

<pre><code class="language-php">$updateCounter = (new \Basho\Riak\Command\Builder\IncrementCounter($riak))
    -&gt;withIncrement(1);

$annikaMap = (new \Basho\Riak\Command\Builder\UpdateMap($riak))
    -&gt;updateCounter('widget_purchases', $updateCounter);

(new \Basho\Riak\Command\Builder\UpdateMap($riak))
    -&gt;updateMap('annika_info', $annikaMap)
    -&gt;atLocation($location)
    -&gt;build()
    -&gt;execute();
</code></pre>

<pre><code class="language-python">map.maps['annika_info'].counters['widget_purchases'].increment()
map.store()
</code></pre>

<pre><code class="language-csharp">// https://github.com/basho/riak-dotnet-client/blob/develop/src/RiakClientExamples/Dev/Using/DataTypes.cs

var mapOperation = new UpdateMap.MapOperation();
mapOperation.Map(&quot;annika_info&quot;).IncrementCounter(&quot;widget_purchases&quot;, 1);

builder.WithMapOperation(mapOperation);

UpdateMap cmd = builder.Build();
client.Execute(cmd);
</code></pre>

<pre><code class="language-javascript">var mapOp = new Riak.Commands.CRDT.UpdateMap.MapOperation();
mapOp.map('annika_info').incrementCounter('widget_purchases', 1);

var options = {
    bucketType: 'maps',
    bucket: 'customers',
    key: 'ahmed_info',
    op: mapOp
};

client.updateMap(options, function (err, rslt) {
    if (err) {
        throw new Error(err);
    }
});
</code></pre>

<pre><code class="language-erlang">Map19 = riakc_map:update(
    {&lt;&lt;&quot;annika_info&quot;&gt;&gt;, map},
    fun(M) -&gt; riakc_map:update(
        {&lt;&lt;&quot;widget_purchases&quot;&gt;&gt;, counter},
        fun(C) -&gt; riakc_counter:increment(1, C) end,
        M) end,
    Map18).
</code></pre>

<pre><code class="language-curl">curl -XPOST http://localhost:8098/types/maps/buckets/customers/datatypes/ahmed_info \
  -H &quot;Content-Type: application/json&quot; \
  -d '
  {
    &quot;update&quot;: {
      &quot;annika_info_map&quot;: {
        &quot;update&quot;: {
          &quot;widget_purchases_counter&quot;: 1
        }
      }
    }
  }
  '
</code></pre>

<p>Now let&rsquo;s store Annika&rsquo;s interests in a set:</p>

<pre><code class="language-java">// Using our &quot;ahmedMap&quot; location from above:

SetUpdate su = new SetUpdate().add(&quot;tango dancing&quot;);
MapUpdate annikaUpdate = new MapUpdate()
        .update(&quot;interests&quot;, su);
MapUpdate ahmedUpdate = new MapUpdate()
        .update(&quot;annika_info&quot;, annikaUpdate);
UpdateMap update = new UpdateMap.Builder(ahmedMap, ahmedUpdate)
        .build();
client.execute(update);
</code></pre>

<pre><code class="language-ruby">map.maps['annika_info'].sets['interests'].add('tango dancing')
</code></pre>

<pre><code class="language-php">$updateSet = (new \Basho\Riak\Command\Builder\UpdateSet($riak))
    -&gt;add('tango dancing');

$annikaMap = (new \Basho\Riak\Command\Builder\UpdateMap($riak))
    -&gt;updateSet('interests', $updateSet);

$response = (new \Basho\Riak\Command\Builder\UpdateMap($riak))
    -&gt;updateMap('annika_info', $annikaMap)
    -&gt;atLocation($location)
    -&gt;withParameter('returnbody', 'true')
    -&gt;build()
    -&gt;execute();
</code></pre>

<pre><code class="language-python">map.maps['annika_info'].sets['interests'].add('tango dancing')
map.store()
</code></pre>

<pre><code class="language-csharp">// https://github.com/basho/riak-dotnet-client/blob/develop/src/RiakClientExamples/Dev/Using/DataTypes.cs

var mapOperation = new UpdateMap.MapOperation();
mapOperation.Map(&quot;annika_info&quot;).AddToSet(&quot;interests&quot;, &quot;tango dancing&quot;);

builder.WithMapOperation(mapOperation);
client.Execute(builder.Build());
</code></pre>

<pre><code class="language-javascript">var mapOp = new Riak.Commands.CRDT.UpdateMap.MapOperation();
var annika_map = mapOp.map('annika_info');
annika_map.addToSet('interests', 'tango dancing');

var options = {
    bucketType: 'maps',
    bucket: 'customers',
    key: 'ahmed_info',
    op: mapOp
};

client.updateMap(options, function (err, rslt) {
    if (err) {
        throw new Error(err);
    }
});
</code></pre>

<pre><code class="language-erlang">Map20 = riakc_map:update(
    {&lt;&lt;&quot;annika_info&quot;&gt;&gt;, map},
    fun(M) -&gt; riakc_map:update(
        {&lt;&lt;&quot;interests&quot;&gt;&gt;, set},
        fun(S) -&gt; riakc_set:add_element(&lt;&lt;&quot;tango dancing&quot;&gt;&gt;, S) end,
        M) end,
    Map19).
</code></pre>

<pre><code class="language-curl">curl -XPOST http://localhost:8098/types/maps/buckets/customers/datatypes/ahmed_info \
  -H &quot;Content-Type: application/json&quot; \
  -d '
  {
    &quot;update&quot;: {
      &quot;annika_info_map&quot;: {
        &quot;update&quot;: {
          &quot;interests_set&quot;: {
            &quot;add&quot;: &quot;tango dancing&quot;
          }
        }
      }
    }
  }
  '
</code></pre>

<p>We can remove that interest in just the way that we would expect:</p>

<pre><code class="language-java">// Using our &quot;ahmedMap&quot; location from above:

SetUpdate su = new SetUpdate().remove(&quot;tango dancing&quot;);
MapUpdate annikaUpdate = new MapUpdate()
        .update(&quot;interests&quot;, su);
MapUpdate ahmedUpdate = new MapUpdate()
        .update(&quot;annika_info&quot;, annikaUpdate);
UpdateMap update = new UpdateMap.Builder(ahmedMap, ahmedUpdate)
        .withUpdate(ahmedUpdate)
        .build();
client.execute(update);
</code></pre>

<pre><code class="language-ruby">map.maps['annika_info'].sets['interests'].remove('tango dancing')
</code></pre>

<pre><code class="language-php">$updateSet = (new \Basho\Riak\Command\Builder\UpdateSet($riak))
    -&gt;remove('tango dancing');

$annikaMap = (new \Basho\Riak\Command\Builder\UpdateMap($riak))
    -&gt;updateSet('interests', $updateSet);

(new \Basho\Riak\Command\Builder\UpdateMap($riak))
    -&gt;updateMap('annika_info', $annikaMap)
    -&gt;atLocation($location)
    -&gt;withContext($response-&gt;getMap()-&gt;getContext())
    -&gt;build()
    -&gt;execute();
</code></pre>

<pre><code class="language-python">map.maps['annika_info'].sets['interests'].discard('tango dancing')
map.store()
</code></pre>

<pre><code class="language-csharp">// https://github.com/basho/riak-dotnet-client/blob/develop/src/RiakClientExamples/Dev/Using/DataTypes.cs

var mapOperation = new UpdateMap.MapOperation();
mapOperation.Map(&quot;annika_info&quot;).RemoveFromSet(&quot;interests&quot;, &quot;tango dancing&quot;);

// Note: using Context from previous response
builder
    .WithMapOperation(mapOperation)
    .WithContext(response.Context);
client.Execute(builder.Build());
</code></pre>

<pre><code class="language-javascript">var options = {
    bucketType: 'maps',
    bucket: 'customers',
    key: 'ahmed_info'
};

client.fetchMap(options, function (err, rslt) {
    var mapOp = new Riak.Commands.CRDT.UpdateMap.MapOperation();
    var annika_map = mapOp.map('annika_info');
    annika_map.removeFromSet('interests', 'tango dancing');

    options = {
        bucketType: 'maps',
        bucket: 'customers',
        key: 'ahmed_info',
        op: mapOp,
        context: rslt.context
    };

    client.updateMap(options, function (err, rslt) {
        if (err) {
            throw new Error(err);
        }
    });
});
</code></pre>

<pre><code class="language-erlang">Map21 = riakc_map:update(
    {&lt;&lt;&quot;annika_info&quot;&gt;&gt;, map},
    fun(M) -&gt; riakc_map:update(
        {&lt;&lt;&quot;interests&quot;&gt;&gt;, set},
        fun(S) -&gt; riakc_set:del_element(&lt;&lt;&quot;tango dancing&quot;&gt;&gt;, S) end,
        M) end,
    Map20).
</code></pre>

<pre><code class="language-curl">curl -XPOST http://localhost:8098/types/maps/buckets/customers/datatypes/ahmed_info \
  -H &quot;Content-Type: application/json&quot; \
  -d '
  {
    &quot;update&quot;: {
      &quot;annika_info_map&quot;: {
        &quot;interests_set&quot;: {
          &quot;remove&quot;: &quot;tango dancing&quot;
        }
      }
    }
  }
  '
</code></pre>

<p>If we wanted to add store information about one of Annika&rsquo;s specific
purchases, we could do so within a map:</p>

<pre><code class="language-java">// Using our &quot;ahmedMap&quot; location from above:

MapUpdate purchaseUpdate = new MapUpdate()
        .update(&quot;first_purchase&quot;, new FlagUpdate(true)
        .update(&quot;amount&quot;, new RegisterUpdate(&quot;1271&quot;))
        .update(&quot;items&quot;, new SetUpdate().add(&quot;large widget&quot;));
MapUpdate annikaUpdate = new MapUpdate()
        .update(&quot;purchase&quot;, purchaseUpdate);
MapUpdate ahmedUpdate = new MapUpdate()
        .update(&quot;annika_info&quot;, annikaUpdate);
UpdateMap update = new UpdateMap.Builder(ahmedMap, ahmedUpdate)
        .withUpdate(ahmedUpdate)
        .build();
client.execute(update);
</code></pre>

<pre><code class="language-ruby">map.maps['annika_info'].maps['purchase'].batch do |m|
  m.flags['first_purchase'] = true
  m.register['amount'] = 1271.to_s
  m.sets['items'].add('large widget')
end
</code></pre>

<pre><code class="language-php">$updateSet = (new \Basho\Riak\Command\Builder\UpdateSet($riak))
    -&gt;add('large widget');

$purchaseMap = (new \Basho\Riak\Command\Builder\UpdateMap($riak))
    -&gt;updateFlag('first_purchase', true)
    -&gt;updateRegister('amount', '1271')
    -&gt;updateSet('items', $updateSet);

$annikaMap = (new \Basho\Riak\Command\Builder\UpdateMap($riak))
    -&gt;updateMap('purchase', $purchaseMap);

$response = (new \Basho\Riak\Command\Builder\UpdateMap($riak))
    -&gt;updateMap('annika_info', $annikaMap)
    -&gt;atLocation($location)
    -&gt;withParameter('returnbody', 'true')
    -&gt;build()
    -&gt;execute();
</code></pre>

<pre><code class="language-python">map.maps['annika_info'].maps['purchase'].flags['first_purchase'].enable()
map.maps['annika_info'].maps['purchase'].register['amount'].assign(str(1271))
map.maps['annika_info'].maps['purchase'].sets['items'].add('large widget')
# and so on
map.store()
</code></pre>

<pre><code class="language-csharp">// https://github.com/basho/riak-dotnet-client/blob/develop/src/RiakClientExamples/Dev/Using/DataTypes.cs

var mapOperation = new UpdateMap.MapOperation();
mapOperation.Map(&quot;annika_info&quot;).Map(&quot;purchase&quot;)
    .SetFlag(&quot;first_purchase&quot;, true)
    .SetRegister(&quot;amount&quot;, &quot;1271&quot;)
    .AddToSet(&quot;items&quot;, &quot;large widget&quot;);

builder.WithMapOperation(mapOperation);
client.Execute(builder.Build());
</code></pre>

<pre><code class="language-javascript">var mapOp = new Riak.Commands.CRDT.UpdateMap.MapOperation();
var annika_map = mapOp.map('annika_info');
var annika_purchase_map = annika_map.map('purchase');
annika_purchase_map.setFlag('first_purchase', true);
annika_purchase_map.setRegister('amount', '1271');
annika_purchase_map.addToSet('items', 'large widget');

var options = {
    bucketType: 'maps',
    bucket: 'customers',
    key: 'ahmed_info',
    op: mapOp
};

client.updateMap(options, function (err, rslt) {
    if (err) {
        throw new Error(err);
    }
});
</code></pre>

<pre><code class="language-erlang">Map22 = riakc_map:update(
    {&lt;&lt;&quot;annika_info&quot;&gt;&gt;, map},
    fun(M) -&gt; riakc_map:update(
        {&lt;&lt;&quot;purchase&quot;&gt;&gt;, map},
        fun(M) -&gt; riakc_map:update(
            {&lt;&lt;&quot;first_purchase&quot;&gt;&gt;, flag},
            fun(R) -&gt; riakc_flag:enable(R) end,
        M) end,
    M) end,
    Map21
).
</code></pre>

<pre><code class="language-curl">curl -XPOST http://localhost:8098/types/maps/buckets/customers/datatypes/ahmed_info \
  -H &quot;Content-Type: application/json&quot; \
  -d '
  {
    &quot;update&quot;: {
      &quot;annika_info_map&quot;: {
        &quot;update&quot;: {
          &quot;purchase_map&quot;: {
            &quot;update&quot;: {
              &quot;first_purchase_flag&quot;: &quot;enable&quot;,
              &quot;amount_register&quot;: &quot;1271&quot;,
              &quot;items_set&quot;: {
                &quot;add&quot;: &quot;large widget&quot;
              }
            }
          }
        }
      }
    }
  }
  '
</code></pre>

      </main>


    </article>


    <footer class="footer">

  <div class="inline-block   footer__attributions">

    <p>
      This work is licensed under a
      <br class="[bs] hidden-md-up">
      <a href="http://creativecommons.org/licenses/by/4.0/" target="_blank">
        Creative Commons Attribution 4.0 <br class="[bs] hidden-sm-up"> International Public License
      </a>
    </p>

    <p>
       2011-2017&nbsp;<a href="http://www.basho.com">Basho Technologies, Inc.</a>
    </p>

  </div>

</footer>



  </div>


  <script src="//evadne.github.io/basho_docs/js/main.js" type="text/javascript"></script>

</body>
</html>
