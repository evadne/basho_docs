<!DOCTYPE html>







<html class="no-js" lang="en">




<head>

  <meta charset="utf-8">
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
  <meta name="viewport" content="width=device-width">
  <link rel="shortcut icon" href="//evadne.github.io/basho_docs/images/branding/favicon.ico" type="image/x-icon" />

  <title>Searching with Data Types</title>

  <link href="//evadne.github.io/basho_docs/css/main.css" media="screen" rel="stylesheet" type="text/css">
  <link rel="canonical" href="//evadne.github.io/basho_docs/riak/kv/latest/developing/usage/searching-data-types/" />
  <!-- The below meta tags are included to allow JS code to use variables
       defined in Hugo---our static site generator. -->
  <meta name="project" content="riak_kv">
  <meta name="version" content="2.0.4">
  <meta name="project_relative_path" content="developing/usage/searching-data-types/">

</head>



<body class="riak_kv 2.0.4  ">


  <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-T9C8MK" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-T9C8MK');</script>


  
<header class="banner">



  
  <div class="float-right   banner__menu-bars   [bs] hidden-md-up">
    <div class="menu-bars   js_toggle-content-nav"></div>
  </div>



  
  <div class="float-left   banner__docs-logo">
    <a href="//evadne.github.io/basho_docs/index.html" class="block   docs-logo"><img class="docs-logo__image" src="//evadne.github.io/basho_docs/images/branding/basho_docs_logo.png"></a>
  </div>



  
  <div class="overflow-hidden   banner__navigation-pane   [bs] hidden-sm-down">


    
    <div class="float-left    banner__intra-brand__width-wrapper">
    <div class="float-right   banner__intra-brand">
      <div class="float-right">
        
        <a class="inline-block   banner__brand-link" href="http://basho.com/">Basho</a><a class="inline-block   banner__brand-link" href="https://academy.basho.com">Academy</a><a class="inline-block   banner__brand-link" href="//evadne.github.io/basho_docs/community">Community</a><a class="inline-block   banner__brand-link" href="http://basho.com/contact">Contact</a></div>
    </div>
    </div>




    
    <div class="float-left    banner__intra-site__width-wrapper">
    <div class="float-right   banner__intra-site">
      
      <a class="inline-block   banner__brand-link banner__brand-link--current">Riak KV</a><a class="inline-block   banner__brand-link " href="//evadne.github.io/basho_docs/riak/ts/latest/">Riak TS</a><a class="inline-block   banner__brand-link " href="//evadne.github.io/basho_docs/riak/cs/latest/">Riak CS</a></div>
    </div>


  </div>

</header>



  
  



<nav class="content-nav content-nav--top-size-full">




  <div class="content-nav__fixed-top">
    <form id="searchbox_011972015458788978446:zgdcy4fa-o0" class="search" action="">

      <span class="block float-left   search__icon-container   docs-icon--search">|</span>

      <span class="block overflow">
        <input class="search__input" id="main-search" type="search" name="q" placeholder="Search">
      </span>

    </form>


    <div class="clearfix   version-picker">

  
      <a class="inline-block float-left    product__title" href="//evadne.github.io/basho_docs/"><img class="product__logo" src="//evadne.github.io/basho_docs/images/branding/riak-logo.png">Riak<span class="product__title-highlight">KV</span>
      </a>
  

      <div class="inline-block float-right   selector selector--version">
        <header class="selector__title">Versions</header>
        <button class="selector__btn" type="button">2.0.4</button>
        <div    class="selector__arrow"></div>
      </div>

    </div>


  </div>


  
  <div class="overflow-y-hidden   selector-pane__sizing-box selector-pane__sizing-box--hidden">
  <div class="                    selector-pane__shadow-box">

    
    <div class="edge-fader edge-fader--left">
      <span class="inline-block   edge-fader__arrow edge-fader__arrow--invisible"></span>
    </div>
    <div class="edge-fader edge-fader--right">
      <span class="inline-block   edge-fader__arrow edge-fader__arrow--invisible"></span>
    </div>

    <div class="overflow-x        selector-pane__primary selector-pane--versions  js_edge-fader--target">
      
    </div>
  </div>
  </div>




  
  <div class="             content-nav__primary__sizing-box">
  <div class="             content-nav__primary__shadow-box">
  <div class="overflow-y   content-nav__primary">

    <div class="content-nav__menu-container">

      <ul class="content-menu
                 content-menu--depth-0
                 content-menu--open">


        <li >

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--riak">|</span>
            <span class="block float-right   content-menu__menu-toggle
                        ">
            </span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/" >
              <span class="block   content-menu__item__right-border"><strong>Riak KV</strong></span>
            </a>

          </div>
          
          


<ul class="content-menu
           content-menu--depth-1
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/introduction/" >
        <span class="block   content-menu__item__right-border">Intro to Riak KV 2.0</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/release-notes/" >
        <span class="block   content-menu__item__right-border">Release Notes</span>
      </a>

    </div>

  </li>



</ul>

        </li>


        <li class="content-menu__download-entry">

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--download-alt">|</span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/downloads/" >
              <span class="block   content-menu__item__right-border"><strong>Download Riak KV</strong></span>
            </a>

          </div>

        </li>


        <li >

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--install">|</span>
            <span class="block float-right   content-menu__menu-toggle
                        ">
            </span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/" >
              <span class="block   content-menu__item__right-border"><strong>Setup</strong></span>
            </a>

          </div>
          
          


<ul class="content-menu
           content-menu--depth-1
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/planning/" >
        <span class="block   content-menu__item__right-border">Planning</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/planning/start/" >
        <span class="block   content-menu__item__right-border">Start Planning</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/planning/operating-system/" >
        <span class="block   content-menu__item__right-border">OS Support</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/planning/backend/" >
        <span class="block   content-menu__item__right-border">Choosing a Backend</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/planning/backend/bitcask/" >
        <span class="block   content-menu__item__right-border">Bitcask</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/planning/backend/leveldb/" >
        <span class="block   content-menu__item__right-border">LevelDB</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/planning/backend/memory/" >
        <span class="block   content-menu__item__right-border">Memory</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/planning/backend/multi/" >
        <span class="block   content-menu__item__right-border">Multi-backend</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/planning/cluster-capacity/" >
        <span class="block   content-menu__item__right-border">Cluster Capacity</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/planning/bitcask-capacity-calc/" >
        <span class="block   content-menu__item__right-border">Bitcask Capacity Calculator</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/planning/best-practices/" >
        <span class="block   content-menu__item__right-border">Best Practices</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/installing/" >
        <span class="block   content-menu__item__right-border">Installing</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/installing/amazon-web-services/" >
        <span class="block   content-menu__item__right-border">Amazon Web Services</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/installing/debian-ubuntu/" >
        <span class="block   content-menu__item__right-border">Debian &amp; Ubuntu</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/installing/freebsd/" >
        <span class="block   content-menu__item__right-border">FreeBSD</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/installing/mac-osx/" >
        <span class="block   content-menu__item__right-border">Mac OS X</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/installing/rhel-centos/" >
        <span class="block   content-menu__item__right-border">RHEL &amp; CentOS</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/installing/smartos/" >
        <span class="block   content-menu__item__right-border">SmartOS</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/installing/solaris/" >
        <span class="block   content-menu__item__right-border">Solaris</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/installing/suse/" >
        <span class="block   content-menu__item__right-border">SUSE</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/installing/windows-azure/" >
        <span class="block   content-menu__item__right-border">Windows Azure</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/installing/source/" >
        <span class="block   content-menu__item__right-border">Installing From Source</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/installing/source/erlang/" >
        <span class="block   content-menu__item__right-border">Installing Erlang</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/installing/source/jvm/" >
        <span class="block   content-menu__item__right-border">Installing the JVM</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/installing/verify/" >
        <span class="block   content-menu__item__right-border">Verifying an Installation</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/upgrading/" >
        <span class="block   content-menu__item__right-border">Upgrading</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/upgrading/checklist/" >
        <span class="block   content-menu__item__right-border">Production Checklist</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/upgrading/version/" >
        <span class="block   content-menu__item__right-border">Upgrading to 2.0</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/upgrading/cluster/" >
        <span class="block   content-menu__item__right-border">Upgrading a Cluster</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/upgrading/search/" >
        <span class="block   content-menu__item__right-border">Upgrading Search 1.x to 2.x</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/setup/downgrade/" >
        <span class="block   content-menu__item__right-border">Downgrading</span>
      </a>

    </div>

  </li>



</ul>

        </li>


        <li >

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--cog">|</span>
            <span class="block float-right   content-menu__menu-toggle
                        ">
            </span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/" >
              <span class="block   content-menu__item__right-border"><strong>Configuring</strong></span>
            </a>

          </div>
          
          


<ul class="content-menu
           content-menu--depth-1
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/basic/" >
        <span class="block   content-menu__item__right-border">Basic Configuration</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/backend/" >
        <span class="block   content-menu__item__right-border">Backend Configuration</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/managing/" >
        <span class="block   content-menu__item__right-border">Managing Configuration</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/reference/" >
        <span class="block   content-menu__item__right-border">Configuration Reference</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/strong-consistency/" >
        <span class="block   content-menu__item__right-border">Implementing Strong Consistency</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/load-balancing-proxy/" >
        <span class="block   content-menu__item__right-border">Load Balancing &amp; Proxy</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/mapreduce/" >
        <span class="block   content-menu__item__right-border">MapReduce Settings</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/search/" >
        <span class="block   content-menu__item__right-border">Search Settings</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/v3-multi-datacenter/" >
        <span class="block   content-menu__item__right-border">V3 Multi-Datacenter</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/v3-multi-datacenter/quick-start/" >
        <span class="block   content-menu__item__right-border">Quickstart</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/v3-multi-datacenter/nat/" >
        <span class="block   content-menu__item__right-border">With NAT</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/v3-multi-datacenter/ssl/" >
        <span class="block   content-menu__item__right-border">SSL</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/v2-multi-datacenter/" >
        <span class="block   content-menu__item__right-border">V2 Multi-Datacenter</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/v2-multi-datacenter/quick-start/" >
        <span class="block   content-menu__item__right-border">Quickstart</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/v2-multi-datacenter/nat/" >
        <span class="block   content-menu__item__right-border">With NAT</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/configuring/v2-multi-datacenter/ssl/" >
        <span class="block   content-menu__item__right-border">SSL</span>
      </a>

    </div>

  </li>



</ul>

  </li>



</ul>

        </li>


        <li >

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--database">|</span>
            <span class="block float-right   content-menu__menu-toggle
                        ">
            </span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/" >
              <span class="block   content-menu__item__right-border"><strong>Using</strong></span>
            </a>

          </div>
          
          


<ul class="content-menu
           content-menu--depth-1
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/running-a-cluster/" >
        <span class="block   content-menu__item__right-border">Running a Cluster</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/admin/" >
        <span class="block   content-menu__item__right-border">Cluster Administration</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/admin/commands/" >
        <span class="block   content-menu__item__right-border">Cluster Admin Commands</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/admin/riak-admin/" >
        <span class="block   content-menu__item__right-border">riak-admin CLI</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/admin/riak-cli/" >
        <span class="block   content-menu__item__right-border">riak CLI</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/admin/riak-control/" >
        <span class="block   content-menu__item__right-border">Riak Control</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/cluster-operations/" >
        <span class="block   content-menu__item__right-border">Cluster Operations</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/cluster-operations/adding-removing-nodes/" >
        <span class="block   content-menu__item__right-border">Adding/Removing Nodes</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/cluster-operations/changing-cluster-info/" >
        <span class="block   content-menu__item__right-border">Changing Cluster Info</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/cluster-operations/replacing-node/" >
        <span class="block   content-menu__item__right-border">Replacing a Node</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/cluster-operations/inspecting-node/" >
        <span class="block   content-menu__item__right-border">Inspecting a Node</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/cluster-operations/bucket-types/" >
        <span class="block   content-menu__item__right-border">Bucket Types</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/cluster-operations/logging/" >
        <span class="block   content-menu__item__right-border">Logging</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/cluster-operations/backing-up/" >
        <span class="block   content-menu__item__right-border">Backing Up</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/cluster-operations/handoff/" >
        <span class="block   content-menu__item__right-border">Handoff</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/cluster-operations/strong-consistency/" >
        <span class="block   content-menu__item__right-border">Monitoring Strong Consistency</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/cluster-operations/active-anti-entropy/" >
        <span class="block   content-menu__item__right-border">Managing Active Anti-Entropy</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/cluster-operations/v3-multi-datacenter/" >
        <span class="block   content-menu__item__right-border">V3 Multi-Datacenter</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/cluster-operations/v2-multi-datacenter/" >
        <span class="block   content-menu__item__right-border">V2 Multi-Datacenter</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/repair-recovery/" >
        <span class="block   content-menu__item__right-border">Repair &amp; Recovery</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/repair-recovery/failure-recovery/" >
        <span class="block   content-menu__item__right-border">Failure &amp; Recovery</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/repair-recovery/errors/" >
        <span class="block   content-menu__item__right-border">Errors</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/repair-recovery/repairs/" >
        <span class="block   content-menu__item__right-border">Repairs</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/repair-recovery/rolling-restart/" >
        <span class="block   content-menu__item__right-border">Rolling Restarts</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/repair-recovery/failed-node/" >
        <span class="block   content-menu__item__right-border">Recover a Failed Node</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/repair-recovery/secondary-indexes/" >
        <span class="block   content-menu__item__right-border">Repair Secondary Indexes</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/security/" >
        <span class="block   content-menu__item__right-border">Security</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/security/basics/" >
        <span class="block   content-menu__item__right-border">Security Basics</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/security/managing-sources/" >
        <span class="block   content-menu__item__right-border">Managing Security Sources</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/performance/" >
        <span class="block   content-menu__item__right-border">Performance</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/performance/benchmarking/" >
        <span class="block   content-menu__item__right-border">Benchmarking</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/performance/open-files-limit/" >
        <span class="block   content-menu__item__right-border">Open Files Limit</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/performance/v2-scheduling-fullsync/" >
        <span class="block   content-menu__item__right-border">V2 Scheduling Fullsync</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/performance/latency-reduction/" >
        <span class="block   content-menu__item__right-border">Latency Reduction</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/performance/erlang/" >
        <span class="block   content-menu__item__right-border">Erlang VM</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/performance/amazon-web-services/" >
        <span class="block   content-menu__item__right-border">Amazon Web Services</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/performance/multi-datacenter-tuning/" >
        <span class="block   content-menu__item__right-border">Multi-Datacenter Replication</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/troubleshooting/" >
        <span class="block   content-menu__item__right-border">Troubleshooting</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/troubleshooting/http-204/" >
        <span class="block   content-menu__item__right-border">HTTP 204</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/" >
        <span class="block   content-menu__item__right-border">Reference</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/logging/" >
        <span class="block   content-menu__item__right-border">Logging</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/handoff/" >
        <span class="block   content-menu__item__right-border">Handoff</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/bucket-types/" >
        <span class="block   content-menu__item__right-border">Bucket Types</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/object-deletion/" >
        <span class="block   content-menu__item__right-border">Object Deletion</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/runtime-interaction/" >
        <span class="block   content-menu__item__right-border">Runtime Interaction</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/statistics-monitoring/" >
        <span class="block   content-menu__item__right-border">Monitoring</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/snmp/" >
        <span class="block   content-menu__item__right-border">SNMP</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/jmx/" >
        <span class="block   content-menu__item__right-border">JMX Monitoring</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/search/" >
        <span class="block   content-menu__item__right-border">Search</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/secondary-indexes/" >
        <span class="block   content-menu__item__right-border">Secondary Indexes</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/custom-code/" >
        <span class="block   content-menu__item__right-border">Installing Custom Code</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/strong-consistency/" >
        <span class="block   content-menu__item__right-border">Strong Consistency</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/multi-datacenter/" >
        <span class="block   content-menu__item__right-border">Multi-Datacenter</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/multi-datacenter/statistics/" >
        <span class="block   content-menu__item__right-border">Statistics</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/multi-datacenter/per-bucket-replication/" >
        <span class="block   content-menu__item__right-border">Per Bucket</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/multi-datacenter/monitoring/" >
        <span class="block   content-menu__item__right-border">Monitoring</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/multi-datacenter/comparison/" >
        <span class="block   content-menu__item__right-border">Comparison</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/v3-multi-datacenter/" >
        <span class="block   content-menu__item__right-border">V3 Replication</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/v3-multi-datacenter/architecture/" >
        <span class="block   content-menu__item__right-border">Architecture</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/v3-multi-datacenter/aae/" >
        <span class="block   content-menu__item__right-border">Active Anti-Entropy</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/v3-multi-datacenter/cascading-writes/" >
        <span class="block   content-menu__item__right-border">Cascading Writes</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/v3-multi-datacenter/scheduling-fullsync/" >
        <span class="block   content-menu__item__right-border">Scheduling Fullsync</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/v2-multi-datacenter/" >
        <span class="block   content-menu__item__right-border">V2 Replication</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/v2-multi-datacenter/architecture/" >
        <span class="block   content-menu__item__right-border">Architecture</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/using/reference/v2-multi-datacenter/scheduling-fullsync/" >
        <span class="block   content-menu__item__right-border">Scheduling Fullsync</span>
      </a>

    </div>

  </li>



</ul>

  </li>



</ul>

  </li>



</ul>

        </li>


        <li >

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--lambda">|</span>
            <span class="block float-right   content-menu__menu-toggle
                         content-menu__menu-toggle--open ">
            </span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/" >
              <span class="block   content-menu__item__right-border"><strong>Developing</strong></span>
            </a>

          </div>
          
          


<ul class="content-menu
           content-menu--depth-1
           content-menu--open"
    style="display: block">



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/" >
        <span class="block   content-menu__item__right-border">Getting Started</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/java/" >
        <span class="block   content-menu__item__right-border">Java</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/java/crud-operations/" >
        <span class="block   content-menu__item__right-border">CRUD Operations</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/java/querying/" >
        <span class="block   content-menu__item__right-border">Querying</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/java/object-modeling/" >
        <span class="block   content-menu__item__right-border">Object Modeling</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/ruby/" >
        <span class="block   content-menu__item__right-border">Ruby</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/ruby/crud-operations/" >
        <span class="block   content-menu__item__right-border">CRUD Operations</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/ruby/querying/" >
        <span class="block   content-menu__item__right-border">Querying</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/ruby/object-modeling/" >
        <span class="block   content-menu__item__right-border">Object Modeling</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/python/" >
        <span class="block   content-menu__item__right-border">Python</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/python/crud-operations/" >
        <span class="block   content-menu__item__right-border">CRUD Operations</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/python/querying/" >
        <span class="block   content-menu__item__right-border">Querying</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/python/object-modeling/" >
        <span class="block   content-menu__item__right-border">Object Modeling</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/csharp/" >
        <span class="block   content-menu__item__right-border">C Sharp</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/csharp/crud-operations/" >
        <span class="block   content-menu__item__right-border">CRUD Operations</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/csharp/querying/" >
        <span class="block   content-menu__item__right-border">Querying</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/csharp/object-modeling/" >
        <span class="block   content-menu__item__right-border">Object Modeling</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/nodejs/" >
        <span class="block   content-menu__item__right-border">NodeJS</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/nodejs/crud-operations/" >
        <span class="block   content-menu__item__right-border">CRUD Operations</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/nodejs/querying/" >
        <span class="block   content-menu__item__right-border">Querying</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/nodejs/object-modeling/" >
        <span class="block   content-menu__item__right-border">Object Modeling</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/erlang/" >
        <span class="block   content-menu__item__right-border">Erlang</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/erlang/crud-operations/" >
        <span class="block   content-menu__item__right-border">CRUD Operations</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/erlang/querying/" >
        <span class="block   content-menu__item__right-border">Querying</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/erlang/object-modeling/" >
        <span class="block   content-menu__item__right-border">Object Modeling</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/golang/" >
        <span class="block   content-menu__item__right-border">Go</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/golang/crud-operations/" >
        <span class="block   content-menu__item__right-border">CRUD Operations</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/golang/querying/" >
        <span class="block   content-menu__item__right-border">Querying</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/golang/object-modeling/" >
        <span class="block   content-menu__item__right-border">Object Modeling</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/php/" >
        <span class="block   content-menu__item__right-border">PHP</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/php/crud-operations/" >
        <span class="block   content-menu__item__right-border">CRUD Operations</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/getting-started/php/querying/" >
        <span class="block   content-menu__item__right-border">Querying</span>
      </a>

    </div>

  </li>



</ul>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                   content-menu__menu-toggle--open ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/" >
        <span class="block   content-menu__item__right-border">Usage</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           content-menu--open"
    style="display: block">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/creating-objects/" >
        <span class="block   content-menu__item__right-border">Creating Objects</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/reading-objects/" >
        <span class="block   content-menu__item__right-border">Reading Objects</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/updating-objects/" >
        <span class="block   content-menu__item__right-border">Updating Objects</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/deleting-objects/" >
        <span class="block   content-menu__item__right-border">Deleting Objects</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/content-types/" >
        <span class="block   content-menu__item__right-border">Content Types</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/search/" >
        <span class="block   content-menu__item__right-border">Searching</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/mapreduce/" >
        <span class="block   content-menu__item__right-border">Using MapReduce</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/secondary-indexes/" >
        <span class="block   content-menu__item__right-border">Using Secondary Indexes</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/bucket-types/" >
        <span class="block   content-menu__item__right-border">Bucket Types</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/commit-hooks/" >
        <span class="block   content-menu__item__right-border">Using Commit Hooks</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/search-schemas/" >
        <span class="block   content-menu__item__right-border">Creating Search Schemas</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item  content-menu__item--selected ">

      <a class="block overflow   content-menu__link--depth-2" >
        <span class="block   content-menu__item__right-border">Searching with Data Types</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/document-store/" >
        <span class="block   content-menu__item__right-border">Implementing a Document Store</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/custom-extractors/" >
        <span class="block   content-menu__item__right-border">Custom Extractors</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/security/" >
        <span class="block   content-menu__item__right-border">Security</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/security/java/" >
        <span class="block   content-menu__item__right-border">Java</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/security/ruby/" >
        <span class="block   content-menu__item__right-border">Ruby</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/security/python/" >
        <span class="block   content-menu__item__right-border">Python</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/security/erlang/" >
        <span class="block   content-menu__item__right-border">Erlang</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/security/php/" >
        <span class="block   content-menu__item__right-border">PHP</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/replication/" >
        <span class="block   content-menu__item__right-border">Replication</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/conflict-resolution/" >
        <span class="block   content-menu__item__right-border">Conflict Resolution</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/conflict-resolution/java/" >
        <span class="block   content-menu__item__right-border">Java</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/conflict-resolution/ruby/" >
        <span class="block   content-menu__item__right-border">Ruby</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/conflict-resolution/python/" >
        <span class="block   content-menu__item__right-border">Python</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/conflict-resolution/csharp/" >
        <span class="block   content-menu__item__right-border">C Sharp</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/conflict-resolution/nodejs/" >
        <span class="block   content-menu__item__right-border">NodeJS</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/conflict-resolution/php/" >
        <span class="block   content-menu__item__right-border">PHP</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/conflict-resolution/golang/" >
        <span class="block   content-menu__item__right-border">Go</span>
      </a>

    </div>

  </li>



</ul>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/data-types/" >
        <span class="block   content-menu__item__right-border">Data Types</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/data-types/counters/" >
        <span class="block   content-menu__item__right-border">Counters</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/data-types/sets/" >
        <span class="block   content-menu__item__right-border">Sets</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/data-types/maps/" >
        <span class="block   content-menu__item__right-border">Maps</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/key-value-modeling/" >
        <span class="block   content-menu__item__right-border">Key/Value Modeling</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/app-guide/" >
        <span class="block   content-menu__item__right-border">Application Guide</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/app-guide/replication-properties/" >
        <span class="block   content-menu__item__right-border">Replication Properties</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/app-guide/strong-consistency/" >
        <span class="block   content-menu__item__right-border">Strong Consistency</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/app-guide/advanced-mapreduce/" >
        <span class="block   content-menu__item__right-border">Advanced MapReduce</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/app-guide/cluster-metadata/" >
        <span class="block   content-menu__item__right-border">Cluster Metadata</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/client-libraries/" >
        <span class="block   content-menu__item__right-border">Client Libraries</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/" >
        <span class="block   content-menu__item__right-border">APIs</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/repl-hooks/" >
        <span class="block   content-menu__item__right-border">V2 Multi-Datacenter REPL Hooks API</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/backend/" >
        <span class="block   content-menu__item__right-border">Backend API</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/" >
        <span class="block   content-menu__item__right-border">HTTP API</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/get-bucket-props/" >
        <span class="block   content-menu__item__right-border">Get Bucket Properties</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/set-bucket-props/" >
        <span class="block   content-menu__item__right-border">Set Bucket Properties</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/reset-bucket-props/" >
        <span class="block   content-menu__item__right-border">Reset Bucket Properties</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/list-buckets/" >
        <span class="block   content-menu__item__right-border">List Buckets</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/list-keys/" >
        <span class="block   content-menu__item__right-border">List Keys</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/fetch-object/" >
        <span class="block   content-menu__item__right-border">Fetch Object</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/store-object/" >
        <span class="block   content-menu__item__right-border">Store Object</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/delete-object/" >
        <span class="block   content-menu__item__right-border">Delete Object</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/mapreduce/" >
        <span class="block   content-menu__item__right-border">MapReduce</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/secondary-indexes/" >
        <span class="block   content-menu__item__right-border">Secondary Indexes</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/ping/" >
        <span class="block   content-menu__item__right-border">Ping</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/status/" >
        <span class="block   content-menu__item__right-border">Status</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/list-resources/" >
        <span class="block   content-menu__item__right-border">List Resources</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/search-query/" >
        <span class="block   content-menu__item__right-border">Search Query</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/search-index-info/" >
        <span class="block   content-menu__item__right-border">Search Index Info</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/fetch-search-index/" >
        <span class="block   content-menu__item__right-border">Fetch Search Index</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/store-search-index/" >
        <span class="block   content-menu__item__right-border">Store Search Index</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/delete-search-index/" >
        <span class="block   content-menu__item__right-border">Delete Search Index</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/fetch-search-schema/" >
        <span class="block   content-menu__item__right-border">Fetch Search Schema</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/store-search-schema/" >
        <span class="block   content-menu__item__right-border">Store Search Schema</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/counters/" >
        <span class="block   content-menu__item__right-border">Counters</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/http/link-walking/" >
        <span class="block   content-menu__item__right-border">Link Walking</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/" >
        <span class="block   content-menu__item__right-border">Protocol Buffers API</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/list-buckets/" >
        <span class="block   content-menu__item__right-border">List Buckets</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/list-keys/" >
        <span class="block   content-menu__item__right-border">List Keys</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/get-bucket-props/" >
        <span class="block   content-menu__item__right-border">Get Bucket Properties</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/set-bucket-props/" >
        <span class="block   content-menu__item__right-border">Set Bucket Properties</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/reset-bucket-props/" >
        <span class="block   content-menu__item__right-border">Reset Bucket Properties</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/fetch-object/" >
        <span class="block   content-menu__item__right-border">Fetch Object</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/store-object/" >
        <span class="block   content-menu__item__right-border">Store Object</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/delete-object/" >
        <span class="block   content-menu__item__right-border">Delete Object</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/mapreduce/" >
        <span class="block   content-menu__item__right-border">MapReduce</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/secondary-indexes/" >
        <span class="block   content-menu__item__right-border">Secondary Indexes</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/search/" >
        <span class="block   content-menu__item__right-border">Search</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/ping/" >
        <span class="block   content-menu__item__right-border">Ping</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/server-info/" >
        <span class="block   content-menu__item__right-border">Server Info</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/get-bucket-type/" >
        <span class="block   content-menu__item__right-border">Get Bucket Type</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/set-bucket-type/" >
        <span class="block   content-menu__item__right-border">Set Bucket Type</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/dt-fetch/" >
        <span class="block   content-menu__item__right-border">Data Type Fetch</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/dt-union/" >
        <span class="block   content-menu__item__right-border">Data Type Union</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/dt-store/" >
        <span class="block   content-menu__item__right-border">Data Type Store</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/dt-counter-store/" >
        <span class="block   content-menu__item__right-border">Data Type Counter Store</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/dt-set-store/" >
        <span class="block   content-menu__item__right-border">Data Type Set Store</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/dt-map-store/" >
        <span class="block   content-menu__item__right-border">Data Type Map Store</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/yz-index-get/" >
        <span class="block   content-menu__item__right-border">Yokozuna Index Get</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/yz-index-put/" >
        <span class="block   content-menu__item__right-border">Yokozuna Index Put</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/yz-index-delete/" >
        <span class="block   content-menu__item__right-border">Yokozuna Index Delete</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/yz-schema-get/" >
        <span class="block   content-menu__item__right-border">Yokozuna Schema Get</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/yz-schema-put/" >
        <span class="block   content-menu__item__right-border">Yokozuna Schema Put</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/auth-req/" >
        <span class="block   content-menu__item__right-border">Auth Request</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/set-client-id/" >
        <span class="block   content-menu__item__right-border">Set Client ID</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/api/protocol-buffers/get-client-id/" >
        <span class="block   content-menu__item__right-border">Get Client ID</span>
      </a>

    </div>

  </li>



</ul>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/faq/" >
        <span class="block   content-menu__item__right-border">Developing FAQ</span>
      </a>

    </div>

  </li>



</ul>

        </li>


        <li >

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--tools">|</span>
            <span class="block float-right   content-menu__menu-toggle
                        ">
            </span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/add-ons/" >
              <span class="block   content-menu__item__right-border"><strong>Add-ons</strong></span>
            </a>

          </div>
          
          


<ul class="content-menu
           content-menu--depth-1
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/add-ons/redis/" >
        <span class="block   content-menu__item__right-border">Redis Add-on</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/add-ons/redis/set-up-rra/" >
        <span class="block   content-menu__item__right-border">Set Up Redis Add-on</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/add-ons/redis/using-rra/" >
        <span class="block   content-menu__item__right-border">Using Redis Addon</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/add-ons/redis/developing-rra/" >
        <span class="block   content-menu__item__right-border">Develop with Redis Add-on</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/add-ons/redis/redis-add-on-features/" >
        <span class="block   content-menu__item__right-border">Redis Add-on Features</span>
      </a>

    </div>

  </li>



</ul>

  </li>



</ul>

        </li>


        <li >

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--beaker">|</span>
            <span class="block float-right   content-menu__menu-toggle
                        ">
            </span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/" >
              <span class="block   content-menu__item__right-border"><strong>Learning</strong></span>
            </a>

          </div>
          
          


<ul class="content-menu
           content-menu--depth-1
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/why-riak-kv/" >
        <span class="block   content-menu__item__right-border">Why Riak KV?</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/use-cases/" >
        <span class="block   content-menu__item__right-border">Use Cases</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/glossary/" >
        <span class="block   content-menu__item__right-border">Riak KV Glossary</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/concepts/" >
        <span class="block   content-menu__item__right-border">Concepts</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/concepts/active-anti-entropy/" >
        <span class="block   content-menu__item__right-border">Active Anti-Entropy</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/concepts/buckets/" >
        <span class="block   content-menu__item__right-border">Buckets</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/concepts/capability-negotiation/" >
        <span class="block   content-menu__item__right-border">Capability Negotiation</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/concepts/causal-context/" >
        <span class="block   content-menu__item__right-border">Causal Context</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/concepts/clusters/" >
        <span class="block   content-menu__item__right-border">Clusters</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/concepts/crdts/" >
        <span class="block   content-menu__item__right-border">Data Types</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/concepts/eventual-consistency/" >
        <span class="block   content-menu__item__right-border">Eventual Consistency</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/concepts/keys-and-objects/" >
        <span class="block   content-menu__item__right-border">Keys and Objects</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/concepts/replication/" >
        <span class="block   content-menu__item__right-border">Replication</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/concepts/strong-consistency/" >
        <span class="block   content-menu__item__right-border">Strong Consistency</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/concepts/vnodes/" >
        <span class="block   content-menu__item__right-border">Vnodes</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/kv/2.0.4/learn/dynamo/" >
        <span class="block   content-menu__item__right-border">Dynamo</span>
      </a>

    </div>

  </li>



</ul>

        </li>

        <li class="content-menu__blank-entry"></li>

      </ul>

    </div>



    <div class="content-nav__fixed-bottom">

      <ul class="content-menu">

        <li>
          <div class="content-menu__item">

            <span class="block float-left   content-menu__icon-container   docs-icon--comments">|</span>

            <a class="block overflow" href="//evadne.github.io/basho_docs/community">
              <span class="block   content-menu__item__right-border">
                <sub>Want some extra help?</sub><br>
                <strong>Ask our Community</strong>
              </span>
            </a>

          </div>
        </li>

        <li>
          <div class="content-menu__item">

            <span class="block float-left   content-menu__icon-container   docs-icon--question-sign">|</span>

            <a class="block overflow" href="http://basho.com/contact">
              <span class="block   content-menu__item__right-border">
                <sub>Need to chat?</sub><br>
                <strong>Contact us directly</strong>
              </span>
            </a>

          </div>
        </li>

        <li>
          <div class="content-menu__item">

            <span class="block float-left   content-menu__icon-container   docs-icon--github-alt">|</span>

            <a class="block overflow" href="https://github.com/basho/basho_docs/edit/master/content/riak/kv/2.0.4/developing/usage/searching-data-types.md">
              <span class="block   content-menu__item__right-border">
                <sub>Noticed a typo?</sub><br>
                <strong>Correct it in GitHub</strong>
              </span>
            </a>

          </div>
        </li>

      </ul>

    </div>

  </div>
  </div>
  </div>



</nav>

<script>
  (function() {
    var cx = '011972015458788978446:zgdcy4fa-o0';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<div style="width:0px;overflow:hidden;height:0px;">
  <gcse:search></gcse:search>
</div>






  <div class="content-well">


    <article class="main-article">


      

<header class="front-matter">


  <h1 class="front-matter__title">

    
    <br>
    Searching with Data Types

  </h1>
  <nav class="table-of-contents"></nav>


</header>


      <main>
        

<p>Although <a href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/data-types">Riak Data Types</a> function differently from other
Riak objects in some respects, when you&rsquo;re using Search you can think of
them as normal Riak objects with special metadata attached (metadata
that you don&rsquo;t need to worry about as a user). Riak&rsquo;s <a href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/data-types/counters">counters</a>, <a href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/data-types/sets">sets</a>, and <a href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/data-types/maps">maps</a>
can be indexed and have their contents searched just like other Riak
objects.</p>

<h2 id="data-type-mime-types">Data Type MIME Types</h2>

<p>Like all objects stored in Riak, Riak Data Types are assigned content
types. Unlike other Riak objects, this happens automatically. When you
store, say, a counter in Riak, it will automatically be assigned the
type <code>application/riak_counter</code>. The table below provides the full list
of content types:</p>

<table>
<thead>
<tr>
<th align="left">Data Type</th>
<th align="left">Content Type</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">Counters</td>
<td align="left"><code>application/riak_counter</code></td>
</tr>

<tr>
<td align="left">Sets</td>
<td align="left"><code>application/riak_set</code></td>
</tr>

<tr>
<td align="left">Maps</td>
<td align="left"><code>application/riak_map</code></td>
</tr>
</tbody>
</table>

<p>When using Search, you won&rsquo;t need to worry about this, as Riak Data
Types are automatically indexed on the basis of these content types.</p>

<h2 id="data-type-schemas">Data Type Schemas</h2>

<p>There are two types of schemas related to Riak Data Types:</p>

<ul>
<li><strong>Top-level schemas</strong> relate to Data Types that are stored at the key
level (counters and sets)</li>
<li><strong>Embedded schemas</strong> relate to Data Types nested inside of maps
(flags, counters, registers, and sets)</li>
</ul>

<p>As you can see from the <a href="https://github.com/basho/yokozuna/blob/develop/priv/default_schema.xml#L96">default Search
schema</a>,
each of the Data Types has its own default schema, with the exception of
maps, which means that the <code>_yz_default</code> schema will automatically index
Data Types on the basis of their assigned content type. This means that
there is no extra work involved in indexing Riak Data Types. You can
simply store them and begin querying, provided that they are properly
indexed, which is covered in the <a href="#riak-data-types-and-search">examples</a> section below.</p>

<p>As mentioned above, there are no default schemas available for maps.
This is because maps are essentially carriers for the other Data Types.
Even when maps are embedded within other maps, all of the data that you
might wish to index and search is contained in counters, sets,
registers, and flags.</p>

<p>The sections immediately below provide the default schemas for each Riak
Data Type. Because you will not need to manipulate these default schemas
to search Data Types, they are provided only for reference.</p>

<h3 id="top-level-schemas">Top-level Schemas</h3>

<p>The default schema for <a href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/data-types/counters">counters</a> indexes each
counter as an integer.</p>

<pre><code class="language-xml">&lt;field name=&quot;counter&quot; type=&quot;int&quot; indexed=&quot;true&quot; stored=&quot;true&quot; multiValued=&quot;false&quot; /&gt;
</code></pre>

<p>Constructing queries for counters involves prefacing the query with
<code>counter</code>. Below are some examples:</p>

<table>
<thead>
<tr>
<th align="left">Query</th>
<th align="left">Syntax</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">Counters with a value over 10</td>
<td align="left"><code>counter:[10 TO *]</code></td>
</tr>

<tr>
<td align="left">Counters with a value below 10 and above 50</td>
<td align="left"><code>counter:[* TO 10] AND counter:[50 TO *]</code></td>
</tr>

<tr>
<td align="left">Counters with a value of 15</td>
<td align="left"><code>counter:15</code></td>
</tr>

<tr>
<td align="left">All counters within the index</td>
<td align="left"><code>counter:*</code></td>
</tr>
</tbody>
</table>

<p>The schema for <a href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/data-types/sets">sets</a> indexes each element of a set as
a string and indexes the set itself as multi-valued.</p>

<pre><code class="language-xml">&lt;field name=&quot;set&quot; type=&quot;string&quot; indexed=&quot;true&quot; stored=&quot;false&quot; multiValued=&quot;true&quot; /&gt;
</code></pre>

<p>To query sets, preface the query with <code>set</code>. The table below shows some
examples:</p>

<table>
<thead>
<tr>
<th align="left">Query</th>
<th align="left">Syntax</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">Sets that contain the value <code>apple</code></td>
<td align="left"><code>set:apple</code></td>
</tr>

<tr>
<td align="left">Sets that contain an item beginning with <code>level</code></td>
<td align="left"><code>set:level*</code></td>
</tr>

<tr>
<td align="left">Sets that contain both <code>apple</code> and <code>orange</code></td>
<td align="left"><code>set:apple AND set:orange</code></td>
</tr>

<tr>
<td align="left">All sets within the index</td>
<td align="left"><code>set:*</code></td>
</tr>
</tbody>
</table>

<h3 id="embedded-schemas">Embedded Schemas</h3>

<p>For searching within <a href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/data-types/maps">maps</a>, there are four schemas
for embedded, aka dynamic, fields. Flags are indexed as booleans:</p>

<pre><code class="language-xml">&lt;dynamicField name=&quot;*_flag&quot; type=&quot;boolean&quot; indexed=&quot;true&quot; stored=&quot;true&quot; multiValued=&quot;false&quot; /&gt;
</code></pre>

<p>Counters, like their top-level counterparts, are indexed as integers:</p>

<pre><code class="language-xml">&lt;dynamicField name=&quot;*_counter&quot; type=&quot;int&quot; indexed=&quot;true&quot; stored=&quot;true&quot; multiValued=&quot;false&quot; /&gt;
</code></pre>

<p>Registers are indexed as strings, but unlike sets they are not
multi-valued.</p>

<pre><code class="language-xml">&lt;dynamicField name=&quot;*_register&quot; type=&quot;string&quot; indexed=&quot;true&quot; stored=&quot;true&quot; multiValued=&quot;false&quot; /&gt;
</code></pre>

<p>Finally, sets at the embedded level are indexed as multi-valued strings.</p>

<pre><code class="language-xml">&lt;dynamicField name=&quot;*_set&quot; type=&quot;string&quot; indexed=&quot;true&quot; stored=&quot;true&quot; multiValued=&quot;true&quot; /&gt;
</code></pre>

<p>To query embedded fields, you must provide the name of the field. The
table below provides some examples:</p>

<table>
<thead>
<tr>
<th align="left">Query</th>
<th align="left">Syntax</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">Maps containing a set called <code>hobbies</code></td>
<td align="left"><code>hobbies_set:*</code></td>
</tr>

<tr>
<td align="left">Maps containing a <code>score</code> counter over 50</td>
<td align="left"><code>score_counter:[50 TO *]</code></td>
</tr>

<tr>
<td align="left">Maps containing disabled <code>advanced</code> flags</td>
<td align="left"><code>advanced_flag:false</code></td>
</tr>

<tr>
<td align="left">Maps containing enabled <code>advanced</code> flags and <code>score</code> counters under 10</td>
<td align="left"><code>advanced_flag:true AND score_counter:[* TO 10]</code></td>
</tr>
</tbody>
</table>

<p>You can also query maps within maps, which is covered in the <strong>Querying
maps within maps</strong> section below.</p>

<h2 id="data-types-and-search-examples">Data Types and Search Examples</h2>

<p>In this section, we&rsquo;ll start with two simple examples, one involving
counters and the other involving sets. Later on, we&rsquo;ll introduce a
slightly more complex map example.</p>

<h2 id="counters-example">Counters Example</h2>

<p>Let&rsquo;s say that we&rsquo;re storing scores in a multiplayer online game in
Riak. The game is called Boulderdash and it involves smashing digital
boulders armed with nothing but witty retorts and arcane trivia
knowledge. We&rsquo;ll create and activate a <a href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/bucket-types">bucket type</a> for <a href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/data-types/counters">storing counters</a> simply called
<code>counters</code>, like so:</p>

<pre><code class="language-bash">riak-admin bucket-type create counters '{&quot;props&quot;:{&quot;datatype&quot;:&quot;counter&quot;}}'
riak-admin bucket-type activate counters
</code></pre>

<p>Now, we&rsquo;ll create a search index called <code>scores</code> that uses the default
schema (as in some of the examples above):</p>

<pre><code class="language-java">YokozunaIndex scoresIndex = new YokozunaIndex(&quot;scores&quot;, &quot;_yz_default&quot;);
StoreIndex storeIndex = new StoreIndex.Builder(scoresIndex)
        .build();
client.execute(storeIndex);
</code></pre>

<pre><code class="language-ruby">client.create_search_index('scores', '_yz_default')
</code></pre>

<pre><code class="language-php">$response = (new \Basho\Riak\Command\Builder\Search\StoreIndex($riak))
  -&gt;withName('scores')
  -&gt;usingSchema('_yz_default')
  -&gt;build()
  -&gt;execute();
</code></pre>

<pre><code class="language-python">client.create_search_index('scores', '_yz_default')
</code></pre>

<pre><code class="language-csharp">var idx = new SearchIndex(&quot;scores&quot;, &quot;_yz_default&quot;);
var rslt = client.PutSearchIndex(idx);
</code></pre>

<pre><code class="language-javascript">var options = {
    schemaName: '_yz_default',
    indexName: 'scores'
};
client.storeIndex(options, function (err, rslt) {
});
</code></pre>

<pre><code class="language-erlang">riakc_pb_socket:create_search_index(Pid, &lt;&lt;&quot;scores&quot;&gt;&gt;, &lt;&lt;&quot;_yz_default&quot;&gt;&gt;, []).
</code></pre>

<pre><code class="language-curl">curl -XPUT $RIAK_HOST/search/index/hobbies \
  -H 'Content-Type: application/json' \
  -d '{&quot;schema&quot;:&quot;_yz_default&quot;}'
</code></pre>

<p>Now, we can modify our <code>counters</code> bucket type to associate that bucket
type with our <code>scores</code> index:</p>

<pre><code class="language-bash">riak-admin bucket-type update counters '{&quot;props&quot;:{&quot;search_index&quot;:&quot;scores&quot;}}'
</code></pre>

<p>At this point, all of the counters that we stored in any bucket with the
bucket type <code>counters</code> will be indexed in our <code>scores</code> index. So let&rsquo;s
start playing with some counters. All counters will be stored in the
bucket <code>people</code>, while the key for each counter will be the username of
each player:</p>

<pre><code class="language-java">Namespace peopleBucket = new Namespace(&quot;counters&quot;, &quot;people&quot;);

Location christopherHitchensCounter = new Location(peopleBucket, &quot;christ_hitchens&quot;);
CounterUpdate cu = new CounterUpdate(10);
UpdateCounter update = new UpdateCounter.Builder(christopherHitchensCounter, cu)
        .build();
client.execute(update);

Location joanRiversCounter = new Location(peopleBucket, &quot;joan_rivers&quot;);
CounterUpdate cu = new CounterUpdate(25);
UpdateCounter update = new UpdateCounter.Builder(joanRiversCounter, cu)
        .build();
client.execute(update);
</code></pre>

<pre><code class="language-ruby">bucket = client.bucket('people')

christopher_hitchens_counter = Riak::Crdt::Counter.new(bucket, 'chris_hitchens', 'counters')
christopher_hitchens_counter.increment(10)

joan_rivers_counter = Riak::Crdt::Counter.new(bucket, 'joan_rivers', 'counters')
joan_rivers_counter.increment(25)
</code></pre>

<pre><code class="language-php">$builder = (new \Basho\Riak\Command\Builder\IncrementCounter($riak))
    -&gt;withIncrement(10)
    -&gt;buildLocation('chris_hitchens', 'people', 'counters');

$builder-&gt;build-&gt;execute();

$builder-&gt;withIncrement(25)
    -&gt;buildLocation('joan_rivers', 'people', 'counters')
    -&gt;build()
    -&gt;execute();
</code></pre>

<pre><code class="language-python">from riak.datatypes import Counter

bucket = client.bucket_type('counters').bucket('people')

christopher_hitchens_counter = Counter(bucket, 'chris_hitchens')
christopher_hitchens_counter.increment(10)
christopher_hitchens_counter.store()

joan_rivers_counter = Counter(bucket, 'joan_rivers')
joan_rivers_counter.increment(25)
joan_rivers_counter.store()
</code></pre>

<pre><code class="language-csharp">// https://github.com/basho/riak-dotnet-client/blob/develop/src/RiakClientExamples/Dev/Search/SearchDataTypes.cs

var cmd = new UpdateCounter.Builder()
    .WithBucketType(&quot;counters&quot;)
    .WithBucket(&quot;people&quot;)
    .WithKey(&quot;christ_hitchens&quot;)
    .WithIncrement(10)
    .Build();
RiakResult rslt = client.Execute(cmd);

cmd = new UpdateCounter.Builder()
    .WithBucketType(&quot;counters&quot;)
    .WithBucket(&quot;people&quot;)
    .WithKey(&quot;joan_rivers&quot;)
    .WithIncrement(25)
    .Build();
rslt = client.Execute(cmd);
</code></pre>

<pre><code class="language-javascript">var funcs = [
    function (async_cb) {
        var options = {
            bucketType: 'counters',
            bucket: 'people',
            key: 'christ_hitchens',
            increment: 10
        };

        client.updateCounter(options, function (err, rslt) {
            throwIfErr(err);
            async_cb();
        });
    },
    function (async_cb) {
        var options = {
            bucketType: 'counters',
            bucket: 'people',
            key: 'joan_rivers',
            increment: 25
        };

        client.updateCounter(options, function (err, rslt) {
            throwIfErr(err);
            async_cb();
        });
    }
];

async.parallel(funcs, function (err, rslts) {
    throwIfErr(err);
});
</code></pre>

<pre><code class="language-erlang">ChristopherHitchensCounter = riakc_counter:new(),
HitchensCounter1 = riakc_counter:increment(10, ChristopherHitchensCounter),
JoanRiversCounter = riakc_counter:new(),
RiversCounter1 = riakc_counter:increment(25, JoanRiversCounter),
riakc_pb_socket:update_type(Pid,
                            {&lt;&lt;&quot;counters&quot;&gt;&gt;, &lt;&lt;&quot;people&quot;&gt;&gt;},
                            &lt;&lt;&quot;chris_hitchens&quot;&gt;&gt;,
                            riakc_counter:to_op(HitchensCounter1)),
riakc_pb_socket:update_type(Pid,
                            {&lt;&lt;&quot;counters&quot;&gt;&gt;, &lt;&lt;&quot;people&quot;&gt;&gt;},
                            &lt;&lt;&quot;joan_rivers&quot;&gt;&gt;,
                            riakc_counter:to_op(RiversCounter1)).
</code></pre>

<pre><code class="language-curl"># We do not recommend working with Riak Data Types via curl. Try using
# one of our client libraries instead.
</code></pre>

<p>So now we have two counters, one with a value of 10 and the other with a
value of 25. Let&rsquo;s query to see how many counters have a value greater
than 20, just to be sure:</p>

<pre><code class="language-java">String index = &quot;scores&quot;;
String query = &quot;counter:[20 TO *]&quot;;
SearchOperation searchOp = new SearchOperation.Builder(BinaryValue.create(index), query)
        .build();
cluster.execute(searchOp);
SearchOperation.Response results = searchOp.get();
</code></pre>

<pre><code class="language-ruby">results = client.search('scores', 'counter:[20 TO *]')
# This should return a Hash with fields like 'num_found' and 'docs'

results['num_found']
# 1
</code></pre>

<pre><code class="language-php">$response = (new \Basho\Riak\Command\Builder\Search\FetchObjects($riak))
  -&gt;withIndexName('scores')
  -&gt;withQuery('counter:[20 TO *]')
  -&gt;build()
  -&gt;execute();

$response-&gt;getNumFound(); // 1
</code></pre>

<pre><code class="language-python">results = client.fulltext_search('scores', 'counter:[20 TO *]')
# This should return a dict with fields like 'num_found' and 'docs'

results['num_found']
# 1
</code></pre>

<pre><code class="language-csharp">var search = new RiakSearchRequest(&quot;scores&quot;, &quot;counter:[20 TO *]&quot;);
var rslt = client.Search(search);
RiakSearchResult searchResult = rslt.Value;
Console.WriteLine(&quot;Num found: {0}&quot;, searchResult.NumFound);
</code></pre>

<pre><code class="language-javascript">function search_cb(err, rslt) {
    logger.info(&quot;counter numFound: '%d', docs: '%s'&quot;,
        rslt.numFound, JSON.stringify(rslt.docs));

    var doc = rslt.docs[0];
    var key = doc['_yz_rk'];
    var bucket = doc['_yz_rb'];
    var bucketType = doc['_yz_rt'];
}

var searchCmd = new Riak.Commands.YZ.Search.Builder()
    .withIndexName('scores')
    .withQuery('counter:[20 TO *]')
    .withCallback(search_cb)
    .build();

client.execute(searchCmd);
</code></pre>

<pre><code class="language-erlang">{ok, Results} = riakc_pb_socket:search(Pid, &lt;&lt;&quot;scores&quot;&gt;&gt;, &lt;&lt;&quot;counter:[20 TO *]&quot;&gt;&gt;),
NumberFound = Results#search_results.num_found.
%% 1
</code></pre>

<pre><code class="language-curl">curl &quot;$RIAK_HOST/search/query/scores?wt=json&amp;q=counter:[20 TO *]&quot; | jsonpp
</code></pre>

<p>And there we are: only one of our two stored sets has a value over 20.
To find out which set that is, we can dig into our results:</p>

<pre><code class="language-java">// Using the &quot;results&quot; object from above:
int numberFound = results.numResults();
Map&lt;String, List&lt;String&gt;&gt; foundObject = results.getAllResults().get(0);
String key = foundObject.get(&quot;_yz_rk&quot;).get(0); // &quot;joan_rivers&quot;
String bucket = foundObject.get(&quot;_yz_rb&quot;).get(0); // &quot;people&quot;
String bucketType = foundObject.get(&quot;_yz_rt&quot;).get(0); // &quot;counters&quot;
</code></pre>

<pre><code class="language-ruby">doc = results['docs'][0]

# The key
doc['_yz_rk'] # 'joan_rivers'

# The bucket
doc['_yz_rb'] # 'people'

# The bucket type
doc['_yz_rt'] # 'counters'
</code></pre>

<pre><code class="language-php">$doc = $response-&gt;getDocs()[0];

# The key
$doc['_yz_rk'] # 'joan_rivers'

# The bucket
$doc['_yz_rb'] # 'people'

# The bucket type
$doc['_yz_rt'] # 'counters'
</code></pre>

<pre><code class="language-python">doc = results['docs'][0]

# The key
doc['_yz_rk'] # 'joan_rivers'

# The bucket
doc['_yz_rb'] # 'people'

# The bucket type
doc['_yz_rt'] # 'counters'
</code></pre>

<pre><code class="language-csharp">var search = new RiakSearchRequest(&quot;scores&quot;, &quot;counter:[20 TO *]&quot;);
var rslt = client.Search(search);

RiakSearchResult searchResult = rslt.Value;
Console.WriteLine(&quot;Num found: {0}&quot;, searchResult.NumFound);

var firstDoc = searchResult.Documents.First();
Console.WriteLine(&quot;Key: {0} Bucket: {1} Type: {2}&quot;,
    firstDoc.Key, firstDoc.Bucket, firstDoc.BucketType);
</code></pre>

<pre><code class="language-javascript">var doc = rslt.docs[0];

var key = doc['_yz_rk'];
var bucket = doc['_yz_rb'];
var bucketType = doc['_yz_rt'];
</code></pre>

<pre><code class="language-erlang">Doc = lists:nth(1, Docs),
Key = proplists:get_value(&lt;&lt;&quot;_yz_rk&quot;&gt;&gt;, Doc),
Bucket = proplists:get_value(&lt;&lt;&quot;_yz_rb&quot;&gt;&gt;, Doc),
BucketType = proplists:get_value(&lt;&lt;&quot;_yz_rt&quot;, Doc).
</code></pre>

<pre><code class="language-curl"># Use the JSON object from above to locate bucket, key, and bucket type
# information
</code></pre>

<p>Alternatively, we can see how many counters have values below 15:</p>

<pre><code class="language-java">String index = &quot;scores&quot;;
String query = &quot;counter:[* TO 15]&quot;;
SearchOperation searchOp = new SearchOperation
        .Builder(BinaryValue.create(&quot;scores&quot;), &quot;counter:[* TO 15]&quot;)
        .build();
cluster.execute(searchOp);
SearchOperation.Response results = searchOp.get();
</code></pre>

<pre><code class="language-ruby">results = client.search('scores', 'counter:[* TO 15]')
</code></pre>

<pre><code class="language-php">$response = (new \Basho\Riak\Command\Builder\Search\FetchObjects($riak))
  -&gt;withIndexName('scores')
  -&gt;withQuery('counter:[* TO 15]')
  -&gt;build()
  -&gt;execute();

$response-&gt;getNumFound(); // 1
</code></pre>

<pre><code class="language-python">results = client.fulltext_search('scores', 'counter:[* TO 15]')
</code></pre>

<pre><code class="language-csharp">var search = new RiakSearchRequest(&quot;scores&quot;, &quot;counter:[* TO 15]&quot;);
var rslt = client.Search(search);
</code></pre>

<pre><code class="language-javascript">var searchCmd = new Riak.Commands.YZ.Search.Builder()
    .withIndexName('scores')
    .withQuery('counter:[* TO 15]')
    .withCallback(search_cb)
    .build();

client.execute(searchCmd);
</code></pre>

<pre><code class="language-erlang">{ok, Results} = riakc_pb_socket:search(Pid, &lt;&lt;&quot;scores&quot;&gt;&gt;, &lt;&lt;&quot;counter:[* TO 15]&quot;).
</code></pre>

<pre><code class="language-curl">curl &quot;$RIAK_HOST/search/query/scores?wt=json&amp;q=counter:[* TO 15]&quot; | jsonpp
</code></pre>

<p>Or we can see how many counters have a value of 17 exactly:</p>

<pre><code class="language-java">// Using the same method as above, just changing the query:
String query = &quot;counter:17&quot;;
</code></pre>

<pre><code class="language-ruby">results = client.search('scores', 'counter:17')
</code></pre>

<pre><code class="language-php">$response = (new \Basho\Riak\Command\Builder\Search\FetchObjects($riak))
  -&gt;withIndexName('scores')
  -&gt;withQuery('counter:17')
  -&gt;build()
  -&gt;execute();
</code></pre>

<pre><code class="language-python">results = client.fulltext_search('scores', 'counter:17')
</code></pre>

<pre><code class="language-csharp">var search = new RiakSearchRequest(&quot;scores&quot;, &quot;counter:17&quot;);
var rslt = client.Search(search);
</code></pre>

<pre><code class="language-javascript">var searchCmd = new Riak.Commands.YZ.Search.Builder()
    .withIndexName('scores')
    .withQuery('counter:17')
    .withCallback(search_cb)
    .build();

client.execute(searchCmd);
</code></pre>

<pre><code class="language-erlang">{ok, Results} = riakc_pb_socket:search(Pid, &lt;&lt;&quot;scores&quot;&gt;&gt;, &lt;&lt;&quot;counter:17&quot;&gt;&gt;).
</code></pre>

<pre><code class="language-curl">curl &quot;$RIAK_HOST/search/query/scores?wt=json&amp;q=counter:17&quot; | jsonpp
</code></pre>

<h2 id="sets-example">Sets Example</h2>

<p>Let&rsquo;s say that we&rsquo;re storing information about the hobbies of a group of
people in sets. We&rsquo;ll create and activate a <a href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/usage/bucket-types">bucket type</a> for <a href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/data-types/sets">storing sets</a> simply called <code>sets</code>,
like so:</p>

<pre><code class="language-bash">riak-admin bucket-type create sets '{&quot;props&quot;:{&quot;datatype&quot;:&quot;set&quot;}}'
riak-admin bucket-type activate sets
</code></pre>

<p>Now, we&rsquo;ll create a Search index called <code>hobbies</code> that uses the default
schema (as in some of the examples above):</p>

<pre><code class="language-java">YokozunaIndex hobbiesIndex = new YokozunaIndex(&quot;hobbies&quot;);
StoreIndex storeIndex =
  new StoreIndex.Builder(hobbiesIndex).build();
client.execute(storeIndex);
</code></pre>

<pre><code class="language-ruby">client.create_search_index('hobbies', '_yz_default')
</code></pre>

<pre><code class="language-php">$response = (new \Basho\Riak\Command\Builder\Search\StoreIndex($riak))
  -&gt;withName('hobbies')
  -&gt;usingSchema('_yz_default')
  -&gt;build()
  -&gt;execute();
</code></pre>

<pre><code class="language-python">client.create_search_index('hobbies', '_yz_default')
</code></pre>

<pre><code class="language-csharp">var searchIndex = new SearchIndex(&quot;hobbies&quot;, &quot;_yz_default&quot;);
var rslt = client.PutSearchIndex(searchIndex);
</code></pre>

<pre><code class="language-javascript">var options = {
    schemaName: '_yz_default',
    indexName: 'hobbies'
};
client.storeIndex(options, function (err, rslt) {
});
</code></pre>

<pre><code class="language-erlang">riakc_pb_socket:create_search_index(Pid, &lt;&lt;&quot;hobbies&quot;&gt;&gt;, &lt;&lt;&quot;_yz_default&quot;&gt;&gt;).
</code></pre>

<pre><code class="language-curl">curl -XPUT $RIAK_HOST/search/index/hobbies \
  -H 'Content-Type: application/json' \
  -d '{&quot;schema&quot;: &quot;_yz_default&quot;}'
</code></pre>

<p>Now, we can modify our <code>sets</code> bucket type to associate that bucket type
with our <code>hobbies</code> index:</p>

<pre><code class="language-bash">riak-admin bucket-type update sets '{&quot;props&quot;:{&quot;search_index&quot;:&quot;hobbies&quot;}}'
</code></pre>

<p>Now, all of the sets that we store in any bucket with the bucket type
<code>sets</code> will be automatically indexed as a set. So let&rsquo;s say that we
store three sets for two different people describing their respective
hobbies, in the bucket <code>people</code>:</p>

<pre><code class="language-java">Namespace peopleBucket = new Namespace(&quot;sets&quot;, &quot;people&quot;);

Location mikeDitkaSet = new Location(peopleBucket, &quot;ditka&quot;);
SetUpdate su1 = new SetUpdate()
        .add(&quot;football&quot;)
        .add(&quot;winning&quot;);
UpdateSet update1 = new UpdateSet.Builder(mikeDitkaSet, su1).build();

Location ronnieJamesDioSet = new Location(peopleBucket, &quot;dio&quot;);
SetUpdate su2 = new SetUpdate()
        .add(&quot;wailing&quot;)
        .add(&quot;rocking&quot;)
        .add(&quot;winning&quot;);
UpdateSet update2 = new UpdateSet.Builder(ronnieJamesDioSet, su2).build();

client.execute(update1);
client.execute(update2);
</code></pre>

<pre><code class="language-ruby">bucket = client.bucket('people')

mike_ditka_set = Riak::Crdt::Set.new(bucket, 'ditka', 'sets')
mike_ditka_set.add('football')
mike_ditka_set.add('winning')

ronnie_james_dio_set = Riak::Crdt::Set.new(bucket, 'dio', 'sets')
ronnie_james_dio_set.add('wailing')
ronnie_james_dio_set.add('rocking')
ronnie_james_dio_set.add('winning')
</code></pre>

<pre><code class="language-php">$builder = (new \Basho\Riak\Command\Builder\UpdateSet($riak))
    -&gt;add('football')
    -&gt;add('winning')
    -&gt;buildLocation('ditka', 'people', 'counters');

$builder-&gt;build-&gt;execute();

$builder-&gt;add('wailing')
    -&gt;add('rocking')
    -&gt;add('winning')
    -&gt;buildLocation('dio', 'people', 'counters');
    -&gt;build()
    -&gt;execute();
</code></pre>

<pre><code class="language-python">from riak.datatypes import Set

bucket = client.bucket_type('sets').bucket('people')

mike_ditka_set = Set(bucket, 'ditka')
mike_ditka_set.add('football')
mike_ditka_set.add('winning')
mike_ditka_set.store()

ronnie_james_dio_set = Set(bucket, 'dio')
ronnie_james_dio_set.add('wailing')
ronnie_james_dio_set.add('rocking')
ronnie_james_dio_set.add('winning')
ronnie_james_dio_set.store()
</code></pre>

<pre><code class="language-csharp">// https://github.com/basho/riak-dotnet-client/blob/develop/src/RiakClientExamples/Dev/Search/SearchDataTypes.cs

var cmd = new UpdateSet.Builder()
    .WithBucketType(&quot;sets&quot;)
    .WithBucket(&quot;people&quot;)
    .WithKey(&quot;ditka&quot;)
    .WithAdditions(new[] { &quot;football&quot;, &quot;winning&quot; })
    .Build();
RiakResult rslt = client.Execute(cmd);

cmd = new UpdateSet.Builder()
    .WithBucketType(&quot;sets&quot;)
    .WithBucket(&quot;people&quot;)
    .WithKey(&quot;dio&quot;)
    .WithAdditions(new[] { &quot;wailing&quot;, &quot;rocking&quot;, &quot;winning&quot; })
    .Build();
rslt = client.Execute(cmd);
</code></pre>

<pre><code class="language-javascript">var funcs = [
    function (async_cb) {
        var options = {
            bucketType: 'sets',
            bucket: 'people',
            key: 'ditka',
            additions: ['football', 'winning']
        };

        client.updateSet(options, function (err, rslt) {
            throwIfErr(err);
            async_cb();
        });
    },
    function (async_cb) {
        var options = {
            bucketType: 'sets',
            bucket: 'people',
            key: 'dio',
            additions: ['wailing', 'rocking', 'winning']
        };

        client.updateSet(options, function (err, rslt) {
            throwIfErr(err);
            async_cb();
        });
    }
];

async.parallel(funcs, function (err, rslts) {
    throwIfErr(err);
});
</code></pre>

<pre><code class="language-erlang">MikeDitkaSet = riakc_set:new(),
riakc_set:add_element(&lt;&lt;&quot;football&quot;&gt;&gt;, MikeDitkaSet),
riakc_set:add_element(&lt;&lt;&quot;winning&quot;&gt;&gt;, MikeDitkaSet),
RonnieJamesDioSet = riakc_set:new(),
riakc_set:add_element(&lt;&lt;&quot;wailing&quot;&gt;&gt;, RonnieJamesDioSet),
riakc_set:add_element(&lt;&lt;&quot;rocking&quot;&gt;&gt;, RonnieJamesDioSet),
riakc_set:add_element(&lt;&lt;&quot;winning&quot;&gt;&gt;, RonnieJamesDioSet),

riakc_pb_socket:update_type(Pid,
                            {&lt;&lt;&quot;sets&quot;&gt;&gt;, &lt;&lt;&quot;people&quot;&gt;&gt;},
                            &lt;&lt;&quot;ditka&quot;&gt;&gt;,
                            riakc_set:to_op(MikeDitkaSet)),
riakc_pb_socket:update_type(Pid,
                            {&lt;&lt;&quot;sets&quot;&gt;&gt;, &lt;&lt;&quot;people&quot;&gt;&gt;},
                            &lt;&lt;&quot;dio&quot;&gt;&gt;,
                            riakc_set:to_op(RonnieJamesDioSet)).
</code></pre>

<p>Now, we can query our <code>hobbies</code> index to see if anyone has the hobby
<code>football</code>:</p>

<pre><code class="language-java">// Using the same method explained above, just changing the query:
String query = &quot;set:football&quot;;
</code></pre>

<pre><code class="language-ruby">results = client.search('hobbies', 'set:football')
# This should return a dict with fields like 'num_found' and 'docs'
</code></pre>

<pre><code class="language-php">$response = (new \Basho\Riak\Command\Builder\Search\FetchObjects($riak))
  -&gt;withIndexName('hobbies')
  -&gt;withQuery('set:football')
  -&gt;build()
  -&gt;execute();
</code></pre>

<pre><code class="language-python">results = client.fulltext_search('hobbies', 'set:football')
# This should return a dict with fields like 'num_found' and 'docs'
</code></pre>

<pre><code class="language-csharp">var search = new RiakSearchRequest(&quot;hobbies&quot;, &quot;set:football&quot;);
var rslt = client.Search(search);

RiakSearchResult searchResult = rslt.Value;
Console.WriteLine(&quot;Num found: {0}&quot;, searchResult.NumFound);

var firstDoc = searchResult.Documents.First();
Console.WriteLine(&quot;Key: {0} Bucket: {1} Type: {2}&quot;,
    firstDoc.Key, firstDoc.Bucket, firstDoc.BucketType);
</code></pre>

<pre><code class="language-javascript">function search_cb(err, rslt) {
    logger.info(&quot;sets numFound: '%d', docs: '%s'&quot;,
        rslt.numFound, JSON.stringify(rslt.docs));

    var doc = rslt.docs[0];
    var key = doc['_yz_rk'];
    var bucket = doc['_yz_rb'];
    var bucketType = doc['_yz_rt'];
}

var searchCmd = new Riak.Commands.YZ.Search.Builder()
    .withIndexName('hobbies')
    .withQuery('set:football')
    .withCallback(search_cb)
    .build();

client.execute(searchCmd);
</code></pre>

<pre><code class="language-erlang">{ok, Results} = riakc_pb_socket:search(Pid, &lt;&lt;&quot;hobbies&quot;&gt;&gt;, &lt;&lt;&quot;set:football&quot;&gt;&gt;).
</code></pre>

<pre><code class="language-curl">curl &quot;$RIAK_HOST/search/query/hobbies?wt=json&amp;q=set:football&quot; | jsonpp
</code></pre>

<p>Let&rsquo;s see how many sets contain the element <code>football</code>:</p>

<pre><code class="language-java">// Using the same method explained above for getting search results:
int numberFound = results.numResults(); // 1
</code></pre>

<pre><code class="language-ruby">results['num_found']
# 1
</code></pre>

<pre><code class="language-php">$response-&gt;getNumFound(); // 1
</code></pre>

<pre><code class="language-python">results['num_found']
# 1
</code></pre>

<pre><code class="language-csharp">RiakSearchResult searchResult = rslt.Value;
Console.WriteLine(&quot;Num found: {0}&quot;, searchResult.NumFound);
</code></pre>

<pre><code class="language-javascript">rslt.numFound;
// 1
</code></pre>

<pre><code class="language-erlang">NumberFound = Results#search_results.num_found.
%% 1
</code></pre>

<pre><code class="language-curl"></code></pre>

<p>Success! We stored two sets, only one of which contains the element
<code>football</code>. Now, let&rsquo;s see how many sets contain the element <code>winning</code>:</p>

<pre><code class="language-java">// Using the same method explained above, just changing the query:
String query = &quot;set:winning&quot;;

// Again using the same method from above:
int numberFound = results.numResults(); // 2
</code></pre>

<pre><code class="language-ruby">results = client.search('hobbies', 'set:winning')
results['num_found']
# 2
</code></pre>

<pre><code class="language-php">$response = (new \Basho\Riak\Command\Builder\Search\FetchObjects($riak))
  -&gt;withIndexName('hobbies')
  -&gt;withQuery('set:winning')
  -&gt;build()
  -&gt;execute();

$response-&gt;getNumFound(); // 2
</code></pre>

<pre><code class="language-python">results = client.fulltext_search('hobbies', 'set:winning')
results['num_found']
# 2
</code></pre>

<pre><code class="language-csharp">var search = new RiakSearchRequest(&quot;hobbies&quot;, &quot;set:winning&quot;);
</code></pre>

<pre><code class="language-javascript">var searchCmd = new Riak.Commands.YZ.Search.Builder()
    .withIndexName('hobbies')
    .withQuery('set:winning')
    .withCallback(search_cb)
    .build();

client.execute(searchCmd);
</code></pre>

<pre><code class="language-erlang">{ok, Results} = riakc_pb_socket:search(Pid, &lt;&lt;&quot;hobbies&quot;&gt;&gt;, &lt;&lt;&quot;set:winning&quot;&gt;&gt;).
NumberFound = Results#search_results.num_found.
%% 2
</code></pre>

<p>Just as expected, both sets we stored contain the element <code>winning</code>.</p>

<h2 id="maps-example">Maps Example</h2>

<p>This example will build on the example in the <a href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/data-types">Using Data Types</a>
tutorial. That tutorial walks you through storing CMS-style user data in
Riak <a href="//evadne.github.io/basho_docs/riak/kv/2.0.4/developing/data-types/maps">maps</a>, and we&rsquo;d suggest that you
familiarize yourself with that tutorial first. More specifically, user
data is stored in the following fields in each user&rsquo;s map:</p>

<ul>
<li>first name in a <code>first_name</code> register</li>
<li>last name in a <code>last_name</code> register</li>
<li>whether the user is an enterprise customer in an <code>enterprise_customer</code>
flag</li>
<li>the number of times the user has visited the company page in a
<code>page_visits</code> counter</li>
<li>a list of the user&rsquo;s interests in an <code>interests</code> set</li>
</ul>

<p>First, let&rsquo;s create and activate a bucket type simply called <code>maps</code> that
is set up to store Riak maps:</p>

<pre><code class="language-bash">riak-admin bucket-type create maps '{&quot;props&quot;:{&quot;datatype&quot;:&quot;map&quot;}}'
riak-admin bucket-type activate maps
</code></pre>

<p>Now, let&rsquo;s create a search index called <code>customers</code> using the default
schema:</p>

<pre><code class="language-java">YokozunaIndex customersIndex = new YokozunaIndex(&quot;customers&quot;, &quot;_yz_default&quot;);
StoreIndex storeIndex =
  new StoreIndex.Builder(customersIndex).build();
client.execute(storeIndex);
</code></pre>

<pre><code class="language-ruby">client.create_search_index('customers', '_yz_default')
</code></pre>

<pre><code class="language-php">(new Command\Builder\Search\StoreIndex($riak))
  -&gt;withName('customers')
  -&gt;usingSchema('_yz_default')
  -&gt;build()
  -&gt;execute();
</code></pre>

<pre><code class="language-python">client.create_search_index('customers', '_yz_default')
</code></pre>

<pre><code class="language-csharp">var searchIndex = new SearchIndex(&quot;customers&quot;, &quot;_yz_default&quot;);
var rslt = client.PutSearchIndex(searchIndex);
</code></pre>

<pre><code class="language-javascript">var options = {
    schemaName: '_yz_default',
    indexName: 'customers'
};
client.storeIndex(options, function (err, rslt) {
});
</code></pre>

<pre><code class="language-erlang">riakc_pb_socket:create_search_index(Pid, &lt;&lt;&quot;customers&quot;&gt;&gt;, &lt;&lt;&quot;_yz_default&quot;&gt;&gt;).
</code></pre>

<pre><code class="language-curl">curl -XPUT $RIAK_HOST/search/index/customers \
  -H 'Content-Type: application/json' \
  -d '{&quot;schema&quot;:&quot;_yz_default&quot;}'
</code></pre>

<p>With our index created, we can associate our new <code>customers</code> index with
our <code>maps</code> bucket type:</p>

<pre><code class="language-bash">riak-admin bucket-type update maps '{&quot;props&quot;:{&quot;search_index&quot;:&quot;customers&quot;}}'
</code></pre>

<p>Now we can create some maps along the lines suggested above:</p>

<pre><code class="language-java">Namespace customersBucket = new Namespace(&quot;maps&quot;, &quot;customers&quot;);

Location idrisElbaMap = new Location(customersBucket, &quot;idris_elba&quot;);
MapUpdate mu = new MapUpdate()
        .update(&quot;first_name&quot;, new RegisterUpdate(&quot;Idris&quot;))
        .update(&quot;last_name&quot;, new RegisterUpdate(&quot;Elba&quot;))
        .update(&quot;enterprise_customer&quot;, new FlagUpdate(false))
        .update(&quot;page_visits&quot;, new CounterUpdate(10))
        .update(&quot;interests&quot;, new SetUpdate().add(&quot;acting&quot;, &quot;being Stringer Bell&quot;));

Location joanJettMap = new Location(customersBucket, &quot;joan_jett&quot;);
MapUpdate mu2 = new MapUpdate()
        .update(&quot;first_name&quot;, new RegisterUpdate(&quot;Joan&quot;))
        .update(&quot;last_name&quot;, new RegisterUpdate(&quot;Jett&quot;))
        // Joan Jett is not an enterprise customer, so we don't need to
        // explicitly disable the &quot;enterprise_customer&quot; flag, as all
        // flags are disabled by default
        .update(&quot;page_visits&quot;, new CounterUpdate(25))
        .update(&quot;interests&quot;, new SetUpdate().add(&quot;loving rock and roll&quot;).add(&quot;being in the Blackhearts&quot;));

UpdateMap update1 = new UpdateMap.Builder(idrisElbaMap, mu1).build();
UpdateMap update2 = new UpdateMap.Builder(joanJettMap, mu2).build();
client.execute(update1);
client.execute(update2);
</code></pre>

<pre><code class="language-ruby">bucket = client.bucket('customers')

idris_elba = Riak::Crdt::Map.new(bucket, 'idris_elba', 'maps')

idris_elba.batch do |ie|
  ie.registers['first_name'] = 'Idris'
  ie.registers['last_name'] = 'Elba'
  ie.flags['enterprise_customer'] = true
  ie.counters['page_visits'].increment(10)
  ['acting', 'being Stringer Bell'].each do |interest|
    ie.sets['interests'].add(interest)
  end
end

joan_jett = Riak::Crdt::Map.new(bucket, 'joan_jett', 'maps')
joan_jett.batch do |jj|
  jj.registers['first_name'] = 'Joan'
  jj.registers['last_name'] = 'Jett'
  ## Joan Jett is not an enterprise customers, so we don't need to
  ## explicitly disable this flag, as all flags are disabled by default
  jj.counters['page_visits'].increment(25)
  ['loving rock and roll', 'being in the Blackhearts'].each do |interest|
    jj.sets['interests'].add(interest)
  end
end
</code></pre>

<pre><code class="language-php">$counterBuilder = (new \Basho\Riak\Command\Builder\IncrementCounter($riak))
  -&gt;withIncrement(10);

$setBuilder = (new \Basho\Riak\Command\Builder\UpdateSet($riak));
  
foreach(['acting', 'being Stringer Bell'] as $interest) {
  $setBuilder-&gt;add($interest);
}

(new \Basho\Riak\Command\Builder\UpdateMap($riak))
  -&gt;updateRegister('first_name', 'Idres')
  -&gt;updateRegister('last_name', 'Elba')
  -&gt;updateFlag('enterprise_customer', true)
  -&gt;updateSet('interests', $setBuilder)
  -&gt;updateCounter('page_visits', $counterBuilder)
  -&gt;buildLocation('idris_elba', 'customers', 'maps')
  -&gt;build()
  -&gt;execute();

$setBuilder = (new \Basho\Riak\Command\Builder\UpdateSet($riak));
  
foreach(['loving rock and roll', 'being in the Blackhearts'] as $interest) {
  $setBuilder-&gt;add($interest);
}

(new \Basho\Riak\Command\Builder\UpdateMap($riak))
  -&gt;updateRegister('first_name', 'Joan')
  -&gt;updateRegister('last_name', 'Jett')
  -&gt;updateSet('interests', $setBuilder)
  -&gt;updateCounter('page_visits', $counterBuilder-&gt;withIncrement(25))
  -&gt;buildLocation('joan_jett', 'customers', 'maps')
  -&gt;build()
  -&gt;execute();
</code></pre>

<pre><code class="language-python">bucket = client.bucket_type('maps').bucket('customers')

idris_elba = Map(bucket, 'idris_elba')
idris_elba.registers['first_name'].assign('Idris')
idris_elba.registers['last_name'].assign('Elba')
idris_elba.flags['enterprise_customer'].enable()
idris_elba.counters['page_visits'].increment(10)
for interest in ['acting', 'being Stringer Bell']:
    idris_elba.sets['interests'].add(interest)
idris_elba.store()

joan_jett = Map(bucket, 'joan_jett')
joan_jett.registers['first_name'].assign('Joan')
joan_jett.registers['last_name'].assign('Jett')
# Joan Jett is not an enterprise customers, so we don't need to
# explictly disable this flag, as all flags are disabled by default
idris_elba.counters['page_visits'].increment(25)
for interest in ['loving rock and roll', 'being in the Blackhearts']:
    joan_jett.sets['interests'].add(interest)
joan_jett.store()
</code></pre>

<pre><code class="language-csharp">// https://github.com/basho/riak-dotnet-client/blob/develop/src/RiakClientExamples/Dev/Search/SearchDataTypes.cs

// Note: similar code for Joan Jett

const string firstNameRegister = &quot;first_name&quot;;
const string lastNameRegister = &quot;last_name&quot;;
const string enterpriseCustomerFlag = &quot;enterprise_customer&quot;;
const string pageVisitsCounter = &quot;page_visits&quot;;
const string interestsSet = &quot;interests&quot;;

var idrisAdds = new[] { &quot;acting&quot;, &quot;being Stringer Bell&quot; };

var mapOp = new UpdateMap.MapOperation()
    .SetRegister(firstNameRegister, &quot;Idris&quot;)
    .SetRegister(lastNameRegister, &quot;Elba&quot;)
    .SetFlag(enterpriseCustomerFlag, false)
    .IncrementCounter(pageVisitsCounter, 10)
    .AddToSet(interestsSet, idrisAdds);

var cmd = new UpdateMap.Builder()
    .WithBucketType(&quot;maps&quot;)
    .WithBucket(&quot;customers&quot;)
    .WithKey(&quot;idris_elba&quot;)
    .WithMapOperation(mapOp)
    .Build();

RiakResult rslt = client.Execute(cmd);
</code></pre>

<pre><code class="language-javascript">var funcs = [
    function (async_cb) {
        var options = {
            bucketType: 'maps',
            bucket: 'customers',
            key: 'idris_elba'
        };

        var mapOp = new Riak.Commands.CRDT.UpdateMap.MapOperation();
        mapOp.setRegister('first_name', 'Idris');
        mapOp.setRegister('last_name', 'Elba');
        mapOp.setFlag('enterprise_customer', false);
        mapOp.incrementCounter('page_visits', 10);
        mapOp.addToSet('interests', 'acting');
        mapOp.addToSet('interests', 'being Stringer Bell');

        options.op = mapOp;

        client.updateMap(options, function (err, rslt) {
            throwIfErr(err);
            async_cb();
        });
    },
    function (async_cb) {
        var options = {
            bucketType: 'maps',
            bucket: 'customers',
            key: 'joan_jett'
        };

        var mapOp = new Riak.Commands.CRDT.UpdateMap.MapOperation();
        mapOp.setRegister('first_name', 'Joan');
        mapOp.setRegister('last_name', 'Jett');
        mapOp.setFlag('enterprise_customer', false);
        mapOp.incrementCounter('page_visits', 25);
        mapOp.addToSet('interests', 'loving rock and roll');
        mapOp.addToSet('interests', 'being in the Blackhearts');

        options.op = mapOp;

        client.updateMap(options, function (err, rslt) {
            throwIfErr(err);
            async_cb();
        });
    }
];

async.parallel(funcs, function (err, rslts) {
    throwIfErr(err);
});
</code></pre>

<h3 id="searching-counters-within-maps">Searching Counters Within Maps</h3>

<p>We now have two maps stored in Riak that we can query. Let&rsquo;s query to
see how many users have page visit counters above 15. Unlike the
counters example above, we have to specify <em>which</em> counter we&rsquo;re
querying:</p>

<pre><code class="language-java">// Using the same method explained above, just changing the query:
String query = &quot;page_visits_counter:[15 TO *]&quot;;

// Again using the same method from above:
int numberFound = results.numResults(); // 1
</code></pre>

<pre><code class="language-ruby">results = client.search('customers', 'page_visits_counter:[15 TO *]')
results['num_found']
# 1
</code></pre>

<pre><code class="language-php">$response = (new \Basho\Riak\Command\Builder\Search\FetchObjects($riak))
  -&gt;withIndexName('customers')
  -&gt;withQuery('page_visits_counter:[15 TO *]')
  -&gt;build()
  -&gt;execute();

$response-&gt;getNumFound(); // 1
</code></pre>

<pre><code class="language-python">results = client.fulltext_search('customers', 'page_visits_counter:[15 TO *]')
results['num_found']
# 1
</code></pre>

<pre><code class="language-csharp">var search = new RiakSearchRequest(&quot;customers&quot;, &quot;page_visits_counter:[15 TO *]&quot;);
var rslt = client.Search(search);
</code></pre>

<pre><code class="language-javascript">function search_cb(err, rslt) {
    logger.info(&quot;numFound: '%d', docs: '%s'&quot;,
        rslt.numFound, JSON.stringify(rslt.docs));

    var doc = rslt.docs[0];
    var key = doc['_yz_rk'];
    var bucket = doc['_yz_rb'];
    var bucketType = doc['_yz_rt'];
}

var searchCmd = new Riak.Commands.YZ.Search.Builder()
    .withIndexName('customers')
    .withQuery('page_visits_counter:[15 TO *]')
    .withCallback(search_cb)
    .build();

client.execute(searchCmd);
</code></pre>

<p>As expected, one of our two stored maps has a <code>page_visits</code> counter
above 15. Let&rsquo;s make sure that we have the right result:</p>

<pre><code class="language-java">// Using the same method from above:
String query = &quot;page_visits_counter:[15 TO *]&quot;;

// Again using the same method from above:
String registerValue =
  results.getAllResults().get(0).get(&quot;first_name_register&quot;).get(0); // Joan
</code></pre>

<pre><code class="language-ruby">results['docs'][0]['first_name_register']
# 'Joan'
</code></pre>

<pre><code class="language-php">$response-&gt;getDocs()[0]-&gt;first_name_register']; // Joan
</code></pre>

<pre><code class="language-python">results['docs'][0]['first_name_register']
# u'Joan'
</code></pre>

<pre><code class="language-csharp">var search = new RiakSearchRequest(&quot;customers&quot;, &quot;page_visits_counter:[15 TO *]&quot;);
var rslt = client.Search(search);
var firstDoc = searchResult.Documents.First();
</code></pre>

<pre><code class="language-javascript">var doc = rslts.docs[0];
doc.page_visits_register;
</code></pre>

<p>Success! Now we can test out searching sets.</p>

<h3 id="searching-sets-within-maps">Searching Sets Within Maps</h3>

<p>Each of the maps we stored thus far had an <code>interests</code> set. First, let&rsquo;s
see how many of our maps even <em>have</em> sets called <code>interests</code> using a
wildcard query:</p>

<pre><code class="language-java">// Using the same method from above:
String query = &quot;interests_set:*&quot;;
</code></pre>

<pre><code class="language-ruby">results = client.search('customers', 'interests_set:*')
# 2
</code></pre>

<pre><code class="language-php">$response = (new \Basho\Riak\Command\Builder\Search\FetchObjects($riak))
  -&gt;withIndexName('customers')
  -&gt;withQuery('interests_set:*')
  -&gt;build()
  -&gt;execute();

$response-&gt;getNumFound(); // 2
</code></pre>

<pre><code class="language-python">results = client.fulltext_search('customers', 'interests_set:*')
results['num_found']
# 2
</code></pre>

<pre><code class="language-csharp">var search = new RiakSearchRequest(&quot;customers&quot;, &quot;interests_set:*&quot;);
var rslt = client.Search(search);
</code></pre>

<pre><code class="language-javascript">var searchCmd = new Riak.Commands.YZ.Search.Builder()
    .withIndexName('customers')
    .withQuery('interests_set:*')
    .withCallback(search_cb)
    .build();

client.execute(searchCmd);
</code></pre>

<p>As expected, both stored maps have an <code>interests</code> set. Now let&rsquo;s see how
many maps have items in <code>interests</code> sets that begin with <code>loving</code>:</p>

<pre><code class="language-java">// Using the same method from above:
String query = &quot;interests_set:loving*&quot;;

// Again using the same method from above:
int numberFound = results.numResults(); // 1
String registerValue =
  results.getAllResults().get(0).get(&quot;first_name_register&quot;).get(0); // Joan
</code></pre>

<pre><code class="language-ruby">results = client.search('customers', 'interests_set:loving*')
results['num_found'] # 1
results['docs'][0]['first_name_register'] # 'Joan'
</code></pre>

<pre><code class="language-php">$response = (new \Basho\Riak\Command\Builder\Search\FetchObjects($riak))
  -&gt;withIndexName('customers')
  -&gt;withQuery('interests_set:loving*')
  -&gt;build()
  -&gt;execute();

$response-&gt;getDocs()[0]-&gt;first_name_register']; // Joan
</code></pre>

<pre><code class="language-python">results = client.fulltext_search('customers', 'interests_set:loving*')
results['num_found'] # 1
results['docs'][0]['first_name_register'] # u'Joan'
</code></pre>

<pre><code class="language-csharp">var search = new RiakSearchRequest(&quot;customers&quot;, &quot;interests_set:loving*&quot;);
var rslt = client.Search(search);
</code></pre>

<pre><code class="language-javascript">var searchCmd = new Riak.Commands.YZ.Search.Builder()
    .withIndexName('customers')
    .withQuery('interests_set:loving*')
    .withCallback(search_cb)
    .build();

client.execute(searchCmd);
</code></pre>

<p>As expected, only our Joan Jett map has one item in its <code>interests</code> set
that starts with <code>loving</code>.</p>

<h3 id="searching-maps-within-maps">Searching Maps Within Maps</h3>

<p>Before we can try to search maps within maps, we need to actually store
some. Let&rsquo;s add a <code>alter_ego</code> map to both of the maps we&rsquo;ve stored thus
far. Each person&rsquo;s alter ego will have a first name only.</p>

<pre><code class="language-java">Location idrisElbaMap = new Location(customersBucket, &quot;idris_elba&quot;);
MapUpdate alterEgoUpdateName = new MapUpdate()
        .update(&quot;name&quot;, new RegisterUpdate(&quot;John Luther&quot;));
MapUpdate alterEgoUpdate = new MapUpdate()
        .update(&quot;alter_ego&quot;, alterEgoUpdateName);
UpdateMap addSubMap = new UpdateMap.Builder(idrisElbaMap, alterEgoUpdate);
client.execute(addSubMap);
</code></pre>

<pre><code class="language-ruby">idris_elba.maps['alter_ego'].registers['name'] = 'John Luther'

joan_jett.maps['alter_ego'].registers['name'] = 'Robert Plant'
</code></pre>

<pre><code class="language-php">$mapBuilder = (new \Basho\Riak\Command\Builder\UpdateMap($riak))
  -&gt;updateRegister('name', 'John Luther')

(new \Basho\Riak\Command\Builder\UpdateMap($riak))
  -&gt;updateMap('alter_ego', $mapBuilder)
  -&gt;buildLocation('idris_elba', 'customers', 'maps')
  -&gt;build()
  -&gt;execute();

$mapBuilder-&gt;updateRegister('name', 'Robert Plant')

(new \Basho\Riak\Command\Builder\UpdateMap($riak))
  -&gt;updateMap('alter_ego', $mapBuilder)
  -&gt;buildLocation('joan_jett', 'customers', 'maps')
  -&gt;build()
  -&gt;execute();
</code></pre>

<pre><code class="language-python">idris_elba.maps['alter_ego'].registers['name'].assign('John Luther')
idris_elba.store()

joan_jett.maps['alter_ego'].registers['name'].assign('Robert Plant')
joan_jett.store()
</code></pre>

<pre><code class="language-csharp">// https://github.com/basho/riak-dotnet-client/blob/develop/src/RiakClientExamples/Dev/Search/SearchDataTypes.cs

const string nameRegister = &quot;name&quot;;
const string alterEgoMap = &quot;alter_ego&quot;;

var mapOp = new UpdateMap.MapOperation();
mapOp.Map(alterEgoMap).SetRegister(nameRegister, &quot;John Luther&quot;);

var cmd = new UpdateMap.Builder()
    .WithBucketType(&quot;maps&quot;)
    .WithBucket(&quot;customers&quot;)
    .WithKey(&quot;idris_elba&quot;)
    .WithMapOperation(mapOp)
    .Build();

RiakResult rslt = client.Execute(cmd);
</code></pre>

<pre><code class="language-javascript">var funcs = [
    function (async_cb) {
        var options = {
            bucketType: 'maps',
            bucket: 'customers',
            key: 'idris_elba'
        };

        var mapOp = new Riak.Commands.CRDT.UpdateMap.MapOperation();
        var alterEgoMap = mapOp.map('alter_ego');
        alterEgoMap.setRegister('name', 'John Luther');

        options.op = mapOp;

        client.updateMap(options, function (err, rslt) {
            throwIfErr(err);
            async_cb();
        });
    },
    function (async_cb) {
        var options = {
            bucketType: 'maps',
            bucket: 'customers',
            key: 'joan_jett'
        };

        var mapOp = new Riak.Commands.CRDT.UpdateMap.MapOperation();
        var alterEgoMap = mapOp.map('alter_ego');
        alterEgoMap.setRegister('name', 'Robert Plant');

        options.op = mapOp;

        client.updateMap(options, function (err, rslt) {
            throwIfErr(err);
            async_cb();
        });
    }
];

async.parallel(funcs, function (err, rslts) {
    throwIfErr(err);
});
</code></pre>

<p>Querying maps within maps involves construct queries that separate the
different levels of depth with a single dot. Here&rsquo;s an example query for
finding maps that have a <code>name</code> register embedded within an <code>alter_ego</code>
map:</p>

<pre><code class="language-java">// Using the same method from above:
String query = &quot;alter_ego_map.name_register:*&quot;;

// Again using the same method from above:
int numberFound = results.numResults(); // 2
</code></pre>

<pre><code class="language-ruby">results = client.search('customers', 'alter_ego_map.name_register:*')
results['num_found'] # 2
</code></pre>

<pre><code class="language-php">$response = (new \Basho\Riak\Command\Builder\Search\FetchObjects($riak))
  -&gt;withIndexName('customers')
  -&gt;withQuery('alter_ego_map.name_register:*')
  -&gt;build()
  -&gt;execute();

$response-&gt;getNumFound(); // 2
</code></pre>

<pre><code class="language-python">results = client.fulltext_search('customers', 'alter_ego_map.name_register:*')
results['num_found'] # 2
</code></pre>

<pre><code class="language-csharp">var search = new RiakSearchRequest(&quot;customers&quot;, &quot;alter_ego_map.name_register:*&quot;);
var rslt = client.Search(search);
</code></pre>

<pre><code class="language-javascript">var searchCmd = new Riak.Commands.YZ.Search.Builder()
    .withIndexName('customers')
    .withQuery('alter_ego_map.name_register:*')
    .withCallback(search_cb)
    .build();

client.execute(searchCmd);
</code></pre>

<p>Once we know how to query embedded fields like this, we can query those
just like any other. Let&rsquo;s find out which maps have an <code>alter_ego</code>
sub-map that contains a <code>name</code> register that ends with <code>PLant</code>, and
display that customer&rsquo;s first name:</p>

<pre><code class="language-java">// Using the same method from above:
String query = &quot;alter_ego_map.name_register:*Plant&quot;;

// Again using the same method from above:
int numberFound = results.numResults(); // 1
String registerValue =
  results.getAllResults().get(0).get(&quot;first_name_register&quot;).get(0); // Joan
</code></pre>

<pre><code class="language-ruby">results = client.search('customers', 'alter_ego_map.name_register:*Plant')
results['num_found'] # 1
results['docs'][0]['first_name_register'] # 'Joan'
</code></pre>

<pre><code class="language-php">$response = (new \Basho\Riak\Command\Builder\Search\FetchObjects($riak))
  -&gt;withIndexName('customers')
  -&gt;withQuery('alter_ego_map.name_register:*Plant')
  -&gt;build()
  -&gt;execute();

$response-&gt;getNumFound(); // 1
$response-&gt;getDocs()[0]-&gt;first_name_register']; // Joan
</code></pre>

<pre><code class="language-python">results = client.fulltext_search('customers', 'alter_ego_map.name_register:*Plant')
results['num_found'] # 1
results['docs'][0]['first_name_register'] # u'Joan
</code></pre>

<pre><code class="language-csharp">var search = new RiakSearchRequest(&quot;customers&quot;, &quot;alter_ego_map.name_register:*Plant&quot;);
var rslt = client.Search(search);
</code></pre>

<pre><code class="language-javascript">var searchCmd = new Riak.Commands.YZ.Search.Builder()
    .withIndexName('customers')
    .withQuery('alter_ego_map.name_register:*Plant')
    .withCallback(search_cb)
    .build();

client.execute(searchCmd);
</code></pre>

<p>Success! We&rsquo;ve now queried not just maps but also maps within maps.</p>

      </main>


    </article>


    <footer class="footer">

  <div class="inline-block   footer__attributions">

    <p>
      This work is licensed under a
      <br class="[bs] hidden-md-up">
      <a href="http://creativecommons.org/licenses/by/4.0/" target="_blank">
        Creative Commons Attribution 4.0 <br class="[bs] hidden-sm-up"> International Public License
      </a>
    </p>

    <p>
      © 2011-2017&nbsp;<a href="http://www.basho.com">Basho Technologies, Inc.</a>
    </p>

  </div>

</footer>



  </div>


  <script src="//evadne.github.io/basho_docs/js/main.js" type="text/javascript"></script>

</body>
</html>
