<!DOCTYPE html>







<html class="no-js" lang="en">




<head>

  <meta charset="utf-8">
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
  <meta name="viewport" content="width=device-width">
  <link rel="shortcut icon" href="//evadne.github.io/basho_docs/images/branding/favicon.ico" type="image/x-icon" />

  <title>Writing Data to Riak TS</title>

  <link href="//evadne.github.io/basho_docs/css/main.css" media="screen" rel="stylesheet" type="text/css">
  <link rel="canonical" href="//evadne.github.io/basho_docs/riak/ts/latest/using/writingdata/" />
  <!-- The below meta tags are included to allow JS code to use variables
       defined in Hugo---our static site generator. -->
  <meta name="project" content="riak_ts">
  <meta name="version" content="1.3.1">
  <meta name="project_relative_path" content="using/writingdata/">

</head>



<body class="riak_ts 1.3.1  ">


  <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-T9C8MK" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-T9C8MK');</script>


  
<header class="banner">



  
  <div class="float-right   banner__menu-bars   [bs] hidden-md-up">
    <div class="menu-bars   js_toggle-content-nav"></div>
  </div>



  
  <div class="float-left   banner__docs-logo">
    <a href="//evadne.github.io/basho_docs/index.html" class="block   docs-logo"><img class="docs-logo__image" src="//evadne.github.io/basho_docs/images/branding/basho_docs_logo.png"></a>
  </div>



  
  <div class="overflow-hidden   banner__navigation-pane   [bs] hidden-sm-down">


    
    <div class="float-left    banner__intra-brand__width-wrapper">
    <div class="float-right   banner__intra-brand">
      <div class="float-right">
        
        <a class="inline-block   banner__brand-link" href="http://basho.com/">Basho</a><a class="inline-block   banner__brand-link" href="https://academy.basho.com">Academy</a><a class="inline-block   banner__brand-link" href="//evadne.github.io/basho_docs/community">Community</a><a class="inline-block   banner__brand-link" href="http://basho.com/contact">Contact</a></div>
    </div>
    </div>




    
    <div class="float-left    banner__intra-site__width-wrapper">
    <div class="float-right   banner__intra-site">
      
      <a class="inline-block   banner__brand-link " href="//evadne.github.io/basho_docs/riak/kv/latest/">Riak KV</a><a class="inline-block   banner__brand-link banner__brand-link--current">Riak TS</a><a class="inline-block   banner__brand-link " href="//evadne.github.io/basho_docs/riak/cs/latest/">Riak CS</a></div>
    </div>


  </div>

</header>



  
  



<nav class="content-nav content-nav--top-size-full">




  <div class="content-nav__fixed-top">
    <form id="searchbox_011972015458788978446:zgdcy4fa-o0" class="search" action="">

      <span class="block float-left   search__icon-container   docs-icon--search">|</span>

      <span class="block overflow">
        <input class="search__input" id="main-search" type="search" name="q" placeholder="Search">
      </span>

    </form>


    <div class="clearfix   version-picker">

  
      <a class="inline-block float-left    product__title" href="//evadne.github.io/basho_docs/"><img class="product__logo" src="//evadne.github.io/basho_docs/images/branding/riak-logo.png">Riak<span class="product__title-highlight">TS</span>
      </a>
  

      <div class="inline-block float-right   selector selector--version">
        <header class="selector__title">Versions</header>
        <button class="selector__btn" type="button">1.3.1</button>
        <div    class="selector__arrow"></div>
      </div>

    </div>


  </div>


  
  <div class="overflow-y-hidden   selector-pane__sizing-box selector-pane__sizing-box--hidden">
  <div class="                    selector-pane__shadow-box">

    
    <div class="edge-fader edge-fader--left">
      <span class="inline-block   edge-fader__arrow edge-fader__arrow--invisible"></span>
    </div>
    <div class="edge-fader edge-fader--right">
      <span class="inline-block   edge-fader__arrow edge-fader__arrow--invisible"></span>
    </div>

    <div class="overflow-x        selector-pane__primary selector-pane--versions  js_edge-fader--target">
      
    </div>
  </div>
  </div>




  
  <div class="             content-nav__primary__sizing-box">
  <div class="             content-nav__primary__shadow-box">
  <div class="overflow-y   content-nav__primary">

    <div class="content-nav__menu-container">

      <ul class="content-menu
                 content-menu--depth-0
                 content-menu--open">


        <li >

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--riak">|</span>
            <span class="block float-right   content-menu__menu-toggle
                        ">
            </span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/" >
              <span class="block   content-menu__item__right-border"><strong>Riak TS</strong></span>
            </a>

          </div>
          
          


<ul class="content-menu
           content-menu--depth-1
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/releasenotes/" >
        <span class="block   content-menu__item__right-border">Release Notes</span>
      </a>

    </div>

  </li>



</ul>

        </li>


        <li class="content-menu__download-entry">

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--download-alt">|</span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/downloads/" >
              <span class="block   content-menu__item__right-border"><strong>Download Riak TS</strong></span>
            </a>

          </div>

        </li>


        <li >

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--install">|</span>
            <span class="block float-right   content-menu__menu-toggle
                        ">
            </span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/installing/" >
              <span class="block   content-menu__item__right-border"><strong>Install</strong></span>
            </a>

          </div>
          
          


<ul class="content-menu
           content-menu--depth-1
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/installing/debian-ubuntu/" >
        <span class="block   content-menu__item__right-border">Debian and Ubuntu</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/installing/mac-osx/" >
        <span class="block   content-menu__item__right-border">Mac OS X</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/installing/rhel-centos/" >
        <span class="block   content-menu__item__right-border">CentOS/RHEL</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/installing/aws/" >
        <span class="block   content-menu__item__right-border">AWS Marketplace</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/installing/source/" >
        <span class="block   content-menu__item__right-border">Source</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/installing/source/erlang/" >
        <span class="block   content-menu__item__right-border">Erlang</span>
      </a>

    </div>

  </li>



</ul>

  </li>



</ul>

        </li>


        <li >

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--database">|</span>
            <span class="block float-right   content-menu__menu-toggle
                         content-menu__menu-toggle--open ">
            </span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/using/" >
              <span class="block   content-menu__item__right-border"><strong>Use</strong></span>
            </a>

          </div>
          
          


<ul class="content-menu
           content-menu--depth-1
           content-menu--open"
    style="display: block">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/using/planning/" >
        <span class="block   content-menu__item__right-border">Plan Your Table</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/using/creating-activating/" >
        <span class="block   content-menu__item__right-border">Create and Activate Your Table</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item  content-menu__item--selected ">

      <a class="block overflow   content-menu__link--depth-1" >
        <span class="block   content-menu__item__right-border">Write Data</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/using/querying/" >
        <span class="block   content-menu__item__right-border">Query Data</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/using/configuring/" >
        <span class="block   content-menu__item__right-border">Configure</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/using/mdc/" >
        <span class="block   content-menu__item__right-border">MDC</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/using/aggregate-functions/" >
        <span class="block   content-menu__item__right-border">Aggregate Functions</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/using/arithmetic-operations/" >
        <span class="block   content-menu__item__right-border">Arithmetic Operations</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/using/riakshell/" >
        <span class="block   content-menu__item__right-border">riak shell</span>
      </a>

    </div>

  </li>



</ul>

        </li>


        <li >

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--lambda">|</span>
            <span class="block float-right   content-menu__menu-toggle
                        ">
            </span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/developing/" >
              <span class="block   content-menu__item__right-border"><strong>Develop</strong></span>
            </a>

          </div>
          
          


<ul class="content-menu
           content-menu--depth-1
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/developing/csharp/" >
        <span class="block   content-menu__item__right-border">C#</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/developing/erlang/" >
        <span class="block   content-menu__item__right-border">Erlang</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/developing/golang/" >
        <span class="block   content-menu__item__right-border">Go</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/developing/http/" >
        <span class="block   content-menu__item__right-border">HTTP</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/developing/java/" >
        <span class="block   content-menu__item__right-border">Java</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/developing/nodejs/" >
        <span class="block   content-menu__item__right-border">Node.js</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/developing/php/" >
        <span class="block   content-menu__item__right-border">PHP</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/developing/python/" >
        <span class="block   content-menu__item__right-border">Python</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/developing/ruby/" >
        <span class="block   content-menu__item__right-border">Ruby</span>
      </a>

    </div>

  </li>



</ul>

        </li>


        <li >

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--tools">|</span>
            <span class="block float-right   content-menu__menu-toggle
                        ">
            </span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/add-ons/" >
              <span class="block   content-menu__item__right-border"><strong>Add-ons</strong></span>
            </a>

          </div>
          
          


<ul class="content-menu
           content-menu--depth-1
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/add-ons/spark-riak-connector/" >
        <span class="block   content-menu__item__right-border">Spark-Riak Connector</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/add-ons/spark-riak-connector/quick-start/" >
        <span class="block   content-menu__item__right-border">Quick Start Guide</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/add-ons/spark-riak-connector/getting/" >
        <span class="block   content-menu__item__right-border">Get Spark-Riak Connector</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/add-ons/spark-riak-connector/building-testing/" >
        <span class="block   content-menu__item__right-border">Building &amp; Testing</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/add-ons/spark-riak-connector/usage/" >
        <span class="block   content-menu__item__right-border">Usage</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/add-ons/spark-riak-connector/usage/config-spark-context/" >
        <span class="block   content-menu__item__right-border">Spark Context Configuration</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/add-ons/spark-riak-connector/usage/reading-data/" >
        <span class="block   content-menu__item__right-border">Reading Data</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/add-ons/spark-riak-connector/usage/writing-data/" >
        <span class="block   content-menu__item__right-border">Writing Data</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/add-ons/spark-riak-connector/usage/dataframes/" >
        <span class="block   content-menu__item__right-border">Working With Spark Dataframes</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/add-ons/spark-riak-connector/usage/dates/" >
        <span class="block   content-menu__item__right-border">Working With TS Dates</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/add-ons/spark-riak-connector/usage/range-query-partition/" >
        <span class="block   content-menu__item__right-border">TS Table Range Query Partitioning</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/add-ons/spark-riak-connector/usage/bulk-write/" >
        <span class="block   content-menu__item__right-border">Bulk Write</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/add-ons/spark-riak-connector/usage/streaming-example/" >
        <span class="block   content-menu__item__right-border">Spark Streaming Example</span>
      </a>

    </div>

  </li>



</ul>

  </li>



</ul>

  </li>



</ul>

        </li>


        <li >

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--beaker">|</span>
            <span class="block float-right   content-menu__menu-toggle
                        ">
            </span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/learn-about/" >
              <span class="block   content-menu__item__right-border"><strong>Learn</strong></span>
            </a>

          </div>
          
          


<ul class="content-menu
           content-menu--depth-1
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/learn-about/bestpractices/" >
        <span class="block   content-menu__item__right-border">Best Practices</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/learn-about/sqlriakts/" >
        <span class="block   content-menu__item__right-border">SQL for Riak TS</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.3.1/learn-about/tablearchitecture/" >
        <span class="block   content-menu__item__right-border">Table Architecture </span>
      </a>

    </div>

  </li>



</ul>

        </li>

        <li class="content-menu__blank-entry"></li>

      </ul>

    </div>



    <div class="content-nav__fixed-bottom">

      <ul class="content-menu">

        <li>
          <div class="content-menu__item">

            <span class="block float-left   content-menu__icon-container   docs-icon--comments">|</span>

            <a class="block overflow" href="//evadne.github.io/basho_docs/community">
              <span class="block   content-menu__item__right-border">
                <sub>Want some extra help?</sub><br>
                <strong>Ask our Community</strong>
              </span>
            </a>

          </div>
        </li>

        <li>
          <div class="content-menu__item">

            <span class="block float-left   content-menu__icon-container   docs-icon--question-sign">|</span>

            <a class="block overflow" href="http://basho.com/contact">
              <span class="block   content-menu__item__right-border">
                <sub>Need to chat?</sub><br>
                <strong>Contact us directly</strong>
              </span>
            </a>

          </div>
        </li>

        <li>
          <div class="content-menu__item">

            <span class="block float-left   content-menu__icon-container   docs-icon--github-alt">|</span>

            <a class="block overflow" href="https://github.com/basho/basho_docs/edit/master/content/riak/ts/1.3.1/using/writingdata.md">
              <span class="block   content-menu__item__right-border">
                <sub>Noticed a typo?</sub><br>
                <strong>Correct it in GitHub</strong>
              </span>
            </a>

          </div>
        </li>

      </ul>

    </div>

  </div>
  </div>
  </div>



</nav>

<script>
  (function() {
    var cx = '011972015458788978446:zgdcy4fa-o0';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<div style="width:0px;overflow:hidden;height:0px;">
  <gcse:search></gcse:search>
</div>






  <div class="content-well">


    <article class="main-article">


      

<header class="front-matter">


  <h1 class="front-matter__title">

    
    <br>
    Writing Data to Riak TS

  </h1>
  <nav class="table-of-contents"></nav>


</header>


      <main>
        

<p>Now that you&rsquo;ve <a href="../planning/">planned</a> and <a href="../creating-activating/">activated</a> your Riak TS table, you are ready to write data to it.</p>

<h2 id="writing-data">Writing Data</h2>

<p>Riak TS allows you to write multiple rows of data at a time. To demonstrate, we&rsquo;ll use the example table from earlier:</p>

<pre><code class="language-sql">CREATE TABLE GeoCheckin
(
   region       VARCHAR   NOT NULL,
   state        VARCHAR   NOT NULL,
   time         TIMESTAMP NOT NULL,
   weather      VARCHAR NOT NULL,
   temperature  DOUBLE,
   PRIMARY KEY (
     (region, state, QUANTUM(time, 15, 'm')),
     region, state, time
   )
)
</code></pre>

<p>To write data to your table, put the data in a list:</p>

<pre><code class="language-java">import java.net.UnknownHostException;
import java.util.concurrent.ExecutionException;
import com.basho.riak.client.api.RiakClient;
import com.basho.riak.client.api.commands.timeseries.Store;
import com.basho.riak.client.core.query.timeseries.*;
import java.util.*;

public class RiakTSInsert {
  public static void main(String [] args)
    throws UnknownHostException, ExecutionException, InterruptedException
  {
    // Riak Client with supplied IP and Port
    RiakClient client = RiakClient.newClient(10017, &quot;myriakdb.host&quot;);
    List&lt;Row&gt; rows = Arrays.asList(
      new Row(
        new Cell(&quot;South Atlantic&quot;),
        new Cell(&quot;South Carolina&quot;),
        Cell.newTimestamp(1234567),
        new Cell(&quot;hot&quot;),
        new Cell(23.5)
      ),
      new Row(
        new Cell(&quot;Mid-Atlantic&quot;),
        new Cell(&quot;New York&quot;),
        Cell.newTimestamp(1234567),
        new Cell(&quot;windy&quot;),
        new Cell(19.8)
      )
    );

    Store storeCmd = new Store.Builder(&quot;GeoCheckin&quot;).withRows(rows).build();
    client.execute(storeCmd);
    client.shutdown();
  }
}
</code></pre>

<pre><code class="language-ruby">client = Riak::Client.new 'myriakdb.host', pb_port: 10017
submission = Riak::TimeSeries::Submission.new client, &quot;GeoCheckin&quot;
submission.measurements = [[&quot;South Atlantic&quot;, &quot;South Carolina&quot;, 1234567, &quot;hot&quot;, 23.5], [&quot;Mid-Atlantic&quot;, &quot;New York&quot;, 1234567, &quot;windy&quot;, 19.8]]
submission.write!
</code></pre>

<pre><code class="language-python">import datetime
from riak.client import RiakClient

# NB: modify 'host' and 'pb_port' to match your installation
client = RiakClient(host='myriakdb.host', pb_port=8087)

fiveMins = datetime.timedelta(0, 300)
ts0 = datetime.datetime(2015, 1, 1, 12, 0, 0)
ts1 = ts0 + fiveMins

table = client.table('GeoCheckin')
rows = [
    ['South Atlantic', 'South Carolina', ts0, 'hot', 23.5],
    ['Mid-Atlantic', 'New York', ts1, 'windy', 19.8]
]
ts_obj = table.new(rows)
print &quot;Store result:&quot;, ts_obj.store()
</code></pre>

<pre><code class="language-csharp">var cells0 = new Cell[]
{
    new Cell&lt;string&gt;(&quot;Pacific&quot;),
    new Cell&lt;string&gt;(&quot;Washington&quot;),
    new Cell&lt;DateTime&gt;(TwentyMinsAgo),
    new Cell&lt;string&gt;(&quot;hurricane&quot;),
    new Cell&lt;double&gt;(82.3)
};

var cells1 = new Cell[]
{
    new Cell&lt;string&gt;(&quot;Pacific&quot;),
    new Cell&lt;string&gt;(&quot;Washington&quot;),
    new Cell&lt;DateTime&gt;(FifteenMinsAgo),
    new Cell&lt;string&gt;(&quot;rain&quot;),
    new Cell&lt;double&gt;(79.0)
};

var cells2 = new Cell[]
{
    new Cell&lt;string&gt;(&quot;Pacific&quot;),
    new Cell&lt;string&gt;(&quot;Washington&quot;),
    new Cell&lt;DateTime&gt;(FiveMinsAgo),
    new Cell&lt;string&gt;(&quot;wind&quot;),
    Cell.Null
};

var cells3 = new Cell[]
{
    new Cell&lt;string&gt;(&quot;Pacific&quot;),
    new Cell&lt;string&gt;(&quot;Washington&quot;),
    new Cell&lt;DateTime&gt;(Now),
    new Cell&lt;string&gt;(&quot;snow&quot;),
    new Cell&lt;double&gt;(20.1)
};

var rows = new Row[]
{
    new Row(cells0),
    new Row(cells1),
    new Row(cells2),
    new Row(cells3)
};

var columns = new Column[]
{
    new Column(&quot;region&quot;,      ColumnType.Varchar),
    new Column(&quot;state&quot;,       ColumnType.Varchar),
    new Column(&quot;time&quot;,        ColumnType.Timestamp),
    new Column(&quot;weather&quot;,     ColumnType.Varchar),
    new Column(&quot;temperature&quot;, ColumnType.Double)
};

var cmd = new Store.Builder()
        .WithTable(Table)
        .WithColumns(columns)
        .WithRows(rows)
        .Build();

RiakResult rslt = client.Execute(cmd);
</code></pre>

<pre><code class="language-javascript">var Riak = require('basho-riak-client');

var hosts = [ 'riak-1:8087', 'riak-2:8087' ];
var client = new Riak.Client(hosts);

var columns = [
    { name: 'region',     type: Riak.Commands.TS.ColumnType.Varchar },
    { name: 'state',        type: Riak.Commands.TS.ColumnType.Varchar },
    { name: 'time',        type: Riak.Commands.TS.ColumnType.Timestamp },
    { name: 'weather',     type: Riak.Commands.TS.ColumnType.Varchar },
    { name: 'temperature', type: Riak.Commands.TS.ColumnType.Double }
];

var rows = [
    [ 'Pacific', 'Washington', twentyMinsAgo, 'hurricane', 82.3 ],
    [ 'Pacific', 'Washington', fifteenMinsAgo, 'rain', 79.0 ],
    [ 'Pacific', 'Washington', fiveMinsAgo, 'wind', null ],
    [ 'Pacific', 'Washington', now, 'snow', 20.1 ]
];

var cb = function (err, response) {
    // NB: response will be true on success
};

var store = new Riak.Commands.TS.Store.Builder()
    .withTable('GeoCheckin')
    // NB: withColumns is optional
    // TS column types will be inferred if it's omitted
    .withColumns(columns)
    .withRows(rows)
    .withCallback(cb)
    .build();

client.execute(store);
</code></pre>

<pre><code class="language-erlang">%% TS 1.3 or newer. Records are represented as tuples.
{ok, Pid} = riakc_pb_socket:start_link(&quot;myriakdb.host&quot;, 10017).
riakc_ts:put(Pid, &quot;GeoCheckin&quot;, [{&lt;&lt;&quot;South Atlantic&quot;&gt;&gt;, &lt;&lt;&quot;South Carolina&quot;&gt;&gt;, 1234567, &lt;&lt;&quot;hot&quot;&gt;&gt;, 23.5}, {&lt;&lt;&quot;Mid-Atlantic&quot;&gt;&gt;, &lt;&lt;&quot;New York&quot;&gt;&gt;, 1234567, &lt;&lt;&quot;windy&quot;&gt;&gt;, 19.8}]).

%% TS 1.2 or earlier. Records are represented as lists.
{ok, Pid} = riakc_pb_socket:start_link(&quot;myriakdb.host&quot;, 10017).
riakc_ts:put(Pid, &quot;GeoCheckin&quot;, [[&lt;&lt;&quot;South Atlantic&quot;&gt;&gt;, &lt;&lt;&quot;South Carolina&quot;&gt;&gt;, 1234567, &lt;&lt;&quot;hot&quot;&gt;&gt;, 23.5], [&lt;&lt;&quot;Mid-Atlantic&quot;&gt;&gt;, &lt;&lt;&quot;New York&quot;&gt;&gt;, 1234567, &lt;&lt;&quot;windy&quot;&gt;&gt;, 19.8]]).
</code></pre>

<pre><code class="language-php">
require __DIR__ . '/../vendor/autoload.php';

use Basho\Riak;
use Basho\Riak\Command;
use Basho\Riak\Node;

$node = (new Node\Builder)
    -&gt;atHost('riak-test')
    -&gt;onPort(8087)
    -&gt;build();

$riak = new Riak([$node], [], new Riak\Api\Pb());

$response = (new Command\Builder\TimeSeries\StoreRows($riak))
    -&gt;inTable('GeoCheckins')
    -&gt;withRow([
        (new Cell(&quot;region&quot;))-&gt;setValue(&quot;South Atlantic&quot;),
        (new Cell(&quot;state&quot;))-&gt;setValue(&quot;South Carolina&quot;),
        (new Cell(&quot;time&quot;))-&gt;setTimestampValue(1420113600),
        (new Cell(&quot;weather&quot;))-&gt;setValue(&quot;hot&quot;),
        (new Cell(&quot;temperature&quot;))-&gt;setValue(23.5),
    ])
    -&gt;build()
    -&gt;execute();

if (!$response-&gt;isSuccess()) {
    echo $response-&gt;getMessage();
    exit;
}
</code></pre>

<pre><code class="language-golang">row := make([]TsCell, 5)

row[0] = NewStringTsCell(&quot;South Atlantic&quot;)
row[1] = NewStringTsCell(&quot;South Carolina&quot;)
row[2] = NewTimestampTsCell(1420113600)
row[3] = NewStringTsCell(&quot;hot&quot;)
row[4] = NewDoubleTsCell(23.5)

cmd, err := riak.NewTsStoreRowsCommandBuilder()
    .WithTable(&quot;GeoCheckin&quot;).WithRows([][]TsCell{row})
    .Build()

if err != nil {
    return err
}

err = cluster.Execute(cmd)
</code></pre>

<blockquote>
<p><strong>Note on validation</strong>:</p>

<p>Riak TS validates all rows on the server side before writing occurs, checking the number of row elements and types. If any of the rows fails validation then none of the rows will be written.  An error message will be returned with the index numbers of the invalid rows in the batch, the first item in the batch being index one.</p>
</blockquote>

<p>Depending on your client, you will receive different messages indicating whether or not your write was successful.</p>

<p>Successful responses:</p>

<ul>
<li>Java - <code>void</code>, not throwing an exception indicates a successful write</li>
<li>Ruby - <code>void</code>, not raising an error indicates a successful write</li>
<li>Python - <code>True</code></li>
<li>C# - <code>IsSuccess</code> will be <code>true</code></li>
<li>Node.js - <code>true</code></li>
<li>Erlang - <code>ok</code></li>
<li>PHP - $response-&gt;isSuccess() == true;</li>
</ul>

<p>Failure responses:</p>

<ul>
<li>Java - exceptions will be thrown</li>
<li>Ruby - <code>RpbErrorResp</code> with errors</li>
<li>Python - exceptions will be thrown</li>
<li>C# - <code>IsSuccess</code> will be <code>false</code> and <code>ErrorMessage</code> will have information</li>
<li>Node.js - The <code>err</code> callback parameter will have information, and the <code>response</code> parameter will be <code>false</code></li>
<li>Erlang - <code>RpbErrorResp</code></li>
<li>PHP - exceptions will be thrown</li>
</ul>

<p>In the event that your write fails, you should check the error message to see which rows failed validation. For example:</p>

<pre><code class="language-java">RiakClient client = RiakClient.newClient(10017, &quot;myriakdb.host&quot;);
List&lt;Row&gt; someRows = Arrays.asList(
        // Good Row
        new Row(new Cell(&quot;East North Central&quot;), new Cell(&quot;Ohio&quot;), Cell.newTimestamp(1234567), new Cell(&quot;cloudy&quot;), new Cell(79.0)),
        // Bad Rows
        new Row(new Cell(&quot;East North Central&quot;), Cell.newTimestamp(fiveMinsAgo)), // too short
        new Row() // no data
        );

Store store = new Store.Builder(&quot;GeoCheckin&quot;).withRows(someRows).build();
final RiakFuture&lt;Void, String&gt; storeFuture = client.executeAsync(store);

storeFuture.await();
assertFalse(storeFuture.isSuccess());
System.out.println(storeFuture.cause().detailMessage);
// Prints &quot;Invalid data found at row index(es) 2, 3&quot;
</code></pre>

<p>You could also try the original write again. Failures may be transitory when servers are temporarily unable to talk to each other.</p>

<h3 id="guidelines">Guidelines</h3>

<ul>
<li>Batches should not be too large. Our testing revealed 100 rows per write as a sweet spot, but you should expect different results depending on your hardware and schema.</li>
<li>Writes will assume that fields are in the same order as they&rsquo;ve been declared in the table.</li>
<li>Timestamps should be in Unix epoch/UTC milliseconds.</li>
</ul>

<h3 id="tuning-batches">Tuning Batches</h3>

<p>Batches of data from a single write are packaged for delivery to each destination server as a performance optimization. For Enterprise customers using <a href="//evadne.github.io/basho_docs/riak/ts/1.3.1/using/mdc">MDC</a>, those batches are sent to the remote cluster via realtime sync.</p>

<p>It is possible to specify an approximate largest-batch size for tuning purposes. By default, batches have a soft cap size of 1MB of data, which we&rsquo;ve found to be a reasonable size to avoid network congestion.</p>

<p>If you want to adjust that value, the configuration parameter <code>timeseries_max_batch_size</code> under <code>riak_kv</code> in <a href="//evadne.github.io/basho_docs/riak/kv/2.1.4/configuring/reference/#the-advanced-config-file">advanced.config</a> can be defined. The value is in bytes.</p>

<h2 id="adding-data-via-sql">Adding Data via SQL</h2>

<p>This can be done either through the <a href="../querying/">query interface</a> or via <a href="../riakshell">riak shell</a>. Basic SQL <code>INSERT</code> functionality is available, but more complicated things such as <code>INSERT...SELECT</code> or subqueries are not.</p>

<p>Here are a couple examples of adding rows from SQL:</p>

<pre><code class="language-sql">INSERT INTO GeoCheckin (region, state, time, weather, temperature) VALUES ('South Atlantic','South Carolina',1420113600000,'snow',25.2);
</code></pre>

<p>or</p>

<pre><code class="language-sql">INSERT INTO GeoCheckin VALUES ('South Atlantic','South Carolina',1420113700000,'rain',37.8);
</code></pre>

<p>As with standard SQL, if all of the field names are not provided before the <code>VALUES</code> keyword, the other fields are assumed to be null.</p>

<p>The fields can be in any order, but the field name and the values must match up. Without the <code>VALUES</code> keyword, all fields must be present in the same order as the schema definition.</p>

<p>The data types are validated on the server just like the client PUT commands above.</p>

<h2 id="deleting-data">Deleting Data</h2>

<p>Below are examples of how to delete data by key in each of our Riak TS-supported clients:</p>

<pre><code class="language-java">final List&lt;Cell&gt; keyCells = Arrays.asList(
  new Cell(&quot;South Atlantic&quot;), new Cell(&quot;South Carolina&quot;), Cell.newTimestamp(1420113600000));

Delete delete = new Delete.Builder(&quot;GeoCheckins&quot;, keyCells).build();

client.execute(delete);
</code></pre>

<pre><code class="language-ruby">delete_operation = Riak::TimeSeries::Deletion.new client, 'GeoCheckins'
delete_operation.key = ['South Atlantic', 'South Carolina', 1420113600000]
delete_operation.delete!
</code></pre>

<pre><code class="language-python">client.ts_delete('GeoCheckin', ['South Atlantic', 'South Carolina', datetime.datetime(2015, 1, 1, 12, 0, 0)])
</code></pre>

<pre><code class="language-csharp">var keyCells = new Cell[]
{
    new Cell&lt;string&gt;(&quot;Pacific&quot;),
    new Cell&lt;string&gt;(&quot;Washington&quot;),
    new Cell&lt;DateTime&gt;(FifteenMinsAgo)
};
var keyToDelete = new Row(keyCells);

var delete = new Delete.Builder()
        .WithTable(Table)
        .WithKey(keyToDelete)
        .Build();
RiakResult rslt = client.Execute(delete);
// rslt.IsSuccess will be true
</code></pre>

<pre><code class="language-javascript">var key = [ 'South Atlantic', 'South Carolina', 1420113600000 ];

var cb = function (err, response) {
    // NB: response will be true on success
};

var cmd = new Riak.Commands.TS.Delete.Builder()
    .withTable('GeoCheckins')
    .withKey(key)
    .withCallback(cb)
    .build();

client.execute(cmd);
</code></pre>

<pre><code class="language-erlang">riakc_ts:delete(Pid, &lt;&lt;&quot;GeoCheckins&quot;&gt;&gt;, [&lt;&lt;&quot;South Atlantic&quot;&gt;&gt;, &lt;&lt;&quot;South Carolina&quot;&gt;&gt;, 1420113600000]).
</code></pre>

<pre><code class="language-php">$key = [
    (new Cell(&quot;region&quot;))-&gt;setValue(&quot;South Atlantic&quot;),
    (new Cell(&quot;state&quot;))-&gt;setValue(&quot;South Carolina&quot;),
    (new Cell(&quot;time&quot;))-&gt;setTimestampValue(1420113600),
];

$response = (new Command\Builder\TimeSeries\DeleteRow($riak))
    -&gt;atKey($key)
    -&gt;inTable('GeoCheckins')
    -&gt;build()
    -&gt;execute();
</code></pre>

<pre><code class="language-golang">key := make([]riak.TsCell, 3)

key[0] = NewStringTsCell(&quot;South Atlantic&quot;)
key[1] = NewStringTsCell(&quot;South Carolina&quot;)
key[2] = NewTimestampTsCell(1420113600)

cmd, err := riak.NewTsDeleteRowCommandBuilder()
    .WithTable(&quot;GeoCheckin&quot;).WithKey(key)
    .Build()

if err != nil {
    return err
}

err = cluster.Execute(cmd)
</code></pre>

<h2 id="next-steps">Next Steps</h2>

<p>Now that you&rsquo;ve written data to your tables, you can <a href="../querying/">query</a> your data.</p>

      </main>


    </article>


    <footer class="footer">

  <div class="inline-block   footer__attributions">

    <p>
      This work is licensed under a
      <br class="[bs] hidden-md-up">
      <a href="http://creativecommons.org/licenses/by/4.0/" target="_blank">
        Creative Commons Attribution 4.0 <br class="[bs] hidden-sm-up"> International Public License
      </a>
    </p>

    <p>
      Â© 2011-2017&nbsp;<a href="http://www.basho.com">Basho Technologies, Inc.</a>
    </p>

  </div>

</footer>



  </div>


  <script src="//evadne.github.io/basho_docs/js/main.js" type="text/javascript"></script>

</body>
</html>
