<!DOCTYPE html>







<html class="no-js" lang="en">




<head>

  <meta charset="utf-8">
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
  <meta name="viewport" content="width=device-width">
  <link rel="shortcut icon" href="//evadne.github.io/basho_docs/images/branding/favicon.ico" type="image/x-icon" />

  <title>Security Sources Management</title>

  <link href="//evadne.github.io/basho_docs/css/main.css" media="screen" rel="stylesheet" type="text/css">
  <link rel="canonical" href="https://docs.basho.com/riak/ts/latest/using/security/sources-management/" />
  <!-- The below meta tags are included to allow JS code to use variables
       defined in Hugo---our static site generator. -->
  <meta name="project" content="riak_ts">
  <meta name="version" content="1.5.1">
  <meta name="project_relative_path" content="using/security/sources-management/">

</head>



<body class="riak_ts 1.5.1  ">


  <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-T9C8MK" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-T9C8MK');</script>


  
<header class="banner">



  
  <div class="float-right   banner__menu-bars   [bs] hidden-md-up">
    <div class="menu-bars   js_toggle-content-nav"></div>
  </div>



  
  <div class="float-left   banner__docs-logo">
    <a href="//evadne.github.io/basho_docs/index.html" class="block   docs-logo"><img class="docs-logo__image" src="//evadne.github.io/basho_docs/images/branding/basho_docs_logo.png"></a>
  </div>



  
  <div class="overflow-hidden   banner__navigation-pane   [bs] hidden-sm-down">


    
    <div class="float-left    banner__intra-brand__width-wrapper">
    <div class="float-right   banner__intra-brand">
      <div class="float-right">
        
        <a class="inline-block   banner__brand-link" href="http://basho.com/">Basho</a><a class="inline-block   banner__brand-link" href="https://academy.basho.com">Academy</a><a class="inline-block   banner__brand-link" href="//evadne.github.io/basho_docs/community">Community</a><a class="inline-block   banner__brand-link" href="http://basho.com/contact">Contact</a></div>
    </div>
    </div>




    
    <div class="float-left    banner__intra-site__width-wrapper">
    <div class="float-right   banner__intra-site">
      
      <a class="inline-block   banner__brand-link " href="//evadne.github.io/basho_docs/riak/kv/latest/">Riak KV</a><a class="inline-block   banner__brand-link banner__brand-link--current">Riak TS</a><a class="inline-block   banner__brand-link " href="//evadne.github.io/basho_docs/riak/cs/latest/">Riak CS</a></div>
    </div>


  </div>

</header>



  
  



<nav class="content-nav content-nav--top-size-full">




  <div class="content-nav__fixed-top">
    <form id="searchbox_011972015458788978446:zgdcy4fa-o0" class="search" action="">

      <span class="block float-left   search__icon-container   docs-icon--search">|</span>

      <span class="block overflow">
        <input class="search__input" id="main-search" type="search" name="q" placeholder="Search">
      </span>

    </form>


    <div class="clearfix   version-picker">

  
      <a class="inline-block float-left    product__title" href="//evadne.github.io/basho_docs/"><img class="product__logo" src="//evadne.github.io/basho_docs/images/branding/riak-logo.png">Riak<span class="product__title-highlight">TS</span>
      </a>
  

      <div class="inline-block float-right   selector selector--version">
        <header class="selector__title">Versions</header>
        <button class="selector__btn" type="button">1.5.1</button>
        <div    class="selector__arrow"></div>
      </div>

    </div>


  </div>


  
  <div class="overflow-y-hidden   selector-pane__sizing-box selector-pane__sizing-box--hidden">
  <div class="                    selector-pane__shadow-box">

    
    <div class="edge-fader edge-fader--left">
      <span class="inline-block   edge-fader__arrow edge-fader__arrow--invisible"></span>
    </div>
    <div class="edge-fader edge-fader--right">
      <span class="inline-block   edge-fader__arrow edge-fader__arrow--invisible"></span>
    </div>

    <div class="overflow-x        selector-pane__primary selector-pane--versions  js_edge-fader--target">
      
    </div>
  </div>
  </div>




  
  <div class="             content-nav__primary__sizing-box">
  <div class="             content-nav__primary__shadow-box">
  <div class="overflow-y   content-nav__primary">

    <div class="content-nav__menu-container">

      <ul class="content-menu
                 content-menu--depth-0
                 content-menu--open">


        <li >

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--riak">|</span>
            <span class="block float-right   content-menu__menu-toggle
                        ">
            </span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/" >
              <span class="block   content-menu__item__right-border"><strong>Riak TS</strong></span>
            </a>

          </div>
          
          


<ul class="content-menu
           content-menu--depth-1
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/releasenotes/" >
        <span class="block   content-menu__item__right-border">Release Notes</span>
      </a>

    </div>

  </li>



</ul>

        </li>


        <li class="content-menu__download-entry">

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--download-alt">|</span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/downloads/" >
              <span class="block   content-menu__item__right-border"><strong>Download Riak TS</strong></span>
            </a>

          </div>

        </li>


        <li >

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--install">|</span>
            <span class="block float-right   content-menu__menu-toggle
                        ">
            </span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/setup/" >
              <span class="block   content-menu__item__right-border"><strong>Setup</strong></span>
            </a>

          </div>
          
          


<ul class="content-menu
           content-menu--depth-1
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/setup/installing/" >
        <span class="block   content-menu__item__right-border">Install</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/setup/installing/debian-ubuntu/" >
        <span class="block   content-menu__item__right-border">Debian and Ubuntu</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/setup/installing/mac-osx/" >
        <span class="block   content-menu__item__right-border">Mac OS X</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/setup/installing/rhel-centos/" >
        <span class="block   content-menu__item__right-border">CentOS/RHEL</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/setup/installing/aws/" >
        <span class="block   content-menu__item__right-border">AWS Marketplace</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/setup/installing/source/" >
        <span class="block   content-menu__item__right-border">Source</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/setup/installing/source/erlang/" >
        <span class="block   content-menu__item__right-border">Erlang</span>
      </a>

    </div>

  </li>



</ul>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/setup/upgrading/" >
        <span class="block   content-menu__item__right-border">Upgrade</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/setup/downgrading/" >
        <span class="block   content-menu__item__right-border">Downgrade</span>
      </a>

    </div>

  </li>



</ul>

        </li>


        <li >

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--cog">|</span>
            <span class="block float-right   content-menu__menu-toggle
                        ">
            </span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/configuring/" >
              <span class="block   content-menu__item__right-border"><strong>Configure</strong></span>
            </a>

          </div>
          
          


<ul class="content-menu
           content-menu--depth-1
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/configuring/riakconf/" >
        <span class="block   content-menu__item__right-border">riak.conf</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/configuring/mdc/" >
        <span class="block   content-menu__item__right-border">Multi-Datacenter Replication</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/configuring/global-object-expiration/" >
        <span class="block   content-menu__item__right-border">Global Object Expiration</span>
      </a>

    </div>

  </li>



</ul>

        </li>


        <li >

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--database">|</span>
            <span class="block float-right   content-menu__menu-toggle
                         content-menu__menu-toggle--open ">
            </span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/using/" >
              <span class="block   content-menu__item__right-border"><strong>Use</strong></span>
            </a>

          </div>
          
          


<ul class="content-menu
           content-menu--depth-1
           content-menu--open"
    style="display: block">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/using/core-fundamentals/" >
        <span class="block   content-menu__item__right-border">Core Fundamentals</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/using/planning/" >
        <span class="block   content-menu__item__right-border">Plan Your Table</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/using/timerepresentations/" >
        <span class="block   content-menu__item__right-border">Time Representations</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/using/creating-activating/" >
        <span class="block   content-menu__item__right-border">Create Your Table</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/using/writingdata/" >
        <span class="block   content-menu__item__right-border">Write Data</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/using/deleting-data/" >
        <span class="block   content-menu__item__right-border">Delete Data</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/using/querying/" >
        <span class="block   content-menu__item__right-border">Query Data</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/using/querying/reference/" >
        <span class="block   content-menu__item__right-border">SQL Reference</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/using/querying/select/" >
        <span class="block   content-menu__item__right-border">SELECT</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/using/querying/select/group-by/" >
        <span class="block   content-menu__item__right-border">GROUP BY</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/using/querying/select/order-by/" >
        <span class="block   content-menu__item__right-border">ORDER BY</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/using/querying/select/limit/" >
        <span class="block   content-menu__item__right-border">LIMIT</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/using/querying/select/arithmetic-operations/" >
        <span class="block   content-menu__item__right-border">Arithmetic Operations</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/using/querying/select/aggregate-functions/" >
        <span class="block   content-menu__item__right-border">Aggregate Functions</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/using/querying/delete/" >
        <span class="block   content-menu__item__right-border">DELETE</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/using/querying/describe/" >
        <span class="block   content-menu__item__right-border">DESCRIBE</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/using/querying/show-tables/" >
        <span class="block   content-menu__item__right-border">SHOW TABLES</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/using/querying/show-create-table/" >
        <span class="block   content-menu__item__right-border">SHOW CREATE TABLE</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/using/querying/explain/" >
        <span class="block   content-menu__item__right-border">EXPLAIN</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/using/querying/guidelines/" >
        <span class="block   content-menu__item__right-border">Querying Guidelines</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/using/querying/single-key-fetch/" >
        <span class="block   content-menu__item__right-border">Single Key Fetch</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/using/riakshell/" >
        <span class="block   content-menu__item__right-border">riak shell</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                   content-menu__menu-toggle--open ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/using/security/" >
        <span class="block   content-menu__item__right-border">Security</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           content-menu--open"
    style="display: block">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/using/security/checklist/" >
        <span class="block   content-menu__item__right-border">Security Checklist</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/using/security/enable-disable/" >
        <span class="block   content-menu__item__right-border">Security: Enable &amp; Disable</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/using/security/user-management/" >
        <span class="block   content-menu__item__right-border">User Management</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item  content-menu__item--selected ">

      <a class="block overflow   content-menu__link--depth-2" >
        <span class="block   content-menu__item__right-border">Sources Management</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/using/security/notify-basho/" >
        <span class="block   content-menu__item__right-border">Notifying Basho</span>
      </a>

    </div>

  </li>



</ul>

  </li>



</ul>

        </li>


        <li >

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--lambda">|</span>
            <span class="block float-right   content-menu__menu-toggle
                        ">
            </span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/developing/" >
              <span class="block   content-menu__item__right-border"><strong>Develop</strong></span>
            </a>

          </div>
          
          


<ul class="content-menu
           content-menu--depth-1
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/developing/csharp/" >
        <span class="block   content-menu__item__right-border">C#</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/developing/erlang/" >
        <span class="block   content-menu__item__right-border">Erlang</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/developing/golang/" >
        <span class="block   content-menu__item__right-border">Go</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/developing/http/" >
        <span class="block   content-menu__item__right-border">HTTP</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/developing/java/" >
        <span class="block   content-menu__item__right-border">Java</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/developing/nodejs/" >
        <span class="block   content-menu__item__right-border">Node.js</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/developing/php/" >
        <span class="block   content-menu__item__right-border">PHP</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/developing/python/" >
        <span class="block   content-menu__item__right-border">Python</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/developing/ruby/" >
        <span class="block   content-menu__item__right-border">Ruby</span>
      </a>

    </div>

  </li>



</ul>

        </li>


        <li >

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--tools">|</span>
            <span class="block float-right   content-menu__menu-toggle
                        ">
            </span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/add-ons/" >
              <span class="block   content-menu__item__right-border"><strong>Add-ons</strong></span>
            </a>

          </div>
          
          


<ul class="content-menu
           content-menu--depth-1
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/add-ons/spark-riak-connector/" >
        <span class="block   content-menu__item__right-border">Spark-Riak Connector</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/add-ons/spark-riak-connector/quick-start/" >
        <span class="block   content-menu__item__right-border">Quick Start Guide</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/add-ons/spark-riak-connector/getting/" >
        <span class="block   content-menu__item__right-border">Get Spark-Riak Connector</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/add-ons/spark-riak-connector/building-testing/" >
        <span class="block   content-menu__item__right-border">Building &amp; Testing</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/add-ons/spark-riak-connector/usage/" >
        <span class="block   content-menu__item__right-border">Usage</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/add-ons/spark-riak-connector/usage/config-spark-context/" >
        <span class="block   content-menu__item__right-border">Spark Context Configuration</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/add-ons/spark-riak-connector/usage/reading-data/" >
        <span class="block   content-menu__item__right-border">Reading Data</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/add-ons/spark-riak-connector/usage/writing-data/" >
        <span class="block   content-menu__item__right-border">Writing Data</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/add-ons/spark-riak-connector/usage/dataframes/" >
        <span class="block   content-menu__item__right-border">Working With Spark Dataframes</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/add-ons/spark-riak-connector/usage/dates/" >
        <span class="block   content-menu__item__right-border">Working With TS Dates</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/add-ons/spark-riak-connector/usage/range-query-partition/" >
        <span class="block   content-menu__item__right-border">TS Table Range Query Partitioning</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/add-ons/spark-riak-connector/usage/bulk-write/" >
        <span class="block   content-menu__item__right-border">Bulk Write</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/add-ons/spark-riak-connector/usage/streaming-example/" >
        <span class="block   content-menu__item__right-border">Spark Streaming Example</span>
      </a>

    </div>

  </li>



</ul>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/add-ons/redis/" >
        <span class="block   content-menu__item__right-border">Redis Add-on</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-2
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">
      <span class="block float-right   content-menu__menu-toggle
                  ">
      </span>

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/add-ons/redis/set-up-rra/" >
        <span class="block   content-menu__item__right-border">Set Up Redis Add-on</span>
      </a>

    </div>
    
    


<ul class="content-menu
           content-menu--depth-3
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-3"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/add-ons/redis/set-up-rra/deployment-models/" >
        <span class="block   content-menu__item__right-border">Redis Add-on Deployment Models</span>
      </a>

    </div>

  </li>



</ul>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/add-ons/redis/using-rra/" >
        <span class="block   content-menu__item__right-border">Using Redis Add-on</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/add-ons/redis/developing-rra/" >
        <span class="block   content-menu__item__right-border">Develop with Redis Add-on</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-2"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/add-ons/redis/redis-add-on-features/" >
        <span class="block   content-menu__item__right-border">Redis Add-on Features</span>
      </a>

    </div>

  </li>



</ul>

  </li>



</ul>

        </li>


        <li >

          <div class="content-menu__item ">

            <span class="block float-left   content-menu__icon-container   docs-icon--beaker">|</span>
            <span class="block float-right   content-menu__menu-toggle
                        ">
            </span>

            <a class="block overflow   content-menu__link--depth-0"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/learn-about/" >
              <span class="block   content-menu__item__right-border"><strong>Learn</strong></span>
            </a>

          </div>
          
          


<ul class="content-menu
           content-menu--depth-1
           "
    style="display: none">



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/learn-about/bestpractices/" >
        <span class="block   content-menu__item__right-border">Best Practices</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/learn-about/sqlriakts/" >
        <span class="block   content-menu__item__right-border">SQL for Riak TS</span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/learn-about/tablearchitecture/" >
        <span class="block   content-menu__item__right-border">Table Architecture </span>
      </a>

    </div>

  </li>



  <li>

    <div class="content-menu__item ">

      <a class="block overflow   content-menu__link--depth-1"  href="//evadne.github.io/basho_docs/riak/ts/1.5.1/learn-about/timestamps/" >
        <span class="block   content-menu__item__right-border">Timestamps</span>
      </a>

    </div>

  </li>



</ul>

        </li>

        <li class="content-menu__blank-entry"></li>

      </ul>

    </div>



    <div class="content-nav__fixed-bottom">

      <ul class="content-menu">

        <li>
          <div class="content-menu__item">

            <span class="block float-left   content-menu__icon-container   docs-icon--comments">|</span>

            <a class="block overflow" href="//evadne.github.io/basho_docs/community">
              <span class="block   content-menu__item__right-border">
                <sub>Want some extra help?</sub><br>
                <strong>Ask our Community</strong>
              </span>
            </a>

          </div>
        </li>

        <li>
          <div class="content-menu__item">

            <span class="block float-left   content-menu__icon-container   docs-icon--question-sign">|</span>

            <a class="block overflow" href="http://basho.com/contact">
              <span class="block   content-menu__item__right-border">
                <sub>Need to chat?</sub><br>
                <strong>Contact us directly</strong>
              </span>
            </a>

          </div>
        </li>

        <li>
          <div class="content-menu__item">

            <span class="block float-left   content-menu__icon-container   docs-icon--github-alt">|</span>

            <a class="block overflow" href="https://github.com/basho/basho_docs/edit/master/content/riak/ts/1.5.1/using/security/sources-management.md">
              <span class="block   content-menu__item__right-border">
                <sub>Noticed a typo?</sub><br>
                <strong>Correct it in GitHub</strong>
              </span>
            </a>

          </div>
        </li>

      </ul>

    </div>

  </div>
  </div>
  </div>



</nav>

<script>
  (function() {
    var cx = '011972015458788978446:zgdcy4fa-o0';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<div style="width:0px;overflow:hidden;height:0px;">
  <gcse:search></gcse:search>
</div>






  <div class="content-well">


    <article class="main-article">


      

<header class="front-matter">


  <h1 class="front-matter__title">
    <span class="front-matter__title--supertext">Security</span>

    
    <br>
    Sources Management

  </h1>
  <nav class="table-of-contents"></nav>


</header>


      <main>
        

<p>While <a href="../user-management">user management</a> enables you to control user authorization, <em>security sources</em> provide an interface for managing means of authentication. If you create users and grant them access to some or all of Riak TS&rsquo;s functionality as described in the <a href="../user-management">User Management</a> section, you will need to define security sources required for authentication.</p>

<h2 id="available-sources">Available Sources</h2>

<p>There are four available authentication sources in Riak TS Security:</p>

<table>
<thead>
<tr>
<th align="left">Source</th>
<th align="left">Description</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left"><a href="#trust-based-authentication">trusted networks</a> (<code>trust</code>)</td>
<td align="left">Always authenticate successfully if access has been granted to a user or all users on the specified <a href="http://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing">CIDR</a> range</td>
</tr>

<tr>
<td align="left"><a href="#password-based-authentication">password</a> (<code>password</code>)</td>
<td align="left">Check the user&rsquo;s password against the <a href="http://en.wikipedia.org/wiki/PBKDF2">PBKFD2</a>-hashed password stored in Riak TS</td>
</tr>

<tr>
<td align="left"><a href="#pam-based-authentication">pluggable authentication modules (PAM)</a> (<code>pam</code>)</td>
<td align="left">Authenticate against the given pluggable authentication module (PAM) service</td>
</tr>

<tr>
<td align="left"><a href="#certificate-based-authentication">certificates</a> (<code>certificate</code>)</td>
<td align="left">Authenticate using a client certificate</td>
</tr>
</tbody>
</table>

<h2 id="add-a-source">Add a Source</h2>

<p>Riak TS security sources may be applied to a specific user, multiple users,
or all users (<code>all</code>).</p>

<p>In general, the <code>add-source</code> command takes the following form:</p>

<pre><code class="language-bash">riak-admin security add-source all|&lt;users&gt; &lt;CIDR&gt; &lt;source&gt; [&lt;option&gt;=&lt;value&gt;[...]]
</code></pre>

<p>Using <code>all</code> indicates that the authentication source can be added to
all users. A source can be added to a specific user, for example <code>add-source superuser</code>, or to a list of users separated by commas, for example <code>add-source jane,bill,admin</code>.</p>

<p>The examples in the following sections will assume that the network in question is <code>127.0.0.1/32</code> and that a Riak TS user named <code>riakuser</code> has been <a href="../user-management/#add-user">created</a> and that security has been <a href="../enable-disable/#enabling-security">enabled</a>.</p>

<h3 id="trust-based-authentication">Trust-based Authentication</h3>

<p>This form of authentication (<code>trust</code>) enables you to specify trusted
<a href="http://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing">CIDRs</a> from which all clients will be authenticated by default.</p>

<p>Let&rsquo;s say that we want to give all users trusted access to securables
(without a password) when requests come from <code>localhost</code>:</p>

<pre><code class="language-bash">riak-admin security add-source all 127.0.0.1/32 trust
</code></pre>

<p>At that point, the <code>riak-admin security print-sources</code> command would
print the following:</p>

<pre><code>+--------------------+------------+----------+----------+
|       users        |    cidr    |  source  | options  |
+--------------------+------------+----------+----------+
|        all         |127.0.0.1/32|  trust   |    []    |
+--------------------+------------+----------+----------+
</code></pre>

<p>You can also specify users as trusted users, as in the following
example:</p>

<pre><code class="language-bash">riak-admin security add-source riakuser 127.0.0.1/32 trust
</code></pre>

<p>Now, <code>riakuser</code> can interact with Riak TS without providing credentials.
Running the <code>riak-admin security print-sources</code> command would print:</p>

<pre><code>+--------------------+------------+-----------+----------+
|       users        |    cidr    |  source   | options  |
+--------------------+------------+-----------+----------+
|      riakuser      |127.0.0.1/32|   trust   |    []    |
|        all         |127.0.0.1/32|   trust   |    []    |
+--------------------+------------+-----------+----------+
</code></pre>

<h3 id="password-based-authentication">Password-based Authentication</h3>

<p>Authenticating with the <code>password</code> source requires that our <code>riakuser</code> be
given a password. <code>riakuser</code> can be assigned a password upon creation,
as in this example:</p>

<pre><code class="language-bash">riak-admin security add-user riakuser password=captheorem4life
</code></pre>

<p>Or a password can be assigned to an already existing user by modifying
that user&rsquo;s characteristics:</p>

<pre><code class="language-bash">riak-admin security alter-user riakuser password=captheorem4life
</code></pre>

<p>Running the <code>riak-admin security print-sources</code> command would print:</p>

<pre><code>+--------------------+------------+----------+----------+
|       users        |    cidr    |  source  | options  |
+--------------------+------------+----------+----------+
|      riakuser      |127.0.0.1/32| password |    []    |
+--------------------+------------+----------+----------+
</code></pre>

<p>You can specify that <em>all</em> users must authenticate themselves via
password when connecting to Riak from <code>localhost</code>:</p>

<pre><code class="language-bash">riak-admin security add-source all 127.0.0.1/32 password
</code></pre>

<p>Or you can specify that any number of specific users must do so:</p>

<pre><code class="language-bash">riak-admin security add-source riakuser 127.0.0.1/32 password
riak-admin security add-source otheruser 127.0.0.1/32 password
</code></pre>

<p>Now, our <code>riakuser</code> must enter a username and password to have any
access to Riak TS. We can check this by using the <code>riak-admin security print-sources</code> command:</p>

<pre><code>+--------------------+------------+----------+----------+
|       users        |    cidr    |  source  | options  |
+--------------------+------------+----------+----------+
|      riakuser      |127.0.0.1/32| password |    []    |
|      otheruser     |127.0.0.1/32| password |    []    |
|        all         |127.0.0.1/32| password |    []    |
+--------------------+------------+----------+----------+
</code></pre>

<h3 id="certificate-based-authentication">Certificate-based Authentication</h3>

<p>This form of authentication (<code>certificate</code>) requires that Riak TS and a
specified client (or clients) interacting with Riak TS have certificates
signed by the same <a href="http://en.wikipedia.org/wiki/Root_certificate">Root Certificate Authority</a>.</p>

<p>Let&rsquo;s specify that our user <code>riakuser</code> is going to be authenticated
using a certificate on <code>localhost</code>:</p>

<pre><code class="language-bash">riak-admin security add-source riakuser 127.0.0.1/32 certificate
</code></pre>

<p>When the <code>certificate</code> source is used, <code>riakuser</code> must also be entered
as the common name, aka <code>CN</code>, that you specified when you generated your
certificate, as in the following OpenSSL example:</p>

<pre><code class="language-bash">openssl req -new ... '/CN=riakuser'
</code></pre>

<p>You can add a <code>certificate</code> source to any number of clients, as long as
their <code>CN</code> and Riak TS username match.</p>

<p>On the server side, you need to configure Riak TS by specifying a path to
your certificates. First, copy all relevant files to your Riak TS cluster.
The default directory for certificates is <code>/etc</code>. You can specify
a different directory in your <code>riak.conf</code> by either uncommenting those lines (if you choose to use the defaults) or setting the paths yourself:</p>

<pre><code class="language-riak.conf">ssl.certfile = /path/to/cert.pem
ssl.keyfile = /path/to/key.pem
ssl.cacertfile = /path/to/cacert.pem
</code></pre>

<p>In the client-side example above, the client&rsquo;s <code>CN</code> and Riak TS username
needed to match. On the server (i.e. Riak TS) side, the <code>CN</code> specified <em>on
each node</em> must match the node&rsquo;s name as registered by Riak TS.</p>

<p>You can find the node&rsquo;s name in <code>riak.conf</code> under the parameter <code>nodename</code>. And so if the <code>nodename</code> for a cluster is <code>riakts-node-1</code>, you would need to generate your certificate with that in mind, as in this OpenSSL example:</p>

<pre><code class="language-bash">openssl req -new ... '/CN=riakts-node-1'
</code></pre>

<p>Once certificates have been generated and configured on all the nodes in your Riak TS cluster, you need to perform a <a href="//evadne.github.io/basho_docs/riak/kv/2.2.0/using/repair-recovery/rolling-restart/">rolling restart</a>. Once that process is complete, you can use the client certificate that you generated for the user <code>riakuser</code>.</p>

<p>How to use Riak TS clients in conjunction with OpenSSL and other
certificates varies from client library to client library. We strongly
recommend checking the documentation of your client library for further
information.</p>

<h3 id="pam-based-authentication">PAM-based Authentication</h3>

<p>This section assumes you have set up a pluggable authentication module (PAM) service bearing the name <code>riak_pam</code>, either by creating a <code>pam.d/riak_pam</code> service definition specifying <code>auth</code> or other PAM services set up to authenticate a user named <code>riakuser</code>.</p>

<p>As in the <a href="#certificate-based-authentication">certificate-based authentication</a> example above, the user&rsquo;s name must be the same in both your authentication module and in Riak TS Security.</p>

<p>If we want the user <code>riakuser</code> to use this PAM service on <code>localhost</code>,
we need to add a <code>pam</code> security source in Riak and specify the name of
the service:</p>

<pre><code class="language-bash">riak-admin security add-source all 127.0.0.1/32 pam service=riak_pam
</code></pre>

<p><strong>Note</strong>: If you do not specify a name for your PAM service, Riak will
use the default, which is <code>riak</code>.</p>

<p>To verify that the source has been properly specified:</p>

<pre><code class="language-bash">riak-admin security print-sources
</code></pre>

<p>That command should output the following:</p>

<pre><code>+--------------------+------------+----------+------------------------+
|       users        |    cidr    |  source  |        options         |
+--------------------+------------+----------+------------------------+
|      riakuser      |127.0.0.1/32|   pam    |[{&quot;service&quot;,&quot;riak_pam&quot;}]|
+--------------------+------------+----------+------------------------+
</code></pre>

<h2 id="delete-source">Delete Source</h2>

<p>If we wish to remove the <code>trust</code> source that we granted to <code>all</code> in the
example above, we can simply use the <code>del-source</code> command and specify
the CIDR.</p>

<pre><code class="language-bash">riak-admin security del-source all 127.0.0.1/32
</code></pre>

<p>Note that this does not require that you specify which type of source is
being deleted. You only need to specify the user(s) or <code>all</code>, because
only one source can be applied to a user or <code>all</code> at any given time.</p>

<p>The following command would remove the source for <code>riakuser</code> on
<code>localhost</code>, regardless of which source is being used:</p>

<pre><code class="language-bash">riak-admin security del-source riakuser 127.0.0.1/32
</code></pre>

<div class="blocknote">
  
    <div class="blocknote__title">Note on Removing Sources</div>
  
  <p>If you apply a security source both to <code>all</code> and to specific
users and then wish to remove that source, you will need to do so in
separate steps. The <code>riak-admin security del-source all ...</code>
command by itself is not sufficient.</p>

<p>For example, if you have assigned the source <code>password</code> to
both <code>all</code> and to the user <code>riakuser</code> on the
network <code>127.0.0.1/32</code>, the following two-step process would
be required to fully remove the source:</p>

<pre><code class="language-bash">riak-admin security del-source all 127.0.0.1/32 password
riak-admin security del-source riakuser 127.0.0.1/32 password
</code></pre>

</div>


<h2 id="security-ciphers">Security Ciphers</h2>

<p>To view a list of currently available security ciphers or change Riak&rsquo;s
preferences, use the <code>ciphers</code> command:</p>

<pre><code class="language-bash">riak-admin security ciphers
</code></pre>

<p>That command by itself will return a large list of available ciphers:</p>

<pre><code>Configured ciphers

ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256: ...

Valid ciphers(35)

ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256: ...

Unknown/Unsupported ciphers(32)

ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256: ...
</code></pre>

<p>To alter the list, i.e. to constrain it and/or to set preferred ciphers
higher in the list:</p>

<pre><code class="language-bash">riak-admin security ciphers DHE-RSA-AES256-SHA:AES128-GCM-SHA256
</code></pre>

<p>The list of configured ciphers should now look like this:</p>

<pre><code>Configured ciphers

DHE-RSA-AES256-SHA:AES128-GCM-SHA256

Valid ciphers(1)

DHE-RSA-AES256-SHA

Unknown/Unsupported ciphers(1)

AES128-GCM-SHA256
</code></pre>

<p>A list of available ciphers on a server can be obtained using the
<code>openssl</code> command:</p>

<pre><code class="language-bash">openssl ciphers
</code></pre>

<p>That should return a list structured like this:</p>

<pre><code>DHE-RSA-AES256-SHA:DHE-DSS-AES256-SHA:AES256-SHA:EDH-RSA-DES-CBC3-SHA: # and so on
</code></pre>

<p>Riak&rsquo;s cipher preferences were taken from <a href="https://wiki.mozilla.org/Security/Server_Side_TLS">Mozilla&rsquo;s Server-Side TLS
documentation</a>.</p>

<h3 id="client-vs-server-cipher-order">Client vs. Server Cipher Order</h3>

<p>By default, Riak TS prefers the cipher order setting, <code>honor_cipher_order</code>, to be set to <code>on</code>. If you prefer, however, that clients&rsquo; preferred cipher
order dictate which cipher is chosen, set <code>honor_cipher_order</code> to <code>off</code>.</p>

<h2 id="enabling-ssl">Enabling SSL</h2>

<p>SSL is disabled by default. In order to use any authentication or authorization features, you must enable SSL for Riak TS.</p>

<p>Enabling SSL on a given node requires you to specify a host and port for the node:</p>

<pre><code class="language-riak.conf">listener.protobuf.$name = {&quot;127.0.0.1&quot;,8087}
</code></pre>

<p>As well as specify a <a href="#certificate-configuration">certification configuration</a>.</p>

<h2 id="tls-settings">TLS Settings</h2>

<p>When using Riak TS security, you can choose which versions of SSL/TLS are
allowed. By default, only TLS 1.2 is allowed, but this version can be
disabled and others enabled by setting the following <a href="//evadne.github.io/basho_docs/riak/kv/2.2.0/configuring/reference/#security">configurable parameters</a> to <code>on</code> or <code>off</code>:</p>

<ul>
<li><code>tls_protocols.tlsv1</code></li>
<li><code>tls_protocols.tlsv1.1</code></li>
<li><code>tls_protocols.tlsv1.2</code></li>
<li><code>tls_protocols.sslv3</code></li>
</ul>

<p>Three things to note:</p>

<ul>
<li>Among the four available options, only TLS version 1.2 is enabled by
default</li>
<li>You can enable more than one protocol at a time</li>
<li>We strongly recommend that you do NOT use SSL version 3 unless
absolutely necessary</li>
</ul>

<h2 id="certificate-configuration">Certificate Configuration</h2>

<p>If you are using any of the available <a href="#available-sources">security sources</a>, including <a href="#trust-based-authentication">trust-based authentication</a>, you will need to do so
over a secure SSL connection.</p>

<p>In order to establish a secure connection, ensure that each Riak TS node&rsquo;s configuration files point to the proper paths for your generated certs. By default, Riak TS assumes that all certs are stored in each node&rsquo;s <code>/etc</code> directory.</p>

<p>If you are using the newer, <code>riak.conf</code>-based configuration system, you
can change the location of the <code>/etc</code> directory by modifying the
<code>platform_etc_dir</code>:</p>

<table class="riak-conf">
  <thead>
    <tr>
      <th>Type</th>
      <th>Parameter</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Signing authority</strong></td>
      <td><code>ssl.cacertfile</code></td>
      <td><code>#(platform_etc_dir)/cacertfile.pem</code></td>
    </tr>
    <tr>
      <td><strong>Cert</strong></td>
      <td><code>ssl.certfile</code></td>
      <td><code>#(platform_etc_dir)/cert.pem</code></td>
    </tr>
    <tr>
      <td><strong>Key file</strong></td>
      <td><code>ssl.keyfile</code></td>
      <td><code>#(platform_etc_dir)/key.pem</code></td>
    </tr>
  </tbody>
</table>

<h2 id="referer-checks-and-certificate-revocation-lists">Referer Checks and Certificate Revocation Lists</h2>

<p>In order to provide safeguards against
<a href="http://en.wikipedia.org/wiki/Cross-site_scripting">cross-site-scripting</a> (XSS) and <a href="http://en.wikipedia.org/wiki/Cross-site_request_forgery">request-forgery</a>
attacks, Riak TS performs <a href="http://en.wikipedia.org/wiki/HTTP_referer">secure referer checks</a> by default. Those checks make it impossible to serve data directly from Riak TS. To disable those checks, set the <code>secure_referer_check</code> parameter to <code>off</code>.</p>

<p>If you are using <a href="#certificate-based-authentication">certificate-based authentication</a>, Riak TS will check the certificate revocation list (CRL) of connecting clients&rsquo; certificate by default. To disable this behavior, set the <code>check_crl</code> parameter to
<code>off</code>.</p>

<h2 id="how-sources-are-applied">How Sources Are Applied</h2>

<p>When managing security sources&mdash;any of the sources explained
above&mdash;you always have the option of applying a source to either a
single user, multiple users, or all users (<code>all</code>). If specific users and
<code>all</code> have no sources in common, this presents no difficulty. But what
happens if one source is applied to <code>all</code> and a different source is
applied to a specific user?</p>

<p>The more-specifically assigned source (i.e. the source applied to the user) will be considered a user&rsquo;s security source. We&rsquo;ll illustrate
that with the following example, in which the <code>certificate</code> source is
assigned to <code>all</code>, but the <code>password</code> source is assigned to <code>riakuser</code>:</p>

<pre><code class="language-bash">riak-admin security add-source all 127.0.0.1/32 certificate
riak-admin security add-source riakuser 127.0.0.1/32 password
</code></pre>

<p>If we run <code>riak-admin security print-sources</code>, we&rsquo;ll get the following
output:</p>

<pre><code>+--------------------+------------+-----------+----------+
|       users        |    cidr    |  source   | options  |
+--------------------+------------+-----------+----------+
|      riakuser      |127.0.0.1/32| password  |    []    |
|                    |127.0.0.1/32|certificate|    []    |
|        all         |127.0.0.1/32|certificate|    []    |
+--------------------+------------+-----------+----------+
</code></pre>

<p>As we can see, <code>password</code> is set as the security source for <code>riakuser</code>,
whereas everyone else will authenticate using <code>certificate</code>.</p>

      </main>


    </article>


    <footer class="footer">

  <div class="inline-block   footer__attributions">

    <p>
      This work is licensed under a
      <br class="[bs] hidden-md-up">
      <a href="http://creativecommons.org/licenses/by/4.0/" target="_blank">
        Creative Commons Attribution 4.0 <br class="[bs] hidden-sm-up"> International Public License
      </a>
    </p>

    <p>
      © 2011-2017&nbsp;<a href="http://www.basho.com">Basho Technologies, Inc.</a>
    </p>

  </div>

</footer>



  </div>


  <script src="//evadne.github.io/basho_docs/js/main.js" type="text/javascript"></script>

</body>
</html>
